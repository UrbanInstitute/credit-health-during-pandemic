!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.d3=t.d3||{})}(this,function(G){"use strict";function s(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function M(o){var n;return 1===o.length&&(n=o,o=function(t,e){return s(n(t),e)}),{left:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;o(t[i],e)<0?n=i+1:r=i}return n},right:function(t,e,n,r){for(null==n&&(n=0),null==r&&(r=t.length);n<r;){var i=n+r>>>1;0<o(t[i],e)?r=i:n=i+1}return n}}}var t=M(s),g=t.right,e=t.left;function c(t,e){return[t,e]}function l(t){return null===t?NaN:+t}function r(t,e){var n,r,i=t.length,o=0,a=-1,s=0,u=0;if(null==e)for(;++a<i;)isNaN(n=l(t[a]))||(u+=(r=n-s)*(n-(s+=r/++o)));else for(;++a<i;)isNaN(n=l(e(t[a],a,t)))||(u+=(r=n-s)*(n-(s+=r/++o)));if(1<o)return u/(o-1)}function i(t,e){var n=r(t,e);return n?Math.sqrt(n):n}function n(t,e){var n,r,i,o=t.length,a=-1;if(null==e){for(;++a<o;)if(null!=(n=t[a])&&n<=n)for(r=i=n;++a<o;)null!=(n=t[a])&&(n<r&&(r=n),i<n&&(i=n))}else for(;++a<o;)if(null!=(n=e(t[a],a,t))&&n<=n)for(r=i=n;++a<o;)null!=(n=e(t[a],a,t))&&(n<r&&(r=n),i<n&&(i=n));return[r,i]}var o=Array.prototype,a=o.slice,u=o.map;function f(t){return function(){return t}}function v(t){return t}function C(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=0|Math.max(0,Math.ceil((e-t)/n)),o=new Array(i);++r<i;)o[r]=t+r*n;return o}var h=Math.sqrt(50),d=Math.sqrt(10),p=Math.sqrt(2);function y(t,e,n){var r,i,o,a,s=-1;if(n=+n,(t=+t)===(e=+e)&&0<n)return[t];if((r=e<t)&&(i=t,t=e,e=i),0===(a=m(t,e,n))||!isFinite(a))return[];if(0<a)for(t=Math.ceil(t/a),e=Math.floor(e/a),o=new Array(i=Math.ceil(e-t+1));++s<i;)o[s]=(t+s)*a;else for(t=Math.floor(t*a),e=Math.ceil(e*a),o=new Array(i=Math.ceil(t-e+1));++s<i;)o[s]=(t-s)/a;return r&&o.reverse(),o}function m(t,e,n){var r=(e-t)/Math.max(0,n),i=Math.floor(Math.log(r)/Math.LN10),o=r/Math.pow(10,i);return 0<=i?(h<=o?10:d<=o?5:p<=o?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(h<=o?10:d<=o?5:p<=o?2:1)}function T(t,e,n){var r=Math.abs(e-t)/Math.max(0,n),i=Math.pow(10,Math.floor(Math.log(r)/Math.LN10)),o=r/i;return h<=o?i*=10:d<=o?i*=5:p<=o&&(i*=2),e<t?-i:i}function _(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function x(t,e,n){if(null==n&&(n=l),r=t.length){if((e=+e)<=0||r<2)return+n(t[0],0,t);if(1<=e)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t);return a+(+n(t[o+1],o+1,t)-a)*(i-o)}}function S(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);0<=--i;)for(e=(r=t[i]).length;0<=--e;)n[--a]=r[e];return n}function E(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&n<r&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&n<r&&(r=n);return r}function b(t){if(!(i=t.length))return[];for(var e=-1,n=E(t,w),r=new Array(n);++e<n;)for(var i,o=-1,a=r[e]=new Array(i);++o<i;)a[o]=t[o][e];return r}function w(t){return t.length}var A=Array.prototype.slice;function D(t){return t}var L=1,N=2,k=3,O=4,$=1e-6;function F(t){return"translate("+(t+.5)+",0)"}function P(t){return"translate(0,"+(t+.5)+")"}function I(){return!this.__axis}function U(g,v){var y=[],m=null,_=null,x=6,E=6,b=3,w=g===L||g===O?-1:1,M=g===O||g===N?"x":"y",C=g===L||g===k?F:P;function e(t){var e=null==m?v.ticks?v.ticks.apply(v,y):v.domain():m,n=null==_?v.tickFormat?v.tickFormat.apply(v,y):D:_,r=Math.max(x,0)+b,i=v.range(),o=+i[0]+.5,a=+i[i.length-1]+.5,s=(v.bandwidth?function(e){var n=Math.max(0,e.bandwidth()-1)/2;return e.round()&&(n=Math.round(n)),function(t){return+e(t)+n}}:function(e){return function(t){return+e(t)}})(v.copy()),u=t.selection?t.selection():t,l=u.selectAll(".domain").data([null]),c=u.selectAll(".tick").data(e,v).order(),f=c.exit(),h=c.enter().append("g").attr("class","tick"),d=c.select("line"),p=c.select("text");l=l.merge(l.enter().insert("path",".tick").attr("class","domain").attr("stroke","#000")),c=c.merge(h),d=d.merge(h.append("line").attr("stroke","#000").attr(M+"2",w*x)),p=p.merge(h.append("text").attr("fill","#000").attr(M,w*r).attr("dy",g===L?"0em":g===k?"0.71em":"0.32em")),t!==u&&(l=l.transition(t),c=c.transition(t),d=d.transition(t),p=p.transition(t),f=f.transition(t).attr("opacity",$).attr("transform",function(t){return isFinite(t=s(t))?C(t):this.getAttribute("transform")}),h.attr("opacity",$).attr("transform",function(t){var e=this.parentNode.__axis;return C(e&&isFinite(e=e(t))?e:s(t))})),f.remove(),l.attr("d",g===O||g==N?"M"+w*E+","+o+"H0.5V"+a+"H"+w*E:"M"+o+","+w*E+"V0.5H"+a+"V"+w*E),c.attr("opacity",1).attr("transform",function(t){return C(s(t))}),d.attr(M+"2",w*x),p.attr(M,w*r).text(n),u.filter(I).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",g===N?"start":g===O?"end":"middle"),u.each(function(){this.__axis=s})}return e.scale=function(t){return arguments.length?(v=t,e):v},e.ticks=function(){return y=A.call(arguments),e},e.tickArguments=function(t){return arguments.length?(y=null==t?[]:A.call(t),e):y.slice()},e.tickValues=function(t){return arguments.length?(m=null==t?null:A.call(t),e):m&&m.slice()},e.tickFormat=function(t){return arguments.length?(_=t,e):_},e.tickSize=function(t){return arguments.length?(x=E=+t,e):x},e.tickSizeInner=function(t){return arguments.length?(x=+t,e):x},e.tickSizeOuter=function(t){return arguments.length?(E=+t,e):E},e.tickPadding=function(t){return arguments.length?(b=+t,e):b},e}var R={value:function(){}};function H(){for(var t,e=0,n=arguments.length,r={};e<n;++e){if(!(t=arguments[e]+"")||t in r)throw new Error("illegal type: "+t);r[t]=[]}return new z(r)}function z(t){this._=t}function q(t,e){for(var n,r=0,i=t.length;r<i;++r)if((n=t[r]).name===e)return n.value}function B(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=R,t=t.slice(0,r).concat(t.slice(r+1));break}return null!=n&&t.push({name:e,value:n}),t}z.prototype=H.prototype={constructor:z,on:function(t,e){var n,r,i=this._,o=(r=i,(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");if(0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),t&&!r.hasOwnProperty(t))throw new Error("unknown type: "+t);return{type:t,name:e}})),a=-1,s=o.length;if(!(arguments.length<2)){if(null!=e&&"function"!=typeof e)throw new Error("invalid callback: "+e);for(;++a<s;)if(n=(t=o[a]).type)i[n]=B(i[n],t.name,e);else if(null==e)for(n in i)i[n]=B(i[n],t.name,null);return this}for(;++a<s;)if((n=(t=o[a]).type)&&(n=q(i[n],t.name)))return n},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new z(t)},call:function(t,e){if(0<(n=arguments.length-2))for(var n,r,i=new Array(n),o=0;o<n;++o)i[o]=arguments[o+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=0,n=(r=this._[t]).length;o<n;++o)r[o].value.apply(e,i)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};var j="http://www.w3.org/1999/xhtml",Y={svg:"http://www.w3.org/2000/svg",xhtml:j,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function V(t){var e=t+="",n=e.indexOf(":");return 0<=n&&"xmlns"!==(e=t.slice(0,n))&&(t=t.slice(n+1)),Y.hasOwnProperty(e)?{space:Y[e],local:t}:t}function W(t){var e=V(t);return(e.local?function(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}:function(n){return function(){var t=this.ownerDocument,e=this.namespaceURI;return e===j&&t.documentElement.namespaceURI===j?t.createElement(n):t.createElementNS(e,n)}})(e)}function X(){}function K(t){return null==t?X:function(){return this.querySelector(t)}}function Z(){return[]}function Q(t){return null==t?Z:function(){return this.querySelectorAll(t)}}var J=function(t){return function(){return this.matches(t)}};if("undefined"!=typeof document){var tt=document.documentElement;if(!tt.matches){var et=tt.webkitMatchesSelector||tt.msMatchesSelector||tt.mozMatchesSelector||tt.oMatchesSelector;J=function(t){return function(){return et.call(this,t)}}}}var nt=J;function rt(t){return new Array(t.length)}function it(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}it.prototype={constructor:it,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ot="$";function at(t,e,n,r,i,o){for(var a,s=0,u=e.length,l=o.length;s<l;++s)(a=e[s])?(a.__data__=o[s],r[s]=a):n[s]=new it(t,o[s]);for(;s<u;++s)(a=e[s])&&(i[s]=a)}function st(t,e,n,r,i,o,a){var s,u,l,c={},f=e.length,h=o.length,d=new Array(f);for(s=0;s<f;++s)(u=e[s])&&(d[s]=l=ot+a.call(u,u.__data__,s,e),l in c?i[s]=u:c[l]=u);for(s=0;s<h;++s)(u=c[l=ot+a.call(t,o[s],s,o)])?((r[s]=u).__data__=o[s],c[l]=null):n[s]=new it(t,o[s]);for(s=0;s<f;++s)(u=e[s])&&c[d[s]]===u&&(i[s]=u)}function ut(t,e){return t<e?-1:e<t?1:e<=t?0:NaN}function lt(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function ct(t,e){return t.style.getPropertyValue(e)||lt(t).getComputedStyle(t,null).getPropertyValue(e)}function ft(t){return t.trim().split(/^|\s+/)}function ht(t){return t.classList||new dt(t)}function dt(t){this._node=t,this._names=ft(t.getAttribute("class")||"")}function pt(t,e){for(var n=ht(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function gt(t,e){for(var n=ht(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function vt(){this.textContent=""}function yt(){this.innerHTML=""}function mt(){this.nextSibling&&this.parentNode.appendChild(this)}function _t(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function xt(){return null}function Et(){var t=this.parentNode;t&&t.removeChild(this)}function bt(){return this.parentNode.insertBefore(this.cloneNode(!1),this.nextSibling)}function wt(){return this.parentNode.insertBefore(this.cloneNode(!0),this.nextSibling)}dt.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);0<=e&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return 0<=this._names.indexOf(t)}};var Mt={};(G.event=null,"undefined"!=typeof document)&&("onmouseenter"in document.documentElement||(Mt={mouseenter:"mouseover",mouseleave:"mouseout"}));function Ct(n,t,e){return n=Tt(n,t,e),function(t){var e=t.relatedTarget;e&&(e===this||8&e.compareDocumentPosition(this))||n.call(this,t)}}function Tt(n,r,i){return function(t){var e=G.event;G.event=t;try{n.call(this,this.__data__,r,i)}finally{G.event=e}}}function St(o){return function(){var t=this.__on;if(t){for(var e,n=0,r=-1,i=t.length;n<i;++n)e=t[n],o.type&&e.type!==o.type||e.name!==o.name?t[++r]=e:this.removeEventListener(e.type,e.listener,e.capture);++r?t.length=r:delete this.__on}}}function At(u,l,c){var f=Mt.hasOwnProperty(u.type)?Ct:Tt;return function(t,e,n){var r,i=this.__on,o=f(l,e,n);if(i)for(var a=0,s=i.length;a<s;++a)if((r=i[a]).type===u.type&&r.name===u.name)return this.removeEventListener(r.type,r.listener,r.capture),this.addEventListener(r.type,r.listener=o,r.capture=c),void(r.value=l);this.addEventListener(u.type,o,c),r={type:u.type,name:u.name,value:l,listener:o,capture:c},i?i.push(r):this.__on=[r]}}function Dt(t,e,n,r){var i=G.event;t.sourceEvent=G.event,G.event=t;try{return e.apply(n,r)}finally{G.event=i}}function Lt(t,e,n){var r=lt(t),i=r.CustomEvent;"function"==typeof i?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}var Nt=[null];function kt(t,e){this._groups=t,this._parents=e}function Ot(){return new kt([[document.documentElement]],Nt)}function $t(t){return"string"==typeof t?new kt([[document.querySelector(t)]],[document.documentElement]):new kt([[t]],Nt)}kt.prototype=Ot.prototype={constructor:kt,select:function(t){"function"!=typeof t&&(t=K(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a,s=e[i],u=s.length,l=r[i]=new Array(u),c=0;c<u;++c)(o=s[c])&&(a=t.call(o,o.__data__,c,s))&&("__data__"in o&&(a.__data__=o.__data__),l[c]=a);return new kt(r,this._parents)},selectAll:function(t){"function"!=typeof t&&(t=Q(t));for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a,s=e[o],u=s.length,l=0;l<u;++l)(a=s[l])&&(r.push(t.call(a,a.__data__,l,s)),i.push(a));return new kt(r,i)},filter:function(t){"function"!=typeof t&&(t=nt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new kt(r,this._parents)},data:function(t,e){if(!t)return p=new Array(this.size()),c=-1,this.each(function(t){p[++c]=t}),p;var n,r=e?st:at,i=this._parents,o=this._groups;"function"!=typeof t&&(n=t,t=function(){return n});for(var a=o.length,s=new Array(a),u=new Array(a),l=new Array(a),c=0;c<a;++c){var f=i[c],h=o[c],d=h.length,p=t.call(f,f&&f.__data__,c,i),g=p.length,v=u[c]=new Array(g),y=s[c]=new Array(g);r(f,h,v,y,l[c]=new Array(d),p,e);for(var m,_,x=0,E=0;x<g;++x)if(m=v[x]){for(E<=x&&(E=x+1);!(_=y[E])&&++E<g;);m._next=_||null}}return(s=new kt(s,i))._enter=u,s._exit=l,s},enter:function(){return new kt(this._enter||this._groups.map(rt),this._parents)},exit:function(){return new kt(this._exit||this._groups.map(rt),this._parents)},merge:function(t){for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new kt(a,this._parents)},order:function(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r,i=t[e],o=i.length-1,a=i[o];0<=--o;)(r=i[o])&&(a&&a!==r.nextSibling&&a.parentNode.insertBefore(r,a),a=r);return this},sort:function(n){function t(t,e){return t&&e?n(t.__data__,e.__data__):!t-!e}n||(n=ut);for(var e=this._groups,r=e.length,i=new Array(r),o=0;o<r;++o){for(var a,s=e[o],u=s.length,l=i[o]=new Array(u),c=0;c<u;++c)(a=s[c])&&(l[c]=a);l.sort(t)}return new kt(i,this._parents).order()},call:function(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function(){var t=new Array(this.size()),e=-1;return this.each(function(){t[++e]=this}),t},node:function(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null},size:function(){var t=0;return this.each(function(){++t}),t},empty:function(){return!this.node()},each:function(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i,o=e[n],a=0,s=o.length;a<s;++a)(i=o[a])&&t.call(i,i.__data__,a,o);return this},attr:function(t,e){var n=V(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((null==e?n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}}:"function"==typeof e?n.local?function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}}:function(e,n){return function(){var t=n.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}}:n.local?function(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}:function(t,e){return function(){this.setAttribute(t,e)}})(n,e))},style:function(t,e,n){return 1<arguments.length?this.each((null==e?function(t){return function(){this.style.removeProperty(t)}}:"function"==typeof e?function(e,n,r){return function(){var t=n.apply(this,arguments);null==t?this.style.removeProperty(e):this.style.setProperty(e,t,r)}}:function(t,e,n){return function(){this.style.setProperty(t,e,n)}})(t,e,null==n?"":n)):ct(this.node(),t)},property:function(t,e){return 1<arguments.length?this.each((null==e?function(t){return function(){delete this[t]}}:"function"==typeof e?function(e,n){return function(){var t=n.apply(this,arguments);null==t?delete this[e]:this[e]=t}}:function(t,e){return function(){this[t]=e}})(t,e)):this.node()[t]},classed:function(t,e){var n=ft(t+"");if(arguments.length<2){for(var r=ht(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each(("function"==typeof e?function(t,e){return function(){(e.apply(this,arguments)?pt:gt)(this,t)}}:e?function(t){return function(){pt(this,t)}}:function(t){return function(){gt(this,t)}})(n,e))},text:function(t){return arguments.length?this.each(null==t?vt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}}:function(t){return function(){this.textContent=t}})(t)):this.node().textContent},html:function(t){return arguments.length?this.each(null==t?yt:("function"==typeof t?function(e){return function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}}:function(t){return function(){this.innerHTML=t}})(t)):this.node().innerHTML},raise:function(){return this.each(mt)},lower:function(){return this.each(_t)},append:function(t){var e="function"==typeof t?t:W(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})},insert:function(t,e){var n="function"==typeof t?t:W(t),r=null==e?xt:"function"==typeof e?e:K(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})},remove:function(){return this.each(Et)},clone:function(t){return this.select(t?wt:bt)},datum:function(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function(t,e,n){var r,i,o=(t+"").trim().split(/^|\s+/).map(function(t){var e="",n=t.indexOf(".");return 0<=n&&(e=t.slice(n+1),t=t.slice(0,n)),{type:t,name:e}}),a=o.length;if(!(arguments.length<2)){for(s=e?At:St,null==n&&(n=!1),r=0;r<a;++r)this.each(s(o[r],e,n));return this}var s=this.node().__on;if(s)for(var u,l=0,c=s.length;l<c;++l)for(r=0,u=s[l];r<a;++r)if((i=o[r]).type===u.type&&i.name===u.name)return u.value},dispatch:function(t,e){return this.each(("function"==typeof e?function(t,e){return function(){return Lt(this,t,e.apply(this,arguments))}}:function(t,e){return function(){return Lt(this,t,e)}})(t,e))}};var Ft=0;function Pt(){return new It}function It(){this._="@"+(++Ft).toString(36)}function Ut(){for(var t,e=G.event;t=e.sourceEvent;)e=t;return e}function Rt(t,e){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,[(r=r.matrixTransform(t.getScreenCTM().inverse())).x,r.y]}var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}function Gt(t){var e=Ut();return e.changedTouches&&(e=e.changedTouches[0]),Rt(t,e)}function Ht(t,e,n){arguments.length<3&&(n=e,e=Ut().changedTouches);for(var r,i=0,o=e?e.length:0;i<o;++i)if((r=e[i]).identifier===n)return Rt(t,r);return null}function zt(){G.event.stopImmediatePropagation()}function qt(){G.event.preventDefault(),G.event.stopImmediatePropagation()}function Bt(t){var e=t.document.documentElement,n=$t(t).on("dragstart.drag",qt,!0);"onselectstart"in e?n.on("selectstart.drag",qt,!0):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function jt(t,e){var n=t.document.documentElement,r=$t(t).on("dragstart.drag",null);e&&(r.on("click.drag",qt,!0),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Yt(t){return function(){return t}}function Vt(t,e,n,r,i,o,a,s,u,l){this.target=t,this.type=e,this.subject=n,this.identifier=r,this.active=i,this.x=o,this.y=a,this.dx=s,this.dy=u,this._=l}function Wt(){return!G.event.button}function Xt(){return this.parentNode}function Kt(t){return null==t?{x:G.event.x,y:G.event.y}:t}function Zt(){return"ontouchstart"in this}function Qt(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Jt(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function te(){}It.prototype=Pt.prototype={constructor:It,get:function(t){for(var e=this._;!(e in t);)if(!(t=t.parentNode))return;return t[e]},set:function(t,e){return t[this._]=e},remove:function(t){return this._ in t&&delete t[this._]},toString:function(){return this._}},Vt.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};var ee=1/.7,ne="\\s*([+-]?\\d+)\\s*",re="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",ie="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",oe=/^#([0-9a-f]{3})$/,ae=/^#([0-9a-f]{6})$/,se=new RegExp("^rgb\\("+[ne,ne,ne]+"\\)$"),ue=new RegExp("^rgb\\("+[ie,ie,ie]+"\\)$"),le=new RegExp("^rgba\\("+[ne,ne,ne,re]+"\\)$"),ce=new RegExp("^rgba\\("+[ie,ie,ie,re]+"\\)$"),fe=new RegExp("^hsl\\("+[re,ie,ie]+"\\)$"),he=new RegExp("^hsla\\("+[re,ie,ie,re]+"\\)$"),de={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function pe(t){var e;return t=(t+"").trim().toLowerCase(),(e=oe.exec(t))?new _e((e=parseInt(e[1],16))>>8&15|e>>4&240,e>>4&15|240&e,(15&e)<<4|15&e,1):(e=ae.exec(t))?ge(parseInt(e[1],16)):(e=se.exec(t))?new _e(e[1],e[2],e[3],1):(e=ue.exec(t))?new _e(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=le.exec(t))?ve(e[1],e[2],e[3],e[4]):(e=ce.exec(t))?ve(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=fe.exec(t))?xe(e[1],e[2]/100,e[3]/100,1):(e=he.exec(t))?xe(e[1],e[2]/100,e[3]/100,e[4]):de.hasOwnProperty(t)?ge(de[t]):"transparent"===t?new _e(NaN,NaN,NaN,0):null}function ge(t){return new _e(t>>16&255,t>>8&255,255&t,1)}function ve(t,e,n,r){return r<=0&&(t=e=n=NaN),new _e(t,e,n,r)}function ye(t){return t instanceof te||(t=pe(t)),t?new _e((t=t.rgb()).r,t.g,t.b,t.opacity):new _e}function me(t,e,n,r){return 1===arguments.length?ye(t):new _e(t,e,n,null==r?1:r)}function _e(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}function xe(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||1<=n?t=e=NaN:e<=0&&(t=NaN),new be(t,e,n,r)}function Ee(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof be)return new be(t.h,t.s,t.l,t.opacity);if(t instanceof te||(t=pe(t)),!t)return new be;if(t instanceof be)return t;var e=(t=t.rgb()).r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,s=o-i,u=(o+i)/2;return s?(a=e===o?(n-r)/s+6*(n<r):n===o?(r-e)/s+2:(e-n)/s+4,s/=u<.5?o+i:2-o-i,a*=60):s=0<u&&u<1?0:a,new be(a,s,u,t.opacity)}(t):new be(t,e,n,null==r?1:r)}function be(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function we(t,e,n){return 255*(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)}Qt(te,pe,{displayable:function(){return this.rgb().displayable()},toString:function(){return this.rgb()+""}}),Qt(_e,me,Jt(te,{brighter:function(t){return t=null==t?ee:Math.pow(ee,t),new _e(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new _e(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return 0<=this.r&&this.r<=255&&0<=this.g&&this.g<=255&&0<=this.b&&this.b<=255&&0<=this.opacity&&this.opacity<=1},toString:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?")":", "+t+")")}})),Qt(be,Ee,Jt(te,{brighter:function(t){return t=null==t?ee:Math.pow(ee,t),new be(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new be(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h<0),e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new _e(we(240<=t?t-240:t+120,i,r),we(t,i,r),we(t<120?t+240:t-120,i,r),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1}}));var Me=Math.PI/180,Ce=180/Math.PI,Te=.95047,Se=1,Ae=1.08883,De=4/29,Le=6/29,Ne=3*Le*Le,ke=Le*Le*Le;function Oe(t){if(t instanceof Fe)return new Fe(t.l,t.a,t.b,t.opacity);if(t instanceof He){var e=t.h*Me;return new Fe(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}t instanceof _e||(t=ye(t));var n=Re(t.r),r=Re(t.g),i=Re(t.b),o=Pe((.4124564*n+.3575761*r+.1804375*i)/Te),a=Pe((.2126729*n+.7151522*r+.072175*i)/Se);return new Fe(116*a-16,500*(o-a),200*(a-Pe((.0193339*n+.119192*r+.9503041*i)/Ae)),t.opacity)}function $e(t,e,n,r){return 1===arguments.length?Oe(t):new Fe(t,e,n,null==r?1:r)}function Fe(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}function Pe(t){return ke<t?Math.pow(t,1/3):t/Ne+De}function Ie(t){return Le<t?t*t*t:Ne*(t-De)}function Ue(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Re(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ge(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof He)return new He(t.h,t.c,t.l,t.opacity);t instanceof Fe||(t=Oe(t));var e=Math.atan2(t.b,t.a)*Ce;return new He(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}(t):new He(t,e,n,null==r?1:r)}function He(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}Qt(Fe,$e,Jt(te,{brighter:function(t){return new Fe(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new Fe(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return t=Se*Ie(t),new _e(Ue(3.2404542*(e=Te*Ie(e))-1.5371385*t-.4985314*(n=Ae*Ie(n))),Ue(-.969266*e+1.8760108*t+.041556*n),Ue(.0556434*e-.2040259*t+1.0572252*n),this.opacity)}})),Qt(He,Ge,Jt(te,{brighter:function(t){return new He(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new He(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return Oe(this).rgb()}}));var ze=1.78277,qe=-.29227,Be=-.90649,je=1.97294,Ye=je*Be,Ve=je*ze,We=ze*qe- -.14861*Be;function Xe(t,e,n,r){return 1===arguments.length?function(t){if(t instanceof Ke)return new Ke(t.h,t.s,t.l,t.opacity);t instanceof _e||(t=ye(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(We*r+Ye*e-Ve*n)/(We+Ye-Ve),o=r-i,a=(je*(n-i)-qe*o)/Be,s=Math.sqrt(a*a+o*o)/(je*i*(1-i)),u=s?Math.atan2(a,o)*Ce-120:NaN;return new Ke(u<0?u+360:u,s,i,t.opacity)}(t):new Ke(t,e,n,null==r?1:r)}function Ke(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}function Ze(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function Qe(a){var s=a.length-1;return function(t){var e=t<=0?t=0:1<=t?s-(t=1):Math.floor(t*s),n=a[e],r=a[e+1],i=0<e?a[e-1]:2*n-r,o=e<s-1?a[e+2]:2*r-n;return Ze((t-e/s)*s,i,n,r,o)}}function Je(a){var s=a.length;return function(t){var e=Math.floor(((t%=1)<0?++t:t)*s),n=a[(e+s-1)%s],r=a[e%s],i=a[(e+1)%s],o=a[(e+2)%s];return Ze((t-e/s)*s,n,r,i,o)}}function tn(t){return function(){return t}}function en(e,n){return function(t){return e+t*n}}function nn(t,e){var n=e-t;return n?en(t,180<n||n<-180?n-360*Math.round(n/360):n):tn(isNaN(t)?e:t)}function rn(o){return 1==(o=+o)?on:function(t,e){return e-t?(n=t,r=e,i=o,n=Math.pow(n,i),r=Math.pow(r,i)-n,i=1/i,function(t){return Math.pow(n+t*r,i)}):tn(isNaN(t)?e:t);var n,r,i}}function on(t,e){var n=e-t;return n?en(t,n):tn(isNaN(t)?e:t)}Qt(Ke,Xe,Jt(te,{brighter:function(t){return t=null==t?ee:Math.pow(ee,t),new Ke(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new Ke(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*Me,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new _e(255*(e+n*(-.14861*r+ze*i)),255*(e+n*(qe*r+Be*i)),255*(e+n*(je*r)),this.opacity)}}));var an=function t(e){var a=rn(e);function n(e,t){var n=a((e=me(e)).r,(t=me(t)).r),r=a(e.g,t.g),i=a(e.b,t.b),o=on(e.opacity,t.opacity);return function(t){return e.r=n(t),e.g=r(t),e.b=i(t),e.opacity=o(t),e+""}}return n.gamma=t,n}(1);function sn(s){return function(t){var e,n,r=t.length,i=new Array(r),o=new Array(r),a=new Array(r);for(e=0;e<r;++e)n=me(t[e]),i[e]=n.r||0,o[e]=n.g||0,a[e]=n.b||0;return i=s(i),o=s(o),a=s(a),n.opacity=1,function(t){return n.r=i(t),n.g=o(t),n.b=a(t),n+""}}}var un=sn(Qe),ln=sn(Je);function cn(t,e){var n,r=e?e.length:0,i=t?Math.min(r,t.length):0,o=new Array(i),a=new Array(r);for(n=0;n<i;++n)o[n]=yn(t[n],e[n]);for(;n<r;++n)a[n]=e[n];return function(t){for(n=0;n<i;++n)a[n]=o[n](t);return a}}function fn(e,n){var r=new Date;return n-=e=+e,function(t){return r.setTime(e+n*t),r}}function hn(e,n){return n-=e=+e,function(t){return e+n*t}}function dn(t,e){var n,r={},i={};for(n in null!==t&&"object"==typeof t||(t={}),null!==e&&"object"==typeof e||(e={}),e)n in t?r[n]=yn(t[n],e[n]):i[n]=e[n];return function(t){for(n in r)i[n]=r[n](t);return i}}var pn=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,gn=new RegExp(pn.source,"g");function vn(t,r){var e,n,i,o,a,s=pn.lastIndex=gn.lastIndex=0,u=-1,l=[],c=[];for(t+="",r+="";(e=pn.exec(t))&&(n=gn.exec(r));)(i=n.index)>s&&(i=r.slice(s,i),l[u]?l[u]+=i:l[++u]=i),(e=e[0])===(n=n[0])?l[u]?l[u]+=n:l[++u]=n:(l[++u]=null,c.push({i:u,x:hn(e,n)})),s=gn.lastIndex;return s<r.length&&(i=r.slice(s),l[u]?l[u]+=i:l[++u]=i),l.length<2?c[0]?(a=c[0].x,function(t){return a(t)+""}):(o=r,function(){return o}):(r=c.length,function(t){for(var e,n=0;n<r;++n)l[(e=c[n]).i]=e.x(t);return l.join("")})}function yn(t,e){var n,r=typeof e;return null==e||"boolean"===r?tn(e):("number"===r?hn:"string"===r?(n=pe(e))?(e=n,an):vn:e instanceof pe?an:e instanceof Date?fn:Array.isArray(e)?cn:"function"!=typeof e.valueOf&&"function"!=typeof e.toString||isNaN(e)?dn:hn)(t,e)}function mn(e,n){return n-=e=+e,function(t){return Math.round(e+n*t)}}var _n,xn,En,bn,wn=180/Math.PI,Mn={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Cn(t,e,n,r,i,o){var a,s,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(s=Math.sqrt(n*n+r*r))&&(n/=s,r/=s,u/=s),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*wn,skewX:Math.atan(u)*wn,scaleX:a,scaleY:s}}function Tn(h,d,p,g){function v(t){return t.length?t.pop()+" ":""}return function(t,e){var n,r,i,o,a,s,u,l,c=[],f=[];return t=h(t),e=h(e),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push("translate(",null,d,null,p);o.push({i:a-4,x:hn(t,n)},{i:a-2,x:hn(e,r)})}else(n||r)&&i.push("translate("+n+d+r+p)}(t.translateX,t.translateY,e.translateX,e.translateY,c,f),n=t.rotate,r=e.rotate,i=c,o=f,n!==r?(180<n-r?r+=360:180<r-n&&(n+=360),o.push({i:i.push(v(i)+"rotate(",null,g)-2,x:hn(n,r)})):r&&i.push(v(i)+"rotate("+r+g),a=t.skewX,s=e.skewX,u=c,l=f,a!==s?l.push({i:u.push(v(u)+"skewX(",null,g)-2,x:hn(a,s)}):s&&u.push(v(u)+"skewX("+s+g),function(t,e,n,r,i,o){if(t!==n||e!==r){var a=i.push(v(i)+"scale(",null,",",null,")");o.push({i:a-4,x:hn(t,n)},{i:a-2,x:hn(e,r)})}else 1===n&&1===r||i.push(v(i)+"scale("+n+","+r+")")}(t.scaleX,t.scaleY,e.scaleX,e.scaleY,c,f),t=e=null,function(t){for(var e,n=-1,r=f.length;++n<r;)c[(e=f[n]).i]=e.x(t);return c.join("")}}}var Sn=Tn(function(t){return"none"===t?Mn:(_n||(_n=document.createElement("DIV"),xn=document.documentElement,En=document.defaultView),_n.style.transform=t,t=En.getComputedStyle(xn.appendChild(_n),null).getPropertyValue("transform"),xn.removeChild(_n),Cn(+(t=t.slice(7,-1).split(","))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))},"px, ","px)","deg)"),An=Tn(function(t){return null==t?Mn:(bn||(bn=document.createElementNS("http://www.w3.org/2000/svg","g")),bn.setAttribute("transform",t),(t=bn.transform.baseVal.consolidate())?Cn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):Mn)},", ",")",")"),Dn=Math.SQRT2,Ln=2,Nn=4,kn=1e-12;function On(t){return((t=Math.exp(t))+1/t)/2}function $n(t,e){var n,a,s=t[0],u=t[1],l=t[2],r=e[0],i=e[1],o=e[2],c=r-s,f=i-u,h=c*c+f*f;if(h<kn)a=Math.log(o/l)/Dn,n=function(t){return[s+t*c,u+t*f,l*Math.exp(Dn*t*a)]};else{var d=Math.sqrt(h),p=(o*o-l*l+Nn*h)/(2*l*Ln*d),g=(o*o-l*l-Nn*h)/(2*o*Ln*d),v=Math.log(Math.sqrt(p*p+1)-p),y=Math.log(Math.sqrt(g*g+1)-g);a=(y-v)/Dn,n=function(t){var e,n,r=t*a,i=On(v),o=l/(Ln*d)*(i*(n=Dn*r+v,((n=Math.exp(2*n))-1)/(n+1))-(e=v,((e=Math.exp(e))-1/e)/2));return[s+o*c,u+o*f,l*i/On(Dn*r+v)]}}return n.duration=1e3*a,n}function Fn(a){return function(e,t){var n=a((e=Ee(e)).h,(t=Ee(t)).h),r=on(e.s,t.s),i=on(e.l,t.l),o=on(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var Pn=Fn(nn),In=Fn(on);function Un(a){return function(e,t){var n=a((e=Ge(e)).h,(t=Ge(t)).h),r=on(e.c,t.c),i=on(e.l,t.l),o=on(e.opacity,t.opacity);return function(t){return e.h=n(t),e.c=r(t),e.l=i(t),e.opacity=o(t),e+""}}}var Rn=Un(nn),Gn=Un(on);function Hn(s){return function t(a){function e(e,t){var n=s((e=Xe(e)).h,(t=Xe(t)).h),r=on(e.s,t.s),i=on(e.l,t.l),o=on(e.opacity,t.opacity);return function(t){return e.h=n(t),e.s=r(t),e.l=i(Math.pow(t,a)),e.opacity=o(t),e+""}}return a=+a,e.gamma=t,e}(1)}var zn=Hn(nn),qn=Hn(on);var Bn,jn,Yn=0,Vn=0,Wn=0,Xn=1e3,Kn=0,Zn=0,Qn=0,Jn="object"==typeof performance&&performance.now?performance:Date,tr="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function er(){return Zn||(tr(nr),Zn=Jn.now()+Qn)}function nr(){Zn=0}function rr(){this._call=this._time=this._next=null}function ir(t,e,n){var r=new rr;return r.restart(t,e,n),r}function or(){er(),++Yn;for(var t,e=Bn;e;)0<=(t=Zn-e._time)&&e._call.call(null,t),e=e._next;--Yn}function ar(){Zn=(Kn=Jn.now())+Qn,Yn=Vn=0;try{or()}finally{Yn=0,function(){var t,e,n=Bn,r=1/0;for(;n;)n=n._call?(r>n._time&&(r=n._time),(t=n)._next):(e=n._next,n._next=null,t?t._next=e:Bn=e);jn=t,ur(r)}(),Zn=0}}function sr(){var t=Jn.now(),e=t-Kn;Xn<e&&(Qn-=e,Kn=t)}function ur(t){Yn||(Vn&&(Vn=clearTimeout(Vn)),24<t-Zn?(t<1/0&&(Vn=setTimeout(ar,t-Jn.now()-Qn)),Wn&&(Wn=clearInterval(Wn))):(Wn||(Kn=Jn.now(),Wn=setInterval(sr,Xn)),Yn=1,tr(ar)))}function lr(e,n,t){var r=new rr;return n=null==n?0:+n,r.restart(function(t){r.stop(),e(t+n)},n,t),r}rr.prototype=ir.prototype={constructor:rr,restart:function(t,e,n){if("function"!=typeof t)throw new TypeError("callback is not a function");n=(null==n?er():+n)+(null==e?0:+e),this._next||jn===this||(jn?jn._next=this:Bn=this,jn=this),this._call=t,this._time=n,ur()},stop:function(){this._call&&(this._call=null,this._time=1/0,ur())}};var cr=H("start","end","interrupt"),fr=[],hr=0,dr=1,pr=2,gr=3,vr=4,yr=5,mr=6;function _r(t,e,n,r,i,o){var a=t.__transition;if(a){if(n in a)return}else t.__transition={};!function(o,a,s){var u,l=o.__transition;function c(t){var e,n,r,i;if(s.state!==dr)return h();for(e in l)if((i=l[e]).name===s.name){if(i.state===gr)return lr(c);i.state===vr?(i.state=mr,i.timer.stop(),i.on.call("interrupt",o,o.__data__,i.index,i.group),delete l[e]):+e<a&&(i.state=mr,i.timer.stop(),delete l[e])}if(lr(function(){s.state===gr&&(s.state=vr,s.timer.restart(f,s.delay,s.time),f(t))}),s.state=pr,s.on.call("start",o,o.__data__,s.index,s.group),s.state===pr){for(s.state=gr,u=new Array(r=s.tween.length),e=0,n=-1;e<r;++e)(i=s.tween[e].value.call(o,o.__data__,s.index,s.group))&&(u[++n]=i);u.length=n+1}}function f(t){for(var e=t<s.duration?s.ease.call(null,t/s.duration):(s.timer.restart(h),s.state=yr,1),n=-1,r=u.length;++n<r;)u[n].call(null,e);s.state===yr&&(s.on.call("end",o,o.__data__,s.index,s.group),h())}function h(){for(var t in s.state=mr,s.timer.stop(),delete l[a],l)return;delete o.__transition}(l[a]=s).timer=ir(function(t){s.state=dr,s.timer.restart(c,s.delay,s.time),s.delay<=t&&c(t-s.delay)},0,s.time)}(t,n,{name:e,index:r,group:i,on:cr,tween:fr,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:hr})}function xr(t,e){var n=br(t,e);if(n.state>hr)throw new Error("too late; already scheduled");return n}function Er(t,e){var n=br(t,e);if(n.state>pr)throw new Error("too late; already started");return n}function br(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function wr(t,e){var n,r,i,o=t.__transition,a=!0;if(o){for(i in e=null==e?null:e+"",o)(n=o[i]).name===e?(r=n.state>pr&&n.state<yr,n.state=mr,n.timer.stop(),r&&n.on.call("interrupt",t,t.__data__,n.index,n.group),delete o[i]):a=!1;a&&delete t.__transition}}function Mr(t,e,n){var r=t._id;return t.each(function(){var t=Er(this,r);(t.value||(t.value={}))[e]=n.apply(this,arguments)}),function(t){return br(t,r).value[e]}}function Cr(t,e){var n;return("number"==typeof e?hn:e instanceof pe?an:(n=pe(e))?(e=n,an):vn)(t,e)}var Tr=Ot.prototype.constructor;var Sr=0;function Ar(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Dr(t){return Ot().transition(t)}function Lr(){return++Sr}var Nr=Ot.prototype;function kr(t){return((t*=2)<=1?t*t:--t*(2-t)+1)/2}function Or(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}Ar.prototype=Dr.prototype={constructor:Ar,select:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=K(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var s,u,l=r[a],c=l.length,f=o[a]=new Array(c),h=0;h<c;++h)(s=l[h])&&(u=t.call(s,s.__data__,h,l))&&("__data__"in s&&(u.__data__=s.__data__),f[h]=u,_r(f[h],e,n,h,f,br(s,n)));return new Ar(o,this._parents,e,n)},selectAll:function(t){var e=this._name,n=this._id;"function"!=typeof t&&(t=Q(t));for(var r=this._groups,i=r.length,o=[],a=[],s=0;s<i;++s)for(var u,l=r[s],c=l.length,f=0;f<c;++f)if(u=l[f]){for(var h,d=t.call(u,u.__data__,f,l),p=br(u,n),g=0,v=d.length;g<v;++g)(h=d[g])&&_r(h,e,n,g,d,p);o.push(d),a.push(u)}return new Ar(o,a,e,n)},filter:function(t){"function"!=typeof t&&(t=nt(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o,a=e[i],s=a.length,u=r[i]=[],l=0;l<s;++l)(o=a[l])&&t.call(o,o.__data__,l,a)&&u.push(o);return new Ar(r,this._parents,this._name,this._id)},merge:function(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),s=0;s<o;++s)for(var u,l=e[s],c=n[s],f=l.length,h=a[s]=new Array(f),d=0;d<f;++d)(u=l[d]||c[d])&&(h[d]=u);for(;s<r;++s)a[s]=e[s];return new Ar(a,this._parents,this._name,this._id)},selection:function(){return new Tr(this._groups,this._parents)},transition:function(){for(var t=this._name,e=this._id,n=Lr(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)if(a=s[l]){var c=br(a,e);_r(a,t,n,l,s,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ar(r,this._parents,t,n)},call:Nr.call,nodes:Nr.nodes,node:Nr.node,size:Nr.size,empty:Nr.empty,each:Nr.each,on:function(t,e){var n,r,i,o,a,s,u=this._id;return arguments.length<2?br(this.node(),u).on.on(t):this.each((n=u,i=e,s=((r=t)+"").trim().split(/^|\s+/).every(function(t){var e=t.indexOf(".");return 0<=e&&(t=t.slice(0,e)),!t||"start"===t})?xr:Er,function(){var t=s(this,n),e=t.on;e!==o&&(a=(o=e).copy()).on(r,i),t.on=a}))},attr:function(t,e){var n=V(t),r="transform"===n?An:Cr;return this.attrTween(t,"function"==typeof e?(n.local?function(n,r,i){var o,a,s;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttributeNS(n.space,n.local))===e?null:t===o&&e===a?s:s=r(o=t,a=e);this.removeAttributeNS(n.space,n.local)}}:function(n,r,i){var o,a,s;return function(){var t,e=i(this);if(null!=e)return(t=this.getAttribute(n))===e?null:t===o&&e===a?s:s=r(o=t,a=e);this.removeAttribute(n)}})(n,r,Mr(this,"attr."+t,e)):null==e?(n.local?function(t){return function(){this.removeAttributeNS(t.space,t.local)}}:function(t){return function(){this.removeAttribute(t)}})(n):(n.local?function(e,n,r){var i,o;return function(){var t=this.getAttributeNS(e.space,e.local);return t===r?null:t===i?o:o=n(i=t,r)}}:function(e,n,r){var i,o;return function(){var t=this.getAttribute(e);return t===r?null:t===i?o:o=n(i=t,r)}})(n,r,e+""))},attrTween:function(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(null==e)return this.tween(n,null);if("function"!=typeof e)throw new Error;var r=V(t);return this.tween(n,(r.local?function(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttributeNS(r.space,r.local,n(t))}}return e._value=t,e}:function(r,t){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.setAttribute(r,n(t))}}return e._value=t,e})(r,e))},style:function(t,e,n){var r,i,o,a,s,u,l,c,f,h,d,p,g,v,y,m,_,x="transform"==(t+="")?Sn:Cr;return null==e?this.styleTween(t,(g=t,v=x,function(){var t=ct(this,g),e=(this.style.removeProperty(g),ct(this,g));return t===e?null:t===y&&e===m?_:_=v(y=t,m=e)})).on("end.style."+t,(p=t,function(){this.style.removeProperty(p)})):this.styleTween(t,"function"==typeof e?(l=x,c=Mr(this,"style."+(u=t),e),function(){var t=ct(this,u),e=c(this);return null==e&&(this.style.removeProperty(u),e=ct(this,u)),t===e?null:t===f&&e===h?d:d=l(f=t,h=e)}):(r=t,i=x,o=e+"",function(){var t=ct(this,r);return t===o?null:t===a?s:s=i(a=t,o)}),n)},styleTween:function(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(null==e)return this.tween(r,null);if("function"!=typeof e)throw new Error;return this.tween(r,function(r,t,i){function e(){var e=this,n=t.apply(e,arguments);return n&&function(t){e.style.setProperty(r,n(t),i)}}return e._value=t,e}(t,e,null==n?"":n))},text:function(t){return this.tween("text","function"==typeof t?(n=Mr(this,"text",t),function(){var t=n(this);this.textContent=null==t?"":t}):(e=null==t?"":t+"",function(){this.textContent=e}));var e,n},remove:function(){return this.on("end.remove",(n=this._id,function(){var t=this.parentNode;for(var e in this.__transition)if(+e!==n)return;t&&t.removeChild(this)}));var n},tween:function(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r,i=br(this.node(),n).tween,o=0,a=i.length;o<a;++o)if((r=i[o]).name===t)return r.value;return null}return this.each((null==e?function(i,o){var a,s;return function(){var t=Er(this,i),e=t.tween;if(e!==a)for(var n=0,r=(s=a=e).length;n<r;++n)if(s[n].name===o){(s=s.slice()).splice(n,1);break}t.tween=s}}:function(o,a,s){var u,l;if("function"!=typeof s)throw new Error;return function(){var t=Er(this,o),e=t.tween;if(e!==u){l=(u=e).slice();for(var n={name:a,value:s},r=0,i=l.length;r<i;++r)if(l[r].name===a){l[r]=n;break}r===i&&l.push(n)}t.tween=l}})(n,t,e))},delay:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){xr(this,t).delay=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){xr(this,t).delay=e}})(e,t)):br(this.node(),e).delay},duration:function(t){var e=this._id;return arguments.length?this.each(("function"==typeof t?function(t,e){return function(){Er(this,t).duration=+e.apply(this,arguments)}}:function(t,e){return e=+e,function(){Er(this,t).duration=e}})(e,t)):br(this.node(),e).duration},ease:function(t){var e=this._id;return arguments.length?this.each(function(t,e){if("function"!=typeof e)throw new Error;return function(){Er(this,t).ease=e}}(e,t)):br(this.node(),e).ease}};var $r=function t(e){function n(t){return Math.pow(t,e)}return e=+e,n.exponent=t,n}(3),Fr=function t(e){function n(t){return 1-Math.pow(1-t,e)}return e=+e,n.exponent=t,n}(3),Pr=function t(e){function n(t){return((t*=2)<=1?Math.pow(t,e):2-Math.pow(2-t,e))/2}return e=+e,n.exponent=t,n}(3),Ir=Math.PI,Ur=Ir/2;function Rr(t){return(1-Math.cos(Ir*t))/2}function Gr(t){return((t*=2)<=1?Math.pow(2,10*t-10):2-Math.pow(2,10-10*t))/2}function Hr(t){return((t*=2)<=1?1-Math.sqrt(1-t*t):Math.sqrt(1-(t-=2)*t)+1)/2}var zr=4/11,qr=6/11,Br=8/11,jr=.75,Yr=9/11,Vr=10/11,Wr=.9375,Xr=21/22,Kr=63/64,Zr=1/zr/zr;function Qr(t){return(t=+t)<zr?Zr*t*t:t<Br?Zr*(t-=qr)*t+jr:t<Vr?Zr*(t-=Yr)*t+Wr:Zr*(t-=Xr)*t+Kr}var Jr=1.70158,ti=function t(e){function n(t){return t*t*((e+1)*t-e)}return e=+e,n.overshoot=t,n}(Jr),ei=function t(e){function n(t){return--t*t*((e+1)*t+e)+1}return e=+e,n.overshoot=t,n}(Jr),ni=function t(e){function n(t){return((t*=2)<1?t*t*((e+1)*t-e):(t-=2)*t*((e+1)*t+e)+2)/2}return e=+e,n.overshoot=t,n}(Jr),ri=2*Math.PI,ii=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=ri);function t(t){return n*Math.pow(2,10*--t)*Math.sin((i-t)/r)}return t.amplitude=function(t){return e(t,r*ri)},t.period=function(t){return e(n,t)},t}(1,.3),oi=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=ri);function t(t){return 1-n*Math.pow(2,-10*(t=+t))*Math.sin((t+i)/r)}return t.amplitude=function(t){return e(t,r*ri)},t.period=function(t){return e(n,t)},t}(1,.3),ai=function e(n,r){var i=Math.asin(1/(n=Math.max(1,n)))*(r/=ri);function t(t){return((t=2*t-1)<0?n*Math.pow(2,10*t)*Math.sin((i-t)/r):2-n*Math.pow(2,-10*t)*Math.sin((i+t)/r))/2}return t.amplitude=function(t){return e(t,r*ri)},t.period=function(t){return e(n,t)},t}(1,.3),si={time:null,delay:0,duration:250,ease:Or};function ui(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))return si.time=er(),si;return n}Ot.prototype.interrupt=function(t){return this.each(function(){wr(this,t)})},Ot.prototype.transition=function(t){var e,n;t=t instanceof Ar?(e=t._id,t._name):(e=Lr(),(n=si).time=er(),null==t?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a,s=r[o],u=s.length,l=0;l<u;++l)(a=s[l])&&_r(a,t,e,l,s,n||ui(a,e));return new Ar(r,this._parents,t,e)};var li=[null];function ci(t){return function(){return t}}function fi(t,e,n){this.target=t,this.type=e,this.selection=n}function hi(){G.event.stopImmediatePropagation()}function di(){G.event.preventDefault(),G.event.stopImmediatePropagation()}var pi={name:"drag"},gi={name:"space"},vi={name:"handle"},yi={name:"center"},mi={name:"x",handles:["e","w"].map(Ti),input:function(t,e){return t&&[[t[0],e[0][1]],[t[1],e[1][1]]]},output:function(t){return t&&[t[0][0],t[1][0]]}},_i={name:"y",handles:["n","s"].map(Ti),input:function(t,e){return t&&[[e[0][0],t[0]],[e[1][0],t[1]]]},output:function(t){return t&&[t[0][1],t[1][1]]}},xi={name:"xy",handles:["n","e","s","w","nw","ne","se","sw"].map(Ti),input:function(t){return t},output:function(t){return t}},Ei={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},bi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},wi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Mi={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ci={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Ti(t){return{type:t}}function Si(){return!G.event.button}function Ai(){var t=this.ownerSVGElement||this;return[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]}function Di(t){for(;!t.__brush;)if(!(t=t.parentNode))return;return t.__brush}function Li(t){return t[0][0]===t[1][0]||t[0][1]===t[1][1]}function Ni(F){var P,e=Ai,I=Si,n=H(i,"start","brush","end"),r=6;function i(t){var e=t.property("__brush",s).selectAll(".overlay").data([Ti("overlay")]);e.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Ei.overlay).merge(e).each(function(){var t=Di(this).extent;$t(this).attr("x",t[0][0]).attr("y",t[0][1]).attr("width",t[1][0]-t[0][0]).attr("height",t[1][1]-t[0][1])}),t.selectAll(".selection").data([Ti("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Ei.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var n=t.selectAll(".handle").data(F.handles,function(t){return t.type});n.exit().remove(),n.enter().append("rect").attr("class",function(t){return"handle handle--"+t.type}).attr("cursor",function(t){return Ei[t.type]}),t.each(U).attr("fill","none").attr("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush touchstart.brush",a)}function U(){var t=$t(this),e=Di(this).selection;e?(t.selectAll(".selection").style("display",null).attr("x",e[0][0]).attr("y",e[0][1]).attr("width",e[1][0]-e[0][0]).attr("height",e[1][1]-e[0][1]),t.selectAll(".handle").style("display",null).attr("x",function(t){return"e"===t.type[t.type.length-1]?e[1][0]-r/2:e[0][0]-r/2}).attr("y",function(t){return"s"===t.type[0]?e[1][1]-r/2:e[0][1]-r/2}).attr("width",function(t){return"n"===t.type||"s"===t.type?e[1][0]-e[0][0]+r:r}).attr("height",function(t){return"e"===t.type||"w"===t.type?e[1][1]-e[0][1]+r:r})):t.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function R(t,e){return t.__brush.emitter||new o(t,e)}function o(t,e){this.that=t,this.args=e,this.state=t.__brush,this.active=0}function a(){if(G.event.touches){if(G.event.changedTouches.length<G.event.touches.length)return di()}else if(P)return;if(I.apply(this,arguments)){var e,n,r,i,o,a,s,u,l,c,f,h,d,p=this,g=G.event.target.__data__.type,v="selection"===(G.event.metaKey?g="overlay":g)?pi:G.event.altKey?yi:vi,y=F===_i?null:Mi[g],m=F===mi?null:Ci[g],_=Di(p),t=_.extent,x=_.selection,E=t[0][0],b=t[0][1],w=t[1][0],M=t[1][1],C=y&&m&&G.event.shiftKey,T=Gt(p),S=T,A=R(p,arguments).beforestart();"overlay"===g?_.selection=x=[[e=F===_i?E:T[0],r=F===mi?b:T[1]],[o=F===_i?w:e,s=F===mi?M:r]]:(e=x[0][0],r=x[0][1],o=x[1][0],s=x[1][1]),n=e,i=r,a=o,u=s;var D=$t(p).attr("pointer-events","none"),L=D.selectAll(".overlay").attr("cursor",Ei[g]);if(G.event.touches)D.on("touchmove.brush",k,!0).on("touchend.brush touchcancel.brush",$,!0);else{var N=$t(G.event.view).on("keydown.brush",function(){switch(G.event.keyCode){case 16:C=y&&m;break;case 18:v===vi&&(y&&(o=a-l*y,e=n+l*y),m&&(s=u-c*m,r=i+c*m),v=yi,O());break;case 32:v!==vi&&v!==yi||(y<0?o=a-l:0<y&&(e=n-l),m<0?s=u-c:0<m&&(r=i-c),v=gi,L.attr("cursor",Ei.selection),O());break;default:return}di()},!0).on("keyup.brush",function(){switch(G.event.keyCode){case 16:C&&(h=d=C=!1,O());break;case 18:v===yi&&(y<0?o=a:0<y&&(e=n),m<0?s=u:0<m&&(r=i),v=vi,O());break;case 32:v===gi&&(v=G.event.altKey?(y&&(o=a-l*y,e=n+l*y),m&&(s=u-c*m,r=i+c*m),yi):(y<0?o=a:0<y&&(e=n),m<0?s=u:0<m&&(r=i),vi),L.attr("cursor",Ei[g]),O());break;default:return}di()},!0).on("mousemove.brush",k,!0).on("mouseup.brush",$,!0);Bt(G.event.view)}hi(),wr(p),U.call(p),A.start()}function k(){var t=Gt(p);!C||h||d||(Math.abs(t[0]-S[0])>Math.abs(t[1]-S[1])?d=!0:h=!0),S=t,f=!0,di(),O()}function O(){var t;switch(l=S[0]-T[0],c=S[1]-T[1],v){case gi:case pi:y&&(l=Math.max(E-e,Math.min(w-o,l)),n=e+l,a=o+l),m&&(c=Math.max(b-r,Math.min(M-s,c)),i=r+c,u=s+c);break;case vi:y<0?(l=Math.max(E-e,Math.min(w-e,l)),n=e+l,a=o):0<y&&(l=Math.max(E-o,Math.min(w-o,l)),n=e,a=o+l),m<0?(c=Math.max(b-r,Math.min(M-r,c)),i=r+c,u=s):0<m&&(c=Math.max(b-s,Math.min(M-s,c)),i=r,u=s+c);break;case yi:y&&(n=Math.max(E,Math.min(w,e-l*y)),a=Math.max(E,Math.min(w,o+l*y))),m&&(i=Math.max(b,Math.min(M,r-c*m)),u=Math.max(b,Math.min(M,s+c*m)))}a<n&&(y*=-1,t=e,e=o,o=t,t=n,n=a,a=t,g in bi&&L.attr("cursor",Ei[g=bi[g]])),u<i&&(m*=-1,t=r,r=s,s=t,t=i,i=u,u=t,g in wi&&L.attr("cursor",Ei[g=wi[g]])),_.selection&&(x=_.selection),h&&(n=x[0][0],a=x[1][0]),d&&(i=x[0][1],u=x[1][1]),x[0][0]===n&&x[0][1]===i&&x[1][0]===a&&x[1][1]===u||(_.selection=[[n,i],[a,u]],U.call(p),A.brush())}function $(){if(hi(),G.event.touches){if(G.event.touches.length)return;P&&clearTimeout(P),P=setTimeout(function(){P=null},500),D.on("touchmove.brush touchend.brush touchcancel.brush",null)}else jt(G.event.view,f),N.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);D.attr("pointer-events","all"),L.attr("cursor",Ei.overlay),_.selection&&(x=_.selection),Li(x)&&(_.selection=null,U.call(p)),A.end()}}function s(){var t=this.__brush||{selection:null};return t.extent=e.apply(this,arguments),t.dim=F,t}return i.move=function(t,s){t.selection?t.on("start.brush",function(){R(this,arguments).beforestart().start()}).on("interrupt.brush end.brush",function(){R(this,arguments).end()}).tween("brush",function(){var e=this,n=e.__brush,r=R(e,arguments),t=n.selection,i=F.input("function"==typeof s?s.apply(this,arguments):s,n.extent),o=yn(t,i);function a(t){n.selection=1===t&&Li(i)?null:o(t),U.call(e),r.brush()}return t&&i?a:a(1)}):t.each(function(){var t=this,e=arguments,n=t.__brush,r=F.input("function"==typeof s?s.apply(t,e):s,n.extent),i=R(t,e).beforestart();wr(t),n.selection=null==r||Li(r)?null:r,U.call(t),i.start().brush().end()})},o.prototype={beforestart:function(){return 1==++this.active&&((this.state.emitter=this).starting=!0),this},start:function(){return this.starting&&(this.starting=!1,this.emit("start")),this},brush:function(){return this.emit("brush"),this},end:function(){return 0==--this.active&&(delete this.state.emitter,this.emit("end")),this},emit:function(t){Dt(new fi(i,t,F.output(this.state.selection)),n.apply,n,[t,this.that,this.args])}},i.extent=function(t){return arguments.length?(e="function"==typeof t?t:ci([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),i):e},i.filter=function(t){return arguments.length?(I="function"==typeof t?t:ci(!!t),i):I},i.handleSize=function(t){return arguments.length?(r=+t,i):r},i.on=function(){var t=n.on.apply(n,arguments);return t===n?i:t},i}var ki=Math.cos,Oi=Math.sin,$i=Math.PI,Fi=$i/2,Pi=2*$i,Ii=Math.max;var Ui=Array.prototype.slice;function Ri(t){return function(){return t}}var Gi=Math.PI,Hi=2*Gi,zi=1e-6,qi=Hi-zi;function Bi(){this._x0=this._y0=this._x1=this._y1=null,this._=""}function ji(){return new Bi}function Yi(t){return t.source}function Vi(t){return t.target}function Wi(t){return t.radius}function Xi(t){return t.startAngle}function Ki(t){return t.endAngle}Bi.prototype=ji.prototype={constructor:Bi,moveTo:function(t,e){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")},lineTo:function(t,e){this._+="L"+(this._x1=+t)+","+(this._y1=+e)},quadraticCurveTo:function(t,e,n,r){this._+="Q"+ +t+","+ +e+","+(this._x1=+n)+","+(this._y1=+r)},bezierCurveTo:function(t,e,n,r,i,o){this._+="C"+ +t+","+ +e+","+ +n+","+ +r+","+(this._x1=+i)+","+(this._y1=+o)},arcTo:function(t,e,n,r,i){t=+t,e=+e,n=+n,r=+r,i=+i;var o=this._x1,a=this._y1,s=n-t,u=r-e,l=o-t,c=a-e,f=l*l+c*c;if(i<0)throw new Error("negative radius: "+i);if(null===this._x1)this._+="M"+(this._x1=t)+","+(this._y1=e);else if(zi<f)if(Math.abs(c*s-u*l)>zi&&i){var h=n-o,d=r-a,p=s*s+u*u,g=h*h+d*d,v=Math.sqrt(p),y=Math.sqrt(f),m=i*Math.tan((Gi-Math.acos((p+f-g)/(2*v*y)))/2),_=m/y,x=m/v;Math.abs(_-1)>zi&&(this._+="L"+(t+_*l)+","+(e+_*c)),this._+="A"+i+","+i+",0,0,"+ +(l*d<c*h)+","+(this._x1=t+x*s)+","+(this._y1=e+x*u)}else this._+="L"+(this._x1=t)+","+(this._y1=e);else;},arc:function(t,e,n,r,i,o){t=+t,e=+e;var a=(n=+n)*Math.cos(r),s=n*Math.sin(r),u=t+a,l=e+s,c=1^o,f=o?r-i:i-r;if(n<0)throw new Error("negative radius: "+n);null===this._x1?this._+="M"+u+","+l:(Math.abs(this._x1-u)>zi||Math.abs(this._y1-l)>zi)&&(this._+="L"+u+","+l),n&&(f<0&&(f=f%Hi+Hi),qi<f?this._+="A"+n+","+n+",0,1,"+c+","+(t-a)+","+(e-s)+"A"+n+","+n+",0,1,"+c+","+(this._x1=u)+","+(this._y1=l):zi<f&&(this._+="A"+n+","+n+",0,"+ +(Gi<=f)+","+c+","+(this._x1=t+n*Math.cos(i))+","+(this._y1=e+n*Math.sin(i))))},rect:function(t,e,n,r){this._+="M"+(this._x0=this._x1=+t)+","+(this._y0=this._y1=+e)+"h"+ +n+"v"+ +r+"h"+-n+"Z"},toString:function(){return this._}};var Zi="$";function Qi(){}function Ji(t,e){var n=new Qi;if(t instanceof Qi)t.each(function(t,e){n.set(e,t)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(null==e)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e(r=t[i],i,t),r)}else if(t)for(var a in t)n.set(a,t[a]);return n}function to(){return{}}function eo(t,e,n){t[e]=n}function no(){return Ji()}function ro(t,e,n){t.set(e,n)}function io(){}Qi.prototype=Ji.prototype={constructor:Qi,has:function(t){return Zi+t in this},get:function(t){return this[Zi+t]},set:function(t,e){return this[Zi+t]=e,this},remove:function(t){var e=Zi+t;return e in this&&delete this[e]},clear:function(){for(var t in this)t[0]===Zi&&delete this[t]},keys:function(){var t=[];for(var e in this)e[0]===Zi&&t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)e[0]===Zi&&t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)e[0]===Zi&&t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)e[0]===Zi&&++t;return t},empty:function(){for(var t in this)if(t[0]===Zi)return!1;return!0},each:function(t){for(var e in this)e[0]===Zi&&t(this[e],e.slice(1),this)}};var oo=Ji.prototype;function ao(t,e){var n=new io;if(t instanceof io)t.each(function(t){n.add(t)});else if(t){var r=-1,i=t.length;if(null==e)for(;++r<i;)n.add(t[r]);else for(;++r<i;)n.add(e(t[r],r,t))}return n}io.prototype=ao.prototype={constructor:io,has:oo.has,add:function(t){return this[Zi+(t+="")]=t,this},remove:oo.remove,clear:oo.clear,values:oo.keys,size:oo.size,empty:oo.empty,each:oo.each};var so={},uo={};function lo(t){return new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}")}function co(o){var e=new RegExp('["'+o+"\n\r]"),f=o.charCodeAt(0);function n(r,t){var e,n=[],i=r.length,o=0,a=0,s=i<=0,u=!1;function l(){if(s)return uo;if(u)return u=!1,so;var t,e,n=o;if(34===r.charCodeAt(n)){for(;o++<i&&34!==r.charCodeAt(o)||34===r.charCodeAt(++o););return(t=o)>=i?s=!0:10===(e=r.charCodeAt(o++))?u=!0:13===e&&(u=!0,10===r.charCodeAt(o)&&++o),r.slice(n+1,t-1).replace(/""/g,'"')}for(;o<i;){if(10===(e=r.charCodeAt(t=o++)))u=!0;else if(13===e)u=!0,10===r.charCodeAt(o)&&++o;else if(e!==f)continue;return r.slice(n,t)}return s=!0,r.slice(n,i)}for(10===r.charCodeAt(i-1)&&--i,13===r.charCodeAt(i-1)&&--i;(e=l())!==uo;){for(var c=[];e!==so&&e!==uo;)c.push(e),e=l();t&&null==(c=t(c,a++))||n.push(c)}return n}function r(t){return t.map(a).join(o)}function a(t){return null==t?"":e.test(t+="")?'"'+t.replace(/"/g,'""')+'"':t}return{parse:function(t,o){var a,s,e=n(t,function(t,e){if(a)return a(t,e-1);var n,r,i;s=t,a=o?(r=o,i=lo(n=t),function(t,e){return r(i(t),e,n)}):lo(t)});return e.columns=s||[],e},parseRows:n,format:function(t,n){var e,r,i;return null==n&&(e=t,r=Object.create(null),i=[],e.forEach(function(t){for(var e in t)e in r||i.push(r[e]=e)}),n=i),[n.map(a).join(o)].concat(t.map(function(e){return n.map(function(t){return a(e[t])}).join(o)})).join("\n")},formatRows:function(t){return t.map(r).join("\n")}}}var fo=co(","),ho=fo.parse,po=fo.parseRows,go=fo.format,vo=fo.formatRows,yo=co("\t"),mo=yo.parse,_o=yo.parseRows,xo=yo.format,Eo=yo.formatRows;function bo(t){return function(){return t}}function wo(){return 1e-6*(Math.random()-.5)}function Mo(t,e,n,r){if(isNaN(e)||isNaN(n))return t;var i,o,a,s,u,l,c,f,h,d=t._root,p={data:r},g=t._x0,v=t._y0,y=t._x1,m=t._y1;if(!d)return t._root=p,t;for(;d.length;)if((l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(v+m)/2))?v=a:m=a,!(d=(i=d)[f=c<<1|l]))return i[f]=p,t;if(s=+t._x.call(null,d.data),u=+t._y.call(null,d.data),e===s&&n===u)return p.next=d,i?i[f]=p:t._root=p,t;for(;i=i?i[f]=new Array(4):t._root=new Array(4),(l=e>=(o=(g+y)/2))?g=o:y=o,(c=n>=(a=(v+m)/2))?v=a:m=a,(f=c<<1|l)==(h=(a<=u)<<1|o<=s););return i[h]=d,i[f]=p,t}function Co(t,e,n,r,i){this.node=t,this.x0=e,this.y0=n,this.x1=r,this.y1=i}function To(t){return t[0]}function So(t){return t[1]}function Ao(t,e,n){var r=new Do(null==e?To:e,null==n?So:n,NaN,NaN,NaN,NaN);return null==t?r:r.addAll(t)}function Do(t,e,n,r,i,o){this._x=t,this._y=e,this._x0=n,this._y0=r,this._x1=i,this._y1=o,this._root=void 0}function Lo(t){for(var e={data:t.data},n=e;t=t.next;)n=n.next={data:t.data};return e}var No=Ao.prototype=Do.prototype;function ko(t){return t.x+t.vx}function Oo(t){return t.y+t.vy}function $o(t){return t.index}function Fo(t,e){var n=t.get(e);if(!n)throw new Error("missing: "+e);return n}function Po(t){return t.x}function Io(t){return t.y}No.copy=function(){var t,e,n=new Do(this._x,this._y,this._x0,this._y0,this._x1,this._y1),r=this._root;if(!r)return n;if(!r.length)return n._root=Lo(r),n;for(t=[{source:r,target:n._root=new Array(4)}];r=t.pop();)for(var i=0;i<4;++i)(e=r.source[i])&&(e.length?t.push({source:e,target:r.target[i]=new Array(4)}):r.target[i]=Lo(e));return n},No.add=function(t){var e=+this._x.call(null,t),n=+this._y.call(null,t);return Mo(this.cover(e,n),e,n,t)},No.addAll=function(t){var e,n,r,i,o=t.length,a=new Array(o),s=new Array(o),u=1/0,l=1/0,c=-1/0,f=-1/0;for(n=0;n<o;++n)isNaN(r=+this._x.call(null,e=t[n]))||isNaN(i=+this._y.call(null,e))||((a[n]=r)<u&&(u=r),c<r&&(c=r),(s[n]=i)<l&&(l=i),f<i&&(f=i));for(c<u&&(u=this._x0,c=this._x1),f<l&&(l=this._y0,f=this._y1),this.cover(u,l).cover(c,f),n=0;n<o;++n)Mo(this,a[n],s[n],t[n]);return this},No.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var n=this._x0,r=this._y0,i=this._x1,o=this._y1;if(isNaN(n))i=(n=Math.floor(t))+1,o=(r=Math.floor(e))+1;else{if(!(t<n||i<t||e<r||o<e))return this;var a,s,u=i-n,l=this._root;switch(s=(e<(r+o)/2)<<1|t<(n+i)/2){case 0:for(;(a=new Array(4))[s]=l,l=a,o=r+(u*=2),(i=n+u)<t||o<e;);break;case 1:for(;(a=new Array(4))[s]=l,l=a,o=r+(u*=2),t<(n=i-u)||o<e;);break;case 2:for(;(a=new Array(4))[s]=l,l=a,r=o-(u*=2),(i=n+u)<t||e<r;);break;case 3:for(;(a=new Array(4))[s]=l,l=a,r=o-(u*=2),t<(n=i-u)||e<r;);}this._root&&this._root.length&&(this._root=l)}return this._x0=n,this._y0=r,this._x1=i,this._y1=o,this},No.data=function(){var e=[];return this.visit(function(t){if(!t.length)for(;e.push(t.data),t=t.next;);}),e},No.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},No.find=function(t,e,n){var r,i,o,a,s,u,l,c=this._x0,f=this._y0,h=this._x1,d=this._y1,p=[],g=this._root;for(g&&p.push(new Co(g,c,f,h,d)),null==n?n=1/0:(c=t-n,f=e-n,h=t+n,d=e+n,n*=n);u=p.pop();)if(!(!(g=u.node)||(i=u.x0)>h||(o=u.y0)>d||(a=u.x1)<c||(s=u.y1)<f))if(g.length){var v=(i+a)/2,y=(o+s)/2;p.push(new Co(g[3],v,y,a,s),new Co(g[2],i,y,v,s),new Co(g[1],v,o,a,y),new Co(g[0],i,o,v,y)),(l=(y<=e)<<1|v<=t)&&(u=p[p.length-1],p[p.length-1]=p[p.length-1-l],p[p.length-1-l]=u)}else{var m=t-+this._x.call(null,g.data),_=e-+this._y.call(null,g.data),x=m*m+_*_;if(x<n){var E=Math.sqrt(n=x);c=t-E,f=e-E,h=t+E,d=e+E,r=g.data}}return r},No.remove=function(t){if(isNaN(o=+this._x.call(null,t))||isNaN(a=+this._y.call(null,t)))return this;var e,n,r,i,o,a,s,u,l,c,f,h,d=this._root,p=this._x0,g=this._y0,v=this._x1,y=this._y1;if(!d)return this;if(d.length)for(;;){if((l=o>=(s=(p+v)/2))?p=s:v=s,(c=a>=(u=(g+y)/2))?g=u:y=u,!(d=(e=d)[f=c<<1|l]))return this;if(!d.length)break;(e[f+1&3]||e[f+2&3]||e[f+3&3])&&(n=e,h=f)}for(;d.data!==t;)if(!(d=(r=d).next))return this;return(i=d.next)&&delete d.next,r?i?r.next=i:delete r.next:e?(i?e[f]=i:delete e[f],(d=e[0]||e[1]||e[2]||e[3])&&d===(e[3]||e[2]||e[1]||e[0])&&!d.length&&(n?n[h]=d:this._root=d)):this._root=i,this},No.removeAll=function(t){for(var e=0,n=t.length;e<n;++e)this.remove(t[e]);return this},No.root=function(){return this._root},No.size=function(){var e=0;return this.visit(function(t){if(!t.length)for(;++e,t=t.next;);}),e},No.visit=function(t){var e,n,r,i,o,a,s=[],u=this._root;for(u&&s.push(new Co(u,this._x0,this._y0,this._x1,this._y1));e=s.pop();)if(!t(u=e.node,r=e.x0,i=e.y0,o=e.x1,a=e.y1)&&u.length){var l=(r+o)/2,c=(i+a)/2;(n=u[3])&&s.push(new Co(n,l,c,o,a)),(n=u[2])&&s.push(new Co(n,r,c,l,a)),(n=u[1])&&s.push(new Co(n,l,i,o,c)),(n=u[0])&&s.push(new Co(n,r,i,l,c))}return this},No.visitAfter=function(t){var e,n=[],r=[];for(this._root&&n.push(new Co(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var i=e.node;if(i.length){var o,a=e.x0,s=e.y0,u=e.x1,l=e.y1,c=(a+u)/2,f=(s+l)/2;(o=i[0])&&n.push(new Co(o,a,s,c,f)),(o=i[1])&&n.push(new Co(o,c,s,u,f)),(o=i[2])&&n.push(new Co(o,a,f,c,l)),(o=i[3])&&n.push(new Co(o,c,f,u,l))}r.push(e)}for(;e=r.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},No.x=function(t){return arguments.length?(this._x=t,this):this._x},No.y=function(t){return arguments.length?(this._y=t,this):this._y};var Uo,Ro=Math.PI*(3-Math.sqrt(5));function Go(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[1<r.length?r[0]+r.slice(2):r,+t.slice(n+1)]}function Ho(t){return(t=Go(Math.abs(t)))?t[1]:NaN}function zo(t,e){var n=Go(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}var qo={"":function(t,e){t:for(var n,r=(t=t.toPrecision(e)).length,i=1,o=-1;i<r;++i)switch(t[i]){case".":o=n=i;break;case"0":0===o&&(o=i),n=i;break;case"e":break t;default:0<o&&(o=0)}return 0<o?t.slice(0,o)+t.slice(n+1):t},"%":function(t,e){return(100*t).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:function(t){return Math.round(t).toString(10)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return zo(100*t,e)},r:zo,s:function(t,e){var n=Go(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Uo=3*Math.max(-8,Math.min(8,Math.floor(i/3))))+1,a=r.length;return o===a?r:a<o?r+new Array(o-a+1).join("0"):0<o?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Go(t,Math.max(0,e+o-1))[0]},X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}},Bo=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function jo(t){return new Yo(t)}function Yo(t){if(!(e=Bo.exec(t)))throw new Error("invalid format: "+t);var e,n=e[1]||" ",r=e[2]||">",i=e[3]||"-",o=e[4]||"",a=!!e[5],s=e[6]&&+e[6],u=!!e[7],l=e[8]&&+e[8].slice(1),c=e[9]||"";"n"===c?(u=!0,c="g"):qo[c]||(c=""),(a||"0"===n&&"="===r)&&(a=!0,n="0",r="="),this.fill=n,this.align=r,this.sign=i,this.symbol=o,this.zero=a,this.width=s,this.comma=u,this.precision=l,this.type=c}function Vo(t){return t}jo.prototype=Yo.prototype,Yo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var Wo,Xo=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ko(t){var e,s,u,E=t.grouping&&t.thousands?(s=t.grouping,u=t.thousands,function(t,e){for(var n=t.length,r=[],i=0,o=s[0],a=0;0<n&&0<o&&(e<a+o+1&&(o=Math.max(1,e-a)),r.push(t.substring(n-=o,n+o)),!((a+=o+1)>e));)o=s[i=(i+1)%s.length];return r.reverse().join(u)}):Vo,r=t.currency,b=t.decimal,w=t.numerals?(e=t.numerals,function(t){return t.replace(/[0-9]/g,function(t){return e[+t]})}):Vo,i=t.percent||"%";function a(t){var l=(t=jo(t)).fill,c=t.align,f=t.sign,e=t.symbol,h=t.zero,d=t.width,p=t.comma,g=t.precision,v=t.type,y="$"===e?r[0]:"#"===e&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",m="$"===e?r[1]:/[%p]/.test(v)?i:"",_=qo[v],x=!v||/[defgprs%]/.test(v);function n(t){var e,n,r,i=y,o=m;if("c"===v)o=_(t)+o,t="";else{var a=(t=+t)<0;if(t=_(Math.abs(t),g),a&&0==+t&&(a=!1),i=(a?"("===f?f:"-":"-"===f||"("===f?"":f)+i,o=("s"===v?Xo[8+Uo/3]:"")+o+(a&&"("===f?")":""),x)for(e=-1,n=t.length;++e<n;)if((r=t.charCodeAt(e))<48||57<r){o=(46===r?b+t.slice(e+1):t.slice(e))+o,t=t.slice(0,e);break}}p&&!h&&(t=E(t,1/0));var s=i.length+t.length+o.length,u=s<d?new Array(d-s+1).join(l):"";switch(p&&h&&(t=E(u+t,u.length?d-o.length:1/0),u=""),c){case"<":t=i+t+o+u;break;case"=":t=i+u+t+o;break;case"^":t=u.slice(0,s=u.length>>1)+i+t+o+u.slice(s);break;default:t=u+i+t+o}return w(t)}return g=null==g?v?6:12:/[gprs]/.test(v)?Math.max(1,Math.min(21,g)):Math.max(0,Math.min(20,g)),n.toString=function(){return t+""},n}return{format:a,formatPrefix:function(t,e){var n=a(((t=jo(t)).type="f",t)),r=3*Math.max(-8,Math.min(8,Math.floor(Ho(e)/3))),i=Math.pow(10,-r),o=Xo[8+r/3];return function(t){return n(i*t)+o}}}}function Zo(t){return Wo=Ko(t),G.format=Wo.format,G.formatPrefix=Wo.formatPrefix,Wo}function Qo(t){return Math.max(0,-Ho(Math.abs(t)))}function Jo(t,e){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(Ho(e)/3)))-Ho(Math.abs(t)))}function ta(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Ho(e)-Ho(t))+1}function ea(){return new na}function na(){this.reset()}Zo({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),na.prototype={constructor:na,reset:function(){this.s=this.t=0},add:function(t){ia(ra,t,this.t),ia(this,ra.s,this.s),this.s?this.t+=ra.t:this.s=ra.t},valueOf:function(){return this.s}};var ra=new na;function ia(t,e,n){var r=t.s=e+n,i=r-e,o=r-i;t.t=e-o+(n-i)}var oa=1e-6,aa=Math.PI,sa=aa/2,ua=aa/4,la=2*aa,ca=180/aa,fa=aa/180,ha=Math.abs,da=Math.atan,pa=Math.atan2,ga=Math.cos,va=Math.ceil,ya=Math.exp,ma=Math.log,_a=Math.pow,xa=Math.sin,Ea=Math.sign||function(t){return 0<t?1:t<0?-1:0},ba=Math.sqrt,wa=Math.tan;function Ma(t){return 1<t?0:t<-1?aa:Math.acos(t)}function Ca(t){return 1<t?sa:t<-1?-sa:Math.asin(t)}function Ta(t){return(t=xa(t/2))*t}function Sa(){}function Aa(t,e){t&&La.hasOwnProperty(t.type)&&La[t.type](t,e)}var Da={Feature:function(t,e){Aa(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)Aa(n[r].geometry,e)}},La={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){Na(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Na(n[r],e,0)},Polygon:function(t,e){ka(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)ka(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)Aa(n[r],e)}};function Na(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function ka(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)Na(t[n],e,1);e.polygonEnd()}function Oa(t,e){t&&Da.hasOwnProperty(t.type)?Da[t.type](t,e):Aa(t,e)}var $a,Fa,Pa,Ia,Ua,Ra,Ga,Ha,za,qa,Ba,ja,Ya,Va=ea(),Wa=ea(),Xa={point:Sa,lineStart:Sa,lineEnd:Sa,polygonStart:function(){Va.reset(),Xa.lineStart=Ka,Xa.lineEnd=Za},polygonEnd:function(){var t=+Va;Wa.add(t<0?la+t:t),this.lineStart=this.lineEnd=this.point=Sa},sphere:function(){Wa.add(la)}};function Ka(){Xa.point=Qa}function Za(){Ja($a,Fa)}function Qa(t,e){Xa.point=Ja,$a=t,Fa=e,Pa=t*=fa,Ia=ga(e=(e*=fa)/2+ua),Ua=xa(e)}function Ja(t,e){var n=(t*=fa)-Pa,r=0<=n?1:-1,i=r*n,o=ga(e=(e*=fa)/2+ua),a=xa(e),s=Ua*a,u=Ia*o+s*ga(i),l=s*r*xa(i);Va.add(pa(l,u)),Pa=t,Ia=o,Ua=a}function ts(t){return[pa(t[1],t[0]),Ca(t[2])]}function es(t){var e=t[0],n=t[1],r=ga(n);return[r*ga(e),r*xa(e),xa(n)]}function ns(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function rs(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function is(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function os(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function as(t){var e=ba(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}var ss,us,ls,cs,fs,hs,ds,ps,gs,vs,ys,ms,_s,xs,Es,bs,ws,Ms,Cs=ea(),Ts={point:Ss,lineStart:Ds,lineEnd:Ls,polygonStart:function(){Ts.point=Ns,Ts.lineStart=ks,Ts.lineEnd=Os,Cs.reset(),Xa.polygonStart()},polygonEnd:function(){Xa.polygonEnd(),Ts.point=Ss,Ts.lineStart=Ds,Ts.lineEnd=Ls,Va<0?(Ra=-(Ha=180),Ga=-(za=90)):oa<Cs?za=90:Cs<-oa&&(Ga=-90),us[0]=Ra,us[1]=Ha}};function Ss(t,e){ss.push(us=[Ra=t,Ha=t]),e<Ga&&(Ga=e),za<e&&(za=e)}function As(t,e){var n=es([t*fa,e*fa]);if(Ya){var r=rs(Ya,n),i=rs([r[1],-r[0],0],r);as(i),i=ts(i);var o,a=t-qa,s=0<a?1:-1,u=i[0]*ca*s,l=180<ha(a);l^(s*qa<u&&u<s*t)?(o=i[1]*ca,za<o&&(za=o)):l^(s*qa<(u=(u+360)%360-180)&&u<s*t)?(o=-i[1]*ca)<Ga&&(Ga=o):(e<Ga&&(Ga=e),za<e&&(za=e)),l?t<qa?$s(Ra,t)>$s(Ra,Ha)&&(Ha=t):$s(t,Ha)>$s(Ra,Ha)&&(Ra=t):Ra<=Ha?(t<Ra&&(Ra=t),Ha<t&&(Ha=t)):qa<t?$s(Ra,t)>$s(Ra,Ha)&&(Ha=t):$s(t,Ha)>$s(Ra,Ha)&&(Ra=t)}else ss.push(us=[Ra=t,Ha=t]);e<Ga&&(Ga=e),za<e&&(za=e),Ya=n,qa=t}function Ds(){Ts.point=As}function Ls(){us[0]=Ra,us[1]=Ha,Ts.point=Ss,Ya=null}function Ns(t,e){if(Ya){var n=t-qa;Cs.add(180<ha(n)?n+(0<n?360:-360):n)}else Ba=t,ja=e;Xa.point(t,e),As(t,e)}function ks(){Xa.lineStart()}function Os(){Ns(Ba,ja),Xa.lineEnd(),ha(Cs)>oa&&(Ra=-(Ha=180)),us[0]=Ra,us[1]=Ha,Ya=null}function $s(t,e){return(e-=t)<0?e+360:e}function Fs(t,e){return t[0]-e[0]}function Ps(t,e){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}var Is={sphere:Sa,point:Us,lineStart:Gs,lineEnd:qs,polygonStart:function(){Is.lineStart=Bs,Is.lineEnd=js},polygonEnd:function(){Is.lineStart=Gs,Is.lineEnd=qs}};function Us(t,e){t*=fa;var n=ga(e*=fa);Rs(n*ga(t),n*xa(t),xa(e))}function Rs(t,e,n){fs+=(t-fs)/++ls,hs+=(e-hs)/ls,ds+=(n-ds)/ls}function Gs(){Is.point=Hs}function Hs(t,e){t*=fa;var n=ga(e*=fa);bs=n*ga(t),ws=n*xa(t),Ms=xa(e),Is.point=zs,Rs(bs,ws,Ms)}function zs(t,e){t*=fa;var n=ga(e*=fa),r=n*ga(t),i=n*xa(t),o=xa(e),a=pa(ba((a=ws*o-Ms*i)*a+(a=Ms*r-bs*o)*a+(a=bs*i-ws*r)*a),bs*r+ws*i+Ms*o);cs+=a,ps+=a*(bs+(bs=r)),gs+=a*(ws+(ws=i)),vs+=a*(Ms+(Ms=o)),Rs(bs,ws,Ms)}function qs(){Is.point=Us}function Bs(){Is.point=Ys}function js(){Vs(xs,Es),Is.point=Us}function Ys(t,e){xs=t,Es=e,t*=fa,e*=fa,Is.point=Vs;var n=ga(e);bs=n*ga(t),ws=n*xa(t),Ms=xa(e),Rs(bs,ws,Ms)}function Vs(t,e){t*=fa;var n=ga(e*=fa),r=n*ga(t),i=n*xa(t),o=xa(e),a=ws*o-Ms*i,s=Ms*r-bs*o,u=bs*i-ws*r,l=ba(a*a+s*s+u*u),c=Ca(l),f=l&&-c/l;ys+=f*a,ms+=f*s,_s+=f*u,cs+=c,ps+=c*(bs+(bs=r)),gs+=c*(ws+(ws=i)),vs+=c*(Ms+(Ms=o)),Rs(bs,ws,Ms)}function Ws(t){return function(){return t}}function Xs(n,r){function t(t,e){return t=n(t,e),r(t[0],t[1])}return n.invert&&r.invert&&(t.invert=function(t,e){return(t=r.invert(t,e))&&n.invert(t[0],t[1])}),t}function Ks(t,e){return[aa<t?t-la:t<-aa?t+la:t,e]}function Zs(t,e,n){return(t%=la)?e||n?Xs(Js(t),tu(e,n)):Js(t):e||n?tu(e,n):Ks}function Qs(n){return function(t,e){return[aa<(t+=n)?t-la:t<-aa?t+la:t,e]}}function Js(t){var e=Qs(t);return e.invert=Qs(-t),e}function tu(t,e){var s=ga(t),u=xa(t),l=ga(e),c=xa(e);function n(t,e){var n=ga(e),r=ga(t)*n,i=xa(t)*n,o=xa(e),a=o*s+r*u;return[pa(i*l-a*c,r*s-o*u),Ca(a*l+i*c)]}return n.invert=function(t,e){var n=ga(e),r=ga(t)*n,i=xa(t)*n,o=xa(e),a=o*l-i*c;return[pa(i*l+o*c,r*s+a*u),Ca(a*s-r*u)]},n}function eu(e){function t(t){return(t=e(t[0]*fa,t[1]*fa))[0]*=ca,t[1]*=ca,t}return e=Zs(e[0]*fa,e[1]*fa,2<e.length?e[2]*fa:0),t.invert=function(t){return(t=e.invert(t[0]*fa,t[1]*fa))[0]*=ca,t[1]*=ca,t},t}function nu(t,e,n,r,i,o){if(n){var a=ga(e),s=xa(e),u=r*n;null==i?(i=e+r*la,o=e-u/2):(i=ru(a,i),o=ru(a,o),(0<r?i<o:o<i)&&(i+=r*la));for(var l,c=i;0<r?o<c:c<o;c-=u)l=ts([a,-s*ga(c),-s*xa(c)]),t.point(l[0],l[1])}}function ru(t,e){(e=es(e))[0]-=t,as(e);var n=Ma(-e[1]);return((-e[2]<0?-n:n)+la-oa)%la}function iu(){var n,e=[];return{point:function(t,e){n.push([t,e])},lineStart:function(){e.push(n=[])},lineEnd:Sa,rejoin:function(){1<e.length&&e.push(e.pop().concat(e.shift()))},result:function(){var t=e;return e=[],n=null,t}}}function ou(t,e){return ha(t[0]-e[0])<oa&&ha(t[1]-e[1])<oa}function au(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function su(t,e,n,r,o){var a,i,s=[],u=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n,r=t[0],i=t[e];if(ou(r,i)){for(o.lineStart(),a=0;a<e;++a)o.point((r=t[a])[0],r[1]);o.lineEnd()}else s.push(n=new au(r,t,null,!0)),u.push(n.o=new au(r,null,n,!1)),s.push(n=new au(i,t,null,!1)),u.push(n.o=new au(i,null,n,!0))}}),s.length){for(u.sort(e),uu(s),uu(u),a=0,i=u.length;a<i;++a)u[a].e=n=!n;for(var l,c,f=s[0];;){for(var h=f,d=!0;h.v;)if((h=h.n)===f)return;l=h.z,o.lineStart();do{if(h.v=h.o.v=!0,h.e){if(d)for(a=0,i=l.length;a<i;++a)o.point((c=l[a])[0],c[1]);else r(h.x,h.n.x,1,o);h=h.n}else{if(d)for(l=h.p.z,a=l.length-1;0<=a;--a)o.point((c=l[a])[0],c[1]);else r(h.x,h.p.x,-1,o);h=h.p}l=(h=h.o).z,d=!d}while(!h.v);o.lineEnd()}}}function uu(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}Ks.invert=Ks;var lu=ea();function cu(t,e){var n=e[0],r=e[1],i=[xa(n),-ga(n),0],o=0,a=0;lu.reset();for(var s=0,u=t.length;s<u;++s)if(c=(l=t[s]).length)for(var l,c,f=l[c-1],h=f[0],d=f[1]/2+ua,p=xa(d),g=ga(d),v=0;v<c;++v,h=m,p=x,g=E,f=y){var y=l[v],m=y[0],_=y[1]/2+ua,x=xa(_),E=ga(_),b=m-h,w=0<=b?1:-1,M=w*b,C=aa<M,T=p*x;if(lu.add(pa(T*w*xa(M),g*E+T*ga(M))),o+=C?b+w*la:b,C^n<=h^n<=m){var S=rs(es(f),es(y));as(S);var A=rs(i,S);as(A);var D=(C^0<=b?-1:1)*Ca(A[2]);(D<r||r===D&&(S[0]||S[1]))&&(a+=C^0<=b?1:-1)}}return(o<-oa||o<oa&&lu<-oa)^1&a}function fu(v,y,m,_){return function(s){var u,l,c,n=y(s),f=iu(),h=y(f),d=!1,e={point:r,lineStart:i,lineEnd:o,polygonStart:function(){e.point=p,e.lineStart=a,e.lineEnd=g,l=[],u=[]},polygonEnd:function(){e.point=r,e.lineStart=i,e.lineEnd=o,l=S(l);var t=cu(u,_);l.length?(d||(s.polygonStart(),d=!0),su(l,du,t,m,s)):t&&(d||(s.polygonStart(),d=!0),s.lineStart(),m(null,null,1,s),s.lineEnd()),d&&(s.polygonEnd(),d=!1),l=u=null},sphere:function(){s.polygonStart(),s.lineStart(),m(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function r(t,e){v(t,e)&&s.point(t,e)}function t(t,e){n.point(t,e)}function i(){e.point=t,n.lineStart()}function o(){e.point=r,n.lineEnd()}function p(t,e){c.push([t,e]),h.point(t,e)}function a(){h.lineStart(),c=[]}function g(){p(c[0][0],c[0][1]),h.lineEnd();var t,e,n,r,i=h.clean(),o=f.result(),a=o.length;if(c.pop(),u.push(c),c=null,a)if(1&i){if(0<(e=(n=o[0]).length-1)){for(d||(s.polygonStart(),d=!0),s.lineStart(),t=0;t<e;++t)s.point((r=n[t])[0],r[1]);s.lineEnd()}}else 1<a&&2&i&&o.push(o.pop().concat(o.shift())),l.push(o.filter(hu))}return e}}function hu(t){return 1<t.length}function du(t,e){return((t=t.x)[0]<0?t[1]-sa-oa:sa-t[1])-((e=e.x)[0]<0?e[1]-sa-oa:sa-e[1])}var pu=fu(function(){return!0},function(f){var h,d=NaN,p=NaN,g=NaN;return{lineStart:function(){f.lineStart(),h=1},point:function(t,e){var n,r,i,o,a,s,u,l=0<t?aa:-aa,c=ha(t-d);ha(c-aa)<oa?(f.point(d,p=0<(p+e)/2?sa:-sa),f.point(g,p),f.lineEnd(),f.lineStart(),f.point(l,p),f.point(t,p),h=0):g!==l&&aa<=c&&(ha(d-g)<oa&&(d-=g*oa),ha(t-l)<oa&&(t-=l*oa),r=p,o=e,u=xa((n=d)-(i=t)),p=ha(u)>oa?da((xa(r)*(s=ga(o))*xa(i)-xa(o)*(a=ga(r))*xa(n))/(a*s*u)):(r+o)/2,f.point(g,p),f.lineEnd(),f.lineStart(),f.point(l,p),h=0),f.point(d=t,p=e),g=l},lineEnd:function(){f.lineEnd(),d=p=NaN},clean:function(){return 2-h}}},function(t,e,n,r){var i;if(null==t)i=n*sa,r.point(-aa,i),r.point(0,i),r.point(aa,i),r.point(aa,0),r.point(aa,-i),r.point(0,-i),r.point(-aa,-i),r.point(-aa,0),r.point(-aa,i);else if(ha(t[0]-e[0])>oa){var o=t[0]<e[0]?aa:-aa;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])},[-aa,-sa]);function gu(i){var T=ga(i),o=6*fa,d=0<T,p=ha(T)>oa;function g(t,e){return ga(t)*ga(e)>T}function v(t,e,n){var r=[1,0,0],i=rs(es(t),es(e)),o=ns(i,i),a=i[0],s=o-a*a;if(!s)return!n&&t;var u=T*o/s,l=-T*a/s,c=rs(r,i),f=os(r,u);is(f,os(i,l));var h=c,d=ns(f,h),p=ns(h,h),g=d*d-p*(ns(f,f)-1);if(!(g<0)){var v=ba(g),y=os(h,(-d-v)/p);if(is(y,f),y=ts(y),!n)return y;var m,_=t[0],x=e[0],E=t[1],b=e[1];x<_&&(m=_,_=x,x=m);var w=x-_,M=ha(w-aa)<oa;if(!M&&b<E&&(m=E,E=b,b=m),M||w<oa?M?0<E+b^y[1]<(ha(y[0]-_)<oa?E:b):E<=y[1]&&y[1]<=b:aa<w^(_<=y[0]&&y[0]<=x)){var C=os(h,(-d+v)/p);return is(C,f),[y,ts(C)]}}}function y(t,e){var n=d?i:aa-i,r=0;return t<-n?r|=1:n<t&&(r|=2),e<-n?r|=4:n<e&&(r|=8),r}return fu(g,function(s){var u,l,c,f,h;return{lineStart:function(){f=c=!1,h=1},point:function(t,e){var n,r=[t,e],i=g(t,e),o=d?i?0:y(t,e):i?y(t+(t<0?aa:-aa),e):0;if(!u&&(f=c=i)&&s.lineStart(),i!==c&&(!(n=v(u,r))||ou(u,n)||ou(r,n))&&(r[0]+=oa,r[1]+=oa,i=g(r[0],r[1])),i!==c)h=0,i?(s.lineStart(),n=v(r,u),s.point(n[0],n[1])):(n=v(u,r),s.point(n[0],n[1]),s.lineEnd()),u=n;else if(p&&u&&d^i){var a;o&l||!(a=v(r,u,!0))||(h=0,d?(s.lineStart(),s.point(a[0][0],a[0][1]),s.point(a[1][0],a[1][1]),s.lineEnd()):(s.point(a[1][0],a[1][1]),s.lineEnd(),s.lineStart(),s.point(a[0][0],a[0][1])))}!i||u&&ou(u,r)||s.point(r[0],r[1]),u=r,c=i,l=o},lineEnd:function(){c&&s.lineEnd(),u=null},clean:function(){return h|(f&&c)<<1}}},function(t,e,n,r){nu(r,i,o,n,t,e)},d?[0,-i]:[-aa,i-aa])}var vu=1e9,yu=-vu;function mu(y,m,_,x){function E(t,e){return y<=t&&t<=_&&m<=e&&e<=x}function b(t,e,n,r){var i=0,o=0;if(null==t||(i=a(t,n))!==(o=a(e,n))||s(t,e)<0^0<n)for(;r.point(0===i||3===i?y:_,1<i?x:m),(i=(i+n+4)%4)!==o;);else r.point(e[0],e[1])}function a(t,e){return ha(t[0]-y)<oa?0<e?0:3:ha(t[0]-_)<oa?0<e?2:1:ha(t[1]-m)<oa?0<e?1:0:0<e?3:2}function w(t,e){return s(t.x,e.x)}function s(t,e){var n=a(t,1),r=a(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(r){var i,f,o,a,s,u,l,c,h,d,p,g=r,t=iu(),e={point:n,lineStart:function(){e.point=v,f&&f.push(o=[]);d=!0,h=!1,l=c=NaN},lineEnd:function(){i&&(v(a,s),u&&h&&t.rejoin(),i.push(t.result()));e.point=n,h&&g.lineEnd()},polygonStart:function(){g=t,i=[],f=[],p=!0},polygonEnd:function(){var t=function(){for(var t=0,e=0,n=f.length;e<n;++e)for(var r,i,o=f[e],a=1,s=o.length,u=o[0],l=u[0],c=u[1];a<s;++a)r=l,i=c,u=o[a],l=u[0],c=u[1],i<=x?x<c&&(c-i)*(y-r)<(l-r)*(x-i)&&++t:c<=x&&(l-r)*(x-i)<(c-i)*(y-r)&&--t;return t}(),e=p&&t,n=(i=S(i)).length;(e||n)&&(r.polygonStart(),e&&(r.lineStart(),b(null,null,1,r),r.lineEnd()),n&&su(i,w,t,b,r),r.polygonEnd());g=r,i=f=o=null}};function n(t,e){E(t,e)&&g.point(t,e)}function v(t,e){var n=E(t,e);if(f&&o.push([t,e]),d)a=t,s=e,d=!1,(u=n)&&(g.lineStart(),g.point(t,e));else if(n&&h)g.point(t,e);else{var r=[l=Math.max(yu,Math.min(vu,l)),c=Math.max(yu,Math.min(vu,c))],i=[t=Math.max(yu,Math.min(vu,t)),e=Math.max(yu,Math.min(vu,e))];!function(t,e,n,r,i,o){var a,s=t[0],u=t[1],l=0,c=1,f=e[0]-s,h=e[1]-u;if(a=n-s,f||!(0<a)){if(a/=f,f<0){if(a<l)return;a<c&&(c=a)}else if(0<f){if(c<a)return;l<a&&(l=a)}if(a=i-s,f||!(a<0)){if(a/=f,f<0){if(c<a)return;l<a&&(l=a)}else if(0<f){if(a<l)return;a<c&&(c=a)}if(a=r-u,h||!(0<a)){if(a/=h,h<0){if(a<l)return;a<c&&(c=a)}else if(0<h){if(c<a)return;l<a&&(l=a)}if(a=o-u,h||!(a<0)){if(a/=h,h<0){if(c<a)return;l<a&&(l=a)}else if(0<h){if(a<l)return;a<c&&(c=a)}return 0<l&&(t[0]=s+l*f,t[1]=u+l*h),c<1&&(e[0]=s+c*f,e[1]=u+c*h),!0}}}}}(r,i,y,m,_,x)?n&&(g.lineStart(),g.point(t,e),p=!1):(h||(g.lineStart(),g.point(r[0],r[1])),g.point(i[0],i[1]),n||g.lineEnd(),p=!1)}l=t,c=e,h=n}return e}}var _u,xu,Eu,bu=ea(),wu={sphere:Sa,point:Sa,lineStart:function(){wu.point=Cu,wu.lineEnd=Mu},lineEnd:Sa,polygonStart:Sa,polygonEnd:Sa};function Mu(){wu.point=wu.lineEnd=Sa}function Cu(t,e){_u=t*=fa,xu=xa(e*=fa),Eu=ga(e),wu.point=Tu}function Tu(t,e){t*=fa;var n=xa(e*=fa),r=ga(e),i=ha(t-_u),o=ga(i),a=r*xa(i),s=Eu*n-xu*r*o,u=xu*n+Eu*r*o;bu.add(pa(ba(a*a+s*s),u)),_u=t,xu=n,Eu=r}function Su(t){return bu.reset(),Oa(t,wu),+bu}var Au=[null,null],Du={type:"LineString",coordinates:Au};function Lu(t,e){return Au[0]=t,Au[1]=e,Su(Du)}var Nu={Feature:function(t,e){return Ou(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)if(Ou(n[r].geometry,e))return!0;return!1}},ku={Sphere:function(){return!0},Point:function(t,e){return $u(t.coordinates,e)},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if($u(n[r],e))return!0;return!1},LineString:function(t,e){return Fu(t.coordinates,e)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Fu(n[r],e))return!0;return!1},Polygon:function(t,e){return Pu(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)if(Pu(n[r],e))return!0;return!1},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)if(Ou(n[r],e))return!0;return!1}};function Ou(t,e){return!(!t||!ku.hasOwnProperty(t.type))&&ku[t.type](t,e)}function $u(t,e){return 0===Lu(t,e)}function Fu(t,e){var n=Lu(t[0],t[1]);return Lu(t[0],e)+Lu(e,t[1])<=n+oa}function Pu(t,e){return!!cu(t.map(Iu),Uu(e))}function Iu(t){return(t=t.map(Uu)).pop(),t}function Uu(t){return[t[0]*fa,t[1]*fa]}function Ru(t,e,n){var r=C(t,e-oa,n).concat(e);return function(e){return r.map(function(t){return[e,t]})}}function Gu(t,e,n){var r=C(t,e-oa,n).concat(e);return function(e){return r.map(function(t){return[t,e]})}}function Hu(){var e,n,r,i,o,a,s,u,l,c,f,h,d=10,p=d,g=90,v=360,y=2.5;function m(){return{type:"MultiLineString",coordinates:t()}}function t(){return C(va(i/g)*g,r,g).map(f).concat(C(va(u/v)*v,s,v).map(h)).concat(C(va(n/d)*d,e,d).filter(function(t){return ha(t%g)>oa}).map(l)).concat(C(va(a/p)*p,o,p).filter(function(t){return ha(t%v)>oa}).map(c))}return m.lines=function(){return t().map(function(t){return{type:"LineString",coordinates:t}})},m.outline=function(){return{type:"Polygon",coordinates:[f(i).concat(h(s).slice(1),f(r).reverse().slice(1),h(u).reverse().slice(1))]}},m.extent=function(t){return arguments.length?m.extentMajor(t).extentMinor(t):m.extentMinor()},m.extentMajor=function(t){return arguments.length?(i=+t[0][0],r=+t[1][0],u=+t[0][1],s=+t[1][1],r<i&&(t=i,i=r,r=t),s<u&&(t=u,u=s,s=t),m.precision(y)):[[i,u],[r,s]]},m.extentMinor=function(t){return arguments.length?(n=+t[0][0],e=+t[1][0],a=+t[0][1],o=+t[1][1],e<n&&(t=n,n=e,e=t),o<a&&(t=a,a=o,o=t),m.precision(y)):[[n,a],[e,o]]},m.step=function(t){return arguments.length?m.stepMajor(t).stepMinor(t):m.stepMinor()},m.stepMajor=function(t){return arguments.length?(g=+t[0],v=+t[1],m):[g,v]},m.stepMinor=function(t){return arguments.length?(d=+t[0],p=+t[1],m):[d,p]},m.precision=function(t){return arguments.length?(y=+t,l=Ru(a,o,90),c=Gu(n,e,y),f=Ru(u,s,90),h=Gu(i,r,y),m):y},m.extentMajor([[-180,-90+oa],[180,90-oa]]).extentMinor([[-180,-80-oa],[180,80+oa]])}function zu(t){return t}var qu,Bu,ju,Yu,Vu=ea(),Wu=ea(),Xu={point:Sa,lineStart:Sa,lineEnd:Sa,polygonStart:function(){Xu.lineStart=Ku,Xu.lineEnd=Ju},polygonEnd:function(){Xu.lineStart=Xu.lineEnd=Xu.point=Sa,Vu.add(ha(Wu)),Wu.reset()},result:function(){var t=Vu/2;return Vu.reset(),t}};function Ku(){Xu.point=Zu}function Zu(t,e){Xu.point=Qu,qu=ju=t,Bu=Yu=e}function Qu(t,e){Wu.add(Yu*t-ju*e),ju=t,Yu=e}function Ju(){Qu(qu,Bu)}var tl=1/0,el=tl,nl=-tl,rl=nl,il={point:function(t,e){t<tl&&(tl=t);nl<t&&(nl=t);e<el&&(el=e);rl<e&&(rl=e)},lineStart:Sa,lineEnd:Sa,polygonStart:Sa,polygonEnd:Sa,result:function(){var t=[[tl,el],[nl,rl]];return nl=rl=-(el=tl=1/0),t}};var ol,al,sl,ul,ll=0,cl=0,fl=0,hl=0,dl=0,pl=0,gl=0,vl=0,yl=0,ml={point:_l,lineStart:xl,lineEnd:wl,polygonStart:function(){ml.lineStart=Ml,ml.lineEnd=Cl},polygonEnd:function(){ml.point=_l,ml.lineStart=xl,ml.lineEnd=wl},result:function(){var t=yl?[gl/yl,vl/yl]:pl?[hl/pl,dl/pl]:fl?[ll/fl,cl/fl]:[NaN,NaN];return ll=cl=fl=hl=dl=pl=gl=vl=yl=0,t}};function _l(t,e){ll+=t,cl+=e,++fl}function xl(){ml.point=El}function El(t,e){ml.point=bl,_l(sl=t,ul=e)}function bl(t,e){var n=t-sl,r=e-ul,i=ba(n*n+r*r);hl+=i*(sl+t)/2,dl+=i*(ul+e)/2,pl+=i,_l(sl=t,ul=e)}function wl(){ml.point=_l}function Ml(){ml.point=Tl}function Cl(){Sl(ol,al)}function Tl(t,e){ml.point=Sl,_l(ol=sl=t,al=ul=e)}function Sl(t,e){var n=t-sl,r=e-ul,i=ba(n*n+r*r);hl+=i*(sl+t)/2,dl+=i*(ul+e)/2,pl+=i,gl+=(i=ul*t-sl*e)*(sl+t),vl+=i*(ul+e),yl+=3*i,_l(sl=t,ul=e)}function Al(t){this._context=t}Al.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._context.moveTo(t,e),this._point=1;break;case 1:this._context.lineTo(t,e);break;default:this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,la)}},result:Sa};var Dl,Ll,Nl,kl,Ol,$l=ea(),Fl={point:Sa,lineStart:function(){Fl.point=Pl},lineEnd:function(){Dl&&Il(Ll,Nl),Fl.point=Sa},polygonStart:function(){Dl=!0},polygonEnd:function(){Dl=null},result:function(){var t=+$l;return $l.reset(),t}};function Pl(t,e){Fl.point=Il,Ll=kl=t,Nl=Ol=e}function Il(t,e){kl-=t,Ol-=e,$l.add(ba(kl*kl+Ol*Ol)),kl=t,Ol=e}function Ul(){this._string=[]}function Rl(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Gl(r){return function(t){var e=new Hl;for(var n in r)e[n]=r[n];return e.stream=t,e}}function Hl(){}function zl(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),null!=r&&t.clipExtent(null),Oa(n,t.stream(il)),e(il.result()),null!=r&&t.clipExtent(r),t}function ql(a,s,t){return zl(a,function(t){var e=s[1][0]-s[0][0],n=s[1][1]-s[0][1],r=Math.min(e/(t[1][0]-t[0][0]),n/(t[1][1]-t[0][1])),i=+s[0][0]+(e-r*(t[1][0]+t[0][0]))/2,o=+s[0][1]+(n-r*(t[1][1]+t[0][1]))/2;a.scale(150*r).translate([i,o])},t)}function Bl(t,e,n){return ql(t,[[0,0],e],n)}function jl(o,a,t){return zl(o,function(t){var e=+a,n=e/(t[1][0]-t[0][0]),r=(e-n*(t[1][0]+t[0][0]))/2,i=-n*t[0][1];o.scale(150*n).translate([r,i])},t)}function Yl(o,a,t){return zl(o,function(t){var e=+a,n=e/(t[1][1]-t[0][1]),r=-n*t[0][0],i=(e-n*(t[1][1]+t[0][1]))/2;o.scale(150*n).translate([r,i])},t)}Ul.prototype={_radius:4.5,_circle:Rl(4.5),pointRadius:function(t){return(t=+t)!==this._radius&&(this._radius=t,this._circle=null),this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){0===this._line&&this._string.push("Z"),this._point=NaN},point:function(t,e){switch(this._point){case 0:this._string.push("M",t,",",e),this._point=1;break;case 1:this._string.push("L",t,",",e);break;default:null==this._circle&&(this._circle=Rl(this._radius)),this._string.push("M",t,",",e,this._circle)}},result:function(){if(this._string.length){var t=this._string.join("");return this._string=[],t}return null}},Hl.prototype={constructor:Hl,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};var Vl=16,Wl=ga(30*fa);function Xl(t,e){return+e?function(D,L){function N(t,e,n,r,i,o,a,s,u,l,c,f,h,d){var p=a-t,g=s-e,v=p*p+g*g;if(4*L<v&&h--){var y=r+l,m=i+c,_=o+f,x=ba(y*y+m*m+_*_),E=Ca(_/=x),b=ha(ha(_)-1)<oa||ha(n-u)<oa?(n+u)/2:pa(m,y),w=D(b,E),M=w[0],C=w[1],T=M-t,S=C-e,A=g*T-p*S;(L<A*A/v||.3<ha((p*T+g*S)/v-.5)||r*l+i*c+o*f<Wl)&&(N(t,e,n,r,i,o,M,C,b,y/=x,m/=x,_,h,d),d.point(M,C),N(M,C,b,y,m,_,a,s,u,l,c,f,h,d))}}return function(i){var n,r,o,a,s,u,l,c,f,h,d,p,g={point:t,lineStart:e,lineEnd:y,polygonStart:function(){i.polygonStart(),g.lineStart=m},polygonEnd:function(){i.polygonEnd(),g.lineStart=e}};function t(t,e){t=D(t,e),i.point(t[0],t[1])}function e(){c=NaN,g.point=v,i.lineStart()}function v(t,e){var n=es([t,e]),r=D(t,e);N(c,f,l,h,d,p,c=r[0],f=r[1],l=t,h=n[0],d=n[1],p=n[2],Vl,i),i.point(c,f)}function y(){g.point=t,i.lineEnd()}function m(){e(),g.point=_,g.lineEnd=x}function _(t,e){v(n=t,e),r=c,o=f,a=h,s=d,u=p,g.point=v}function x(){N(c,f,l,h,d,p,r,o,n,a,s,u,Vl,i),(g.lineEnd=y)()}return g}}(t,e):(n=t,Gl({point:function(t,e){t=n(t,e),this.stream.point(t[0],t[1])}}));var n}var Kl=Gl({point:function(t,e){this.stream.point(t*fa,e*fa)}});function Zl(t){return Ql(function(){return t})()}function Ql(t){var n,r,i,e,o,a,s,u,l,c,f=150,h=480,d=250,p=0,g=0,v=0,y=0,m=0,_=null,x=pu,E=null,b=zu,w=.5,M=Xl(S,w);function C(t){return[(t=o(t[0]*fa,t[1]*fa))[0]*f+r,i-t[1]*f]}function T(t){return(t=o.invert((t[0]-r)/f,(i-t[1])/f))&&[t[0]*ca,t[1]*ca]}function S(t,e){return[(t=n(t,e))[0]*f+r,i-t[1]*f]}function A(){o=Xs(e=Zs(v,y,m),n);var t=n(p,g);return r=h-t[0]*f,i=d+t[1]*f,D()}function D(){return l=c=null,C}return C.stream=function(t){return l&&c===t?l:l=Kl((r=e,Gl({point:function(t,e){var n=r(t,e);return this.stream.point(n[0],n[1])}})(x(M(b(c=t))))));var r},C.preclip=function(t){return arguments.length?(x=t,_=void 0,D()):x},C.postclip=function(t){return arguments.length?(b=t,E=a=s=u=null,D()):b},C.clipAngle=function(t){return arguments.length?(x=+t?gu(_=t*fa):(_=null,pu),D()):_*ca},C.clipExtent=function(t){return arguments.length?(b=null==t?(E=a=s=u=null,zu):mu(E=+t[0][0],a=+t[0][1],s=+t[1][0],u=+t[1][1]),D()):null==E?null:[[E,a],[s,u]]},C.scale=function(t){return arguments.length?(f=+t,A()):f},C.translate=function(t){return arguments.length?(h=+t[0],d=+t[1],A()):[h,d]},C.center=function(t){return arguments.length?(p=t[0]%360*fa,g=t[1]%360*fa,A()):[p*ca,g*ca]},C.rotate=function(t){return arguments.length?(v=t[0]%360*fa,y=t[1]%360*fa,m=2<t.length?t[2]%360*fa:0,A()):[v*ca,y*ca,m*ca]},C.precision=function(t){return arguments.length?(M=Xl(S,w=t*t),D()):ba(w)},C.fitExtent=function(t,e){return ql(C,t,e)},C.fitSize=function(t,e){return Bl(C,t,e)},C.fitWidth=function(t,e){return jl(C,t,e)},C.fitHeight=function(t,e){return Yl(C,t,e)},function(){return n=t.apply(this,arguments),C.invert=n.invert&&T,A()}}function Jl(t){var e=0,n=aa/3,r=Ql(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*fa,n=t[1]*fa):[e*ca,n*ca]},i}function tc(t,e){var n=xa(t),r=(n+xa(e))/2;if(ha(r)<oa)return function(t){var n=ga(t);function e(t,e){return[t*n,xa(e)/n]}return e.invert=function(t,e){return[t/n,Ca(e*n)]},e}(t);var i=1+n*(2*r-n),o=ba(i)/r;function a(t,e){var n=ba(i-2*r*xa(e))/r;return[n*xa(t*=r),o-n*ga(t)]}return a.invert=function(t,e){var n=o-e;return[pa(t,ha(n))/r*Ea(n),Ca((i-(t*t+n*n)*r*r)/(2*r))]},a}function ec(){return Jl(tc).scale(155.424).center([0,33.6442])}function nc(){return ec().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function rc(o){return function(t,e){var n=ga(t),r=ga(e),i=o(n*r);return[i*r*xa(t),i*xa(e)]}}function ic(a){return function(t,e){var n=ba(t*t+e*e),r=a(n),i=xa(r),o=ga(r);return[pa(t*i,n*o),Ca(n&&e*i/n)]}}var oc=rc(function(t){return ba(2/(1+t))});oc.invert=ic(function(t){return 2*Ca(t/2)});var ac=rc(function(t){return(t=Ma(t))&&t/xa(t)});function sc(t,e){return[t,ma(wa((sa+e)/2))]}function uc(n){var r,i,o,a=Zl(n),e=a.center,s=a.scale,u=a.translate,l=a.clipExtent,c=null;function f(){var t=aa*s(),e=a(eu(a.rotate()).invert([0,0]));return l(null==c?[[e[0]-t,e[1]-t],[e[0]+t,e[1]+t]]:n===sc?[[Math.max(e[0]-t,c),r],[Math.min(e[0]+t,i),o]]:[[c,Math.max(e[1]-t,r)],[i,Math.min(e[1]+t,o)]])}return a.scale=function(t){return arguments.length?(s(t),f()):s()},a.translate=function(t){return arguments.length?(u(t),f()):u()},a.center=function(t){return arguments.length?(e(t),f()):e()},a.clipExtent=function(t){return arguments.length?(null==t?c=r=i=o=null:(c=+t[0][0],r=+t[0][1],i=+t[1][0],o=+t[1][1]),f()):null==c?null:[[c,r],[i,o]]},f()}function lc(t){return wa((sa+t)/2)}function cc(t,e){var n=ga(t),i=t===e?xa(t):ma(n/ga(e))/ma(lc(e)/lc(t)),o=n*_a(lc(t),i)/i;if(!i)return sc;function r(t,e){0<o?e<-sa+oa&&(e=-sa+oa):sa-oa<e&&(e=sa-oa);var n=o/_a(lc(e),i);return[n*xa(i*t),o-n*ga(i*t)]}return r.invert=function(t,e){var n=o-e,r=Ea(i)*ba(t*t+n*n);return[pa(t,ha(n))/i*Ea(n),2*da(_a(o/r,1/i))-sa]},r}function fc(t,e){return[t,e]}function hc(t,e){var n=ga(t),i=t===e?xa(t):(n-ga(e))/(e-t),o=n/i+t;if(ha(i)<oa)return fc;function r(t,e){var n=o-e,r=i*t;return[n*xa(r),o-n*ga(r)]}return r.invert=function(t,e){var n=o-e;return[pa(t,ha(n))/i*Ea(n),o-Ea(i)*ba(t*t+n*n)]},r}function dc(t,e){var n=ga(e),r=ga(t)*n;return[n*xa(t)/r,xa(e)/r]}function pc(n,r,i,o){return 1===n&&1===r&&0===i&&0===o?zu:Gl({point:function(t,e){this.stream.point(t*n+i,e*r+o)}})}function gc(t,e){var n=e*e,r=n*n;return[t*(.8707-.131979*n+r*(r*(.003971*n-.001529*r)-.013791)),e*(1.007226+n*(.015085+r*(.028874*n-.044475-.005916*r)))]}function vc(t,e){return[ga(e)*xa(t),xa(e)]}function yc(t,e){var n=ga(e),r=1+ga(t)*n;return[n*xa(t)/r,xa(e)/r]}function mc(t,e){return[ma(wa((sa+e)/2)),-t]}function _c(t,e){return t.parent===e.parent?1:2}function xc(t,e){return t+e.x}function Ec(t,e){return Math.max(t,e.y)}function bc(t){var e=0,n=t.children,r=n&&n.length;if(r)for(;0<=--r;)e+=n[r].value;else e=1;t.value=e}function wc(t,e){var n,r,i,o,a,s=new Sc(t),u=+t.value&&(s.value=t.value),l=[s];for(null==e&&(e=Mc);n=l.pop();)if(u&&(n.value=+n.data.value),(i=e(n.data))&&(a=i.length))for(n.children=new Array(a),o=a-1;0<=o;--o)l.push(r=n.children[o]=new Sc(i[o])),r.parent=n,r.depth=n.depth+1;return s.eachBefore(Tc)}function Mc(t){return t.children}function Cc(t){t.data=t.data.data}function Tc(t){for(var e=0;t.height=e,(t=t.parent)&&t.height<++e;);}function Sc(t){this.data=t,this.depth=this.height=0,this.parent=null}ac.invert=ic(function(t){return t}),sc.invert=function(t,e){return[t,2*da(ya(e))-sa]},fc.invert=fc,dc.invert=ic(da),gc.invert=function(t,e){var n,r=e,i=25;do{var o=r*r,a=o*o;r-=n=(r*(1.007226+o*(.015085+a*(.028874*o-.044475-.005916*a)))-e)/(1.007226+o*(.045255+a*(.259866*o-.311325-.005916*11*a)))}while(ha(n)>oa&&0<--i);return[t/(.8707+(o=r*r)*(o*(o*o*o*(.003971-.001529*o)-.013791)-.131979)),r]},vc.invert=ic(Ca),yc.invert=ic(function(t){return 2*da(t)}),mc.invert=function(t,e){return[-e,2*da(ya(t))-sa]},Sc.prototype=wc.prototype={constructor:Sc,count:function(){return this.eachAfter(bc)},each:function(t){var e,n,r,i,o=this,a=[o];do{for(e=a.reverse(),a=[];o=e.pop();)if(t(o),n=o.children)for(r=0,i=n.length;r<i;++r)a.push(n[r])}while(a.length);return this},eachAfter:function(t){for(var e,n,r,i=this,o=[i],a=[];i=o.pop();)if(a.push(i),e=i.children)for(n=0,r=e.length;n<r;++n)o.push(e[n]);for(;i=a.pop();)t(i);return this},eachBefore:function(t){for(var e,n,r=this,i=[r];r=i.pop();)if(t(r),e=r.children)for(n=e.length-1;0<=n;--n)i.push(e[n]);return this},sum:function(i){return this.eachAfter(function(t){for(var e=+i(t.data)||0,n=t.children,r=n&&n.length;0<=--r;)e+=n[r].value;t.value=e})},sort:function(e){return this.eachBefore(function(t){t.children&&t.children.sort(e)})},path:function(t){for(var e=this,n=function(t,e){if(t===e)return t;var n=t.ancestors(),r=e.ancestors(),i=null;for(t=n.pop(),e=r.pop();t===e;)i=t,t=n.pop(),e=r.pop();return i}(e,t),r=[e];e!==n;)e=e.parent,r.push(e);for(var i=r.length;t!==n;)r.splice(i,0,t),t=t.parent;return r},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var e=[];return this.each(function(t){e.push(t)}),e},leaves:function(){var e=[];return this.eachBefore(function(t){t.children||e.push(t)}),e},links:function(){var e=this,n=[];return e.each(function(t){t!==e&&n.push({source:t.parent,target:t})}),n},copy:function(){return wc(this).eachBefore(Cc)}};var Ac=Array.prototype.slice;function Dc(t){for(var e,n,r=0,i=(t=function(t){for(var e,n,r=t.length;r;)n=Math.random()*r--|0,e=t[r],t[r]=t[n],t[n]=e;return t}(Ac.call(t))).length,o=[];r<i;)e=t[r],n&&kc(n,e)?++r:(n=$c(o=Lc(o,e)),r=0);return n}function Lc(t,e){var n,r;if(Oc(e,t))return[e];for(n=0;n<t.length;++n)if(Nc(e,t[n])&&Oc(Fc(t[n],e),t))return[t[n],e];for(n=0;n<t.length-1;++n)for(r=n+1;r<t.length;++r)if(Nc(Fc(t[n],t[r]),e)&&Nc(Fc(t[n],e),t[r])&&Nc(Fc(t[r],e),t[n])&&Oc(Pc(t[n],t[r],e),t))return[t[n],t[r],e];throw new Error}function Nc(t,e){var n=t.r-e.r,r=e.x-t.x,i=e.y-t.y;return n<0||n*n<r*r+i*i}function kc(t,e){var n=t.r-e.r+1e-6,r=e.x-t.x,i=e.y-t.y;return 0<n&&r*r+i*i<n*n}function Oc(t,e){for(var n=0;n<e.length;++n)if(!kc(t,e[n]))return!1;return!0}function $c(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return Fc(t[0],t[1]);case 3:return Pc(t[0],t[1],t[2])}var e}function Fc(t,e){var n=t.x,r=t.y,i=t.r,o=e.x,a=e.y,s=e.r,u=o-n,l=a-r,c=s-i,f=Math.sqrt(u*u+l*l);return{x:(n+o+u/f*c)/2,y:(r+a+l/f*c)/2,r:(f+i+s)/2}}function Pc(t,e,n){var r=t.x,i=t.y,o=t.r,a=e.x,s=e.y,u=e.r,l=n.x,c=n.y,f=n.r,h=r-a,d=r-l,p=i-s,g=i-c,v=u-o,y=f-o,m=r*r+i*i-o*o,_=m-a*a-s*s+u*u,x=m-l*l-c*c+f*f,E=d*p-h*g,b=(p*x-g*_)/(2*E)-r,w=(g*v-p*y)/E,M=(d*_-h*x)/(2*E)-i,C=(h*y-d*v)/E,T=w*w+C*C-1,S=2*(o+b*w+M*C),A=b*b+M*M-o*o,D=-(T?(S+Math.sqrt(S*S-4*T*A))/(2*T):A/S);return{x:r+b+w*D,y:i+M+C*D,r:D}}function Ic(t,e,n){var r=t.x,i=t.y,o=e.r+n.r,a=t.r+n.r,s=e.x-r,u=e.y-i,l=s*s+u*u;if(l){var c=.5+((a*=a)-(o*=o))/(2*l),f=Math.sqrt(Math.max(0,2*o*(a+l)-(a-=l)*a-o*o))/(2*l);n.x=r+c*s+f*u,n.y=i+c*u-f*s}else n.x=r+a,n.y=i}function Uc(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return n*n+r*r<i*i-1e-6}function Rc(t){var e=t._,n=t.next._,r=e.r+n.r,i=(e.x*n.r+n.x*e.r)/r,o=(e.y*n.r+n.y*e.r)/r;return i*i+o*o}function Gc(t){this._=t,this.next=null,this.previous=null}function Hc(t){if(!(i=t.length))return 0;var e,n,r,i,o,a,s,u,l,c,f;if((e=t[0]).x=0,e.y=0,!(1<i))return e.r;if(n=t[1],e.x=-n.r,n.x=e.r,n.y=0,!(2<i))return e.r+n.r;Ic(n,e,r=t[2]),e=new Gc(e),n=new Gc(n),r=new Gc(r),e.next=r.previous=n,n.next=e.previous=r,r.next=n.previous=e;t:for(s=3;s<i;++s){Ic(e._,n._,r=t[s]),r=new Gc(r),u=n.next,l=e.previous,c=n._.r,f=e._.r;do{if(c<=f){if(Uc(u._,r._)){n=u,(e.next=n).previous=e,--s;continue t}c+=u._.r,u=u.next}else{if(Uc(l._,r._)){((e=l).next=n).previous=e,--s;continue t}f+=l._.r,l=l.previous}}while(u!==l.next);for(r.previous=e,r.next=n,e.next=n.previous=n=r,o=Rc(e);(r=r.next)!==n;)(a=Rc(r))<o&&(e=r,o=a);n=e.next}for(e=[n._],r=n;(r=r.next)!==n;)e.push(r._);for(r=Dc(e),s=0;s<i;++s)(e=t[s]).x-=r.x,e.y-=r.y;return r.r}function zc(t){if("function"!=typeof t)throw new Error;return t}function qc(){return 0}function Bc(t){return function(){return t}}function jc(t){return Math.sqrt(t.value)}function Yc(e){return function(t){t.children||(t.r=Math.max(0,+e(t)||0))}}function Vc(a,s){return function(t){if(e=t.children){var e,n,r,i=e.length,o=a(t)*s||0;if(o)for(n=0;n<i;++n)e[n].r+=o;if(r=Hc(e),o)for(n=0;n<i;++n)e[n].r-=o;t.r=r+o}}}function Wc(n){return function(t){var e=t.parent;t.r*=n,e&&(t.x=e.x+n*t.x,t.y=e.y+n*t.y)}}function Xc(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function Kc(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(r-e)/t.value;++s<u;)(o=a[s]).y0=n,o.y1=i,o.x0=e,o.x1=e+=o.value*l}var Zc={depth:-1},Qc={};function Jc(t){return t.id}function tf(t){return t.parentId}function ef(t,e){return t.parent===e.parent?1:2}function nf(t){var e=t.children;return e?e[0]:t.t}function rf(t){var e=t.children;return e?e[e.length-1]:t.t}function of(t,e){this._=t,this.parent=null,this.children=null,this.A=null,(this.a=this).z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function af(t,e,n,r,i){for(var o,a=t.children,s=-1,u=a.length,l=t.value&&(i-n)/t.value;++s<u;)(o=a[s]).x0=e,o.x1=r,o.y0=n,o.y1=n+=o.value*l}of.prototype=Object.create(Sc.prototype);var sf=(1+Math.sqrt(5))/2;function uf(t,e,n,r,i,o){for(var a,s,u,l,c,f,h,d,p,g,v,y=[],m=e.children,_=0,x=0,E=m.length,b=e.value;_<E;){for(u=i-n,l=o-r;!(c=m[x++].value)&&x<E;);for(f=h=c,v=c*c*(g=Math.max(l/u,u/l)/(b*t)),p=Math.max(h/v,v/f);x<E;++x){if(c+=s=m[x].value,s<f&&(f=s),h<s&&(h=s),v=c*c*g,p<(d=Math.max(h/v,v/f))){c-=s;break}p=d}y.push(a={value:c,dice:u<l,children:m.slice(_,x)}),a.dice?Kc(a,n,r,i,b?r+=l*c/b:o):af(a,n,r,b?n+=u*c/b:i,o),b-=c,_=x}return y}var lf=function e(o){function t(t,e,n,r,i){uf(o,t,e,n,r,i)}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(sf);var cf=function e(d){function t(t,e,n,r,i){if((o=t._squarify)&&o.ratio===d)for(var o,a,s,u,l,c=-1,f=o.length,h=t.value;++c<f;){for(s=(a=o[c]).children,u=a.value=0,l=s.length;u<l;++u)a.value+=s[u].value;a.dice?Kc(a,e,n,r,n+=(i-n)*a.value/h):af(a,e,n,e+=(r-e)*a.value/h,i),h-=a.value}else t._squarify=o=uf(d,t,e,n,r,i),o.ratio=d}return t.ratio=function(t){return e(1<(t=+t)?t:1)},t}(sf);function ff(t,e){return t[0]-e[0]||t[1]-e[1]}function hf(t){for(var e,n,r,i=t.length,o=[0,1],a=2,s=2;s<i;++s){for(;1<a&&(e=t[o[a-2]],n=t[o[a-1]],r=t[s],(n[0]-e[0])*(r[1]-e[1])-(n[1]-e[1])*(r[0]-e[0])<=0);)--a;o[a++]=s}return o.slice(0,a)}var df=[].slice,pf={};function gf(t){this._size=t,this._call=this._error=null,this._tasks=[],this._data=[],this._waiting=this._active=this._ended=this._start=0}function vf(e){if(!e._start)try{!function(t){for(;t._start=t._waiting&&t._active<t._size;){var e=t._ended+t._active,n=t._tasks[e],r=n.length-1,i=n[r];n[r]=yf(t,e),--t._waiting,++t._active,n=i.apply(null,n),t._tasks[e]&&(t._tasks[e]=n||pf)}}(e)}catch(t){if(e._tasks[e._ended+e._active-1])mf(e,t);else if(!e._data)throw t}}function yf(n,r){return function(t,e){n._tasks[r]&&(--n._active,++n._ended,(n._tasks[r]=null)==n._error&&(null!=t?mf(n,t):(n._data[r]=e,n._waiting?vf(n):_f(n))))}}function mf(t,e){var n,r=t._tasks.length;for(t._error=e,t._data=void 0,t._waiting=NaN;0<=--r;)if((n=t._tasks[r])&&(t._tasks[r]=null,n.abort))try{n.abort()}catch(e){}t._active=NaN,_f(t)}function _f(t){if(!t._active&&t._call){var e=t._data;t._data=void 0,t._call(t._error,e)}}function xf(t){if(null==t)t=1/0;else if(!(1<=(t=+t)))throw new Error("invalid concurrency");return new gf(t)}function Ef(){return Math.random()}gf.prototype=xf.prototype={constructor:gf,defer:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("defer after await");if(null!=this._error)return this;var e=df.call(arguments,1);return e.push(t),++this._waiting,this._tasks.push(e),vf(this),this},abort:function(){return null==this._error&&mf(this,new Error("abort")),this},await:function(n){if("function"!=typeof n)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=function(t,e){n.apply(null,[t].concat(e))},_f(this),this},awaitAll:function(t){if("function"!=typeof t)throw new Error("invalid callback");if(this._call)throw new Error("multiple await");return this._call=t,_f(this),this}};var bf=function t(n){function e(t,e){return t=null==t?0:+t,e=null==e?1:+e,1===arguments.length?(e=t,t=0):e-=t,function(){return n()*e+t}}return e.source=t,e}(Ef),wf=function t(o){function e(e,n){var r,i;return e=null==e?0:+e,n=null==n?1:+n,function(){var t;if(null!=r)t=r,r=null;else for(;r=2*o()-1,t=2*o()-1,!(i=r*r+t*t)||1<i;);return e+n*t*Math.sqrt(-2*Math.log(i)/i)}}return e.source=t,e}(Ef),Mf=function t(e){function n(){var t=wf.source(e).apply(this,arguments);return function(){return Math.exp(t())}}return n.source=t,n}(Ef),Cf=function t(r){function e(n){return function(){for(var t=0,e=0;e<n;++e)t+=r();return t}}return e.source=t,e}(Ef),Tf=function t(n){function e(t){var e=Cf.source(n)(t);return function(){return e()/t}}return e.source=t,e}(Ef),Sf=function t(e){function n(t){return function(){return-Math.log(1-e())/t}}return n.source=t,n}(Ef);function Af(i,t){var o,a,s,u,l=H("beforesend","progress","load","error"),c=Ji(),f=new XMLHttpRequest,h=null,d=null,p=0;function e(t){var e,n,r,i=f.status;if(!i&&((r=(n=f).responseType)&&"text"!==r?n.response:n.responseText)||200<=i&&i<300||304===i){if(s)try{e=s.call(o,f)}catch(t){return void l.call("error",o,t)}else e=f;l.call("load",o,e)}else l.call("error",o,t)}if("undefined"==typeof XDomainRequest||"withCredentials"in f||!/^(http(s)?:)?\/\//.test(i)||(f=new XDomainRequest),"onload"in f?f.onload=f.onerror=f.ontimeout=e:f.onreadystatechange=function(t){3<f.readyState&&e(t)},f.onprogress=function(t){l.call("progress",o,t)},o={header:function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?c.get(t):(null==e?c.remove(t):c.set(t,e+""),o)},mimeType:function(t){return arguments.length?(a=null==t?null:t+"",o):a},responseType:function(t){return arguments.length?(u=t,o):u},timeout:function(t){return arguments.length?(p=+t,o):p},user:function(t){return arguments.length<1?h:(h=null==t?null:t+"",o)},password:function(t){return arguments.length<1?d:(d=null==t?null:t+"",o)},response:function(t){return s=t,o},get:function(t,e){return o.send("GET",t,e)},post:function(t,e){return o.send("POST",t,e)},send:function(t,e,n){var r;return f.open(t,i,!0,h,d),null==a||c.has("accept")||c.set("accept",a+",*/*"),f.setRequestHeader&&c.each(function(t,e){f.setRequestHeader(e,t)}),null!=a&&f.overrideMimeType&&f.overrideMimeType(a),null!=u&&(f.responseType=u),0<p&&(f.timeout=p),null==n&&"function"==typeof e&&(n=e,e=null),null!=n&&1===n.length&&(r=n,n=function(t,e){r(null==t?e:null)}),null!=n&&o.on("error",n).on("load",function(t){n(null,t)}),l.call("beforesend",o,f),f.send(null==e?null:e),o},abort:function(){return f.abort(),o},on:function(){var t=l.on.apply(l,arguments);return t===l?o:t}},null==t)return o;if("function"!=typeof t)throw new Error("invalid callback: "+t);return o.get(t)}function Df(r,i){return function(t,e){var n=Af(t).mimeType(r).response(i);if(null==e)return n;if("function"!=typeof e)throw new Error("invalid callback: "+e);return n.get(e)}}var Lf=Df("text/html",function(t){return document.createRange().createContextualFragment(t.responseText)}),Nf=Df("application/json",function(t){return JSON.parse(t.responseText)}),kf=Df("text/plain",function(t){return t.responseText}),Of=Df("application/xml",function(t){var e=t.responseXML;if(!e)throw new Error("parse error");return e});function $f(n,o){return function(t,r,e){arguments.length<3&&(e=r,r=null);var i=Af(t).mimeType(n);return i.row=function(t){return arguments.length?i.response((e=o,n=r=t,function(t){return e(t.responseText,n)})):r;var e,n},i.row(r),e?i.get(e):i}}var Ff=$f("text/csv",ho),Pf=$f("text/tab-separated-values",mo),If=Array.prototype,Uf=If.map,Rf=If.slice,Gf={name:"implicit"};function Hf(r){var o=Ji(),a=[],i=Gf;function s(t){var e=t+"",n=o.get(e);if(!n){if(i!==Gf)return i;o.set(e,n=a.push(t))}return r[(n-1)%r.length]}return r=null==r?[]:Rf.call(r),s.domain=function(t){if(!arguments.length)return a.slice();a=[],o=Ji();for(var e,n,r=-1,i=t.length;++r<i;)o.has(n=(e=t[r])+"")||o.set(n,a.push(e));return s},s.range=function(t){return arguments.length?(r=Rf.call(t),s):r.slice()},s.unknown=function(t){return arguments.length?(i=t,s):i},s.copy=function(){return Hf().domain(a).range(r).unknown(i)},s}function zf(){var o,a,t=Hf().unknown(void 0),s=t.domain,u=t.range,l=[0,1],c=!1,f=0,h=0,d=.5;function e(){var t=s().length,e=l[1]<l[0],n=l[e-0],r=l[1-e];o=(r-n)/Math.max(1,t-f+2*h),c&&(o=Math.floor(o)),n+=(r-n-o*(t-f))*d,a=o*(1-f),c&&(n=Math.round(n),a=Math.round(a));var i=C(t).map(function(t){return n+o*t});return u(e?i.reverse():i)}return delete t.unknown,t.domain=function(t){return arguments.length?(s(t),e()):s()},t.range=function(t){return arguments.length?(l=[+t[0],+t[1]],e()):l.slice()},t.rangeRound=function(t){return l=[+t[0],+t[1]],c=!0,e()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(t){return arguments.length?(c=!!t,e()):c},t.padding=function(t){return arguments.length?(f=h=Math.max(0,Math.min(1,t)),e()):f},t.paddingInner=function(t){return arguments.length?(f=Math.max(0,Math.min(1,t)),e()):f},t.paddingOuter=function(t){return arguments.length?(h=Math.max(0,Math.min(1,t)),e()):h},t.align=function(t){return arguments.length?(d=Math.max(0,Math.min(1,t)),e()):d},t.copy=function(){return zf().domain(s()).range(l).round(c).paddingInner(f).paddingOuter(h).align(d)},e()}function qf(t){return function(){return t}}function Bf(t){return+t}var jf=[0,1];function Yf(e,n){return(n-=e=+e)?function(t){return(t-e)/n}:qf(n)}function Vf(t,e,n,r){var i=t[0],o=t[1],a=e[0],s=e[1];return a=o<i?(i=n(o,i),r(s,a)):(i=n(i,o),r(a,s)),function(t){return a(i(t))}}function Wf(n,t,e,r){var i=Math.min(n.length,t.length)-1,o=new Array(i),a=new Array(i),s=-1;for(n[i]<n[0]&&(n=n.slice().reverse(),t=t.slice().reverse());++s<i;)o[s]=e(n[s],n[s+1]),a[s]=r(t[s],t[s+1]);return function(t){var e=g(n,t,1,i)-1;return a[e](o[e](t))}}function Xf(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp())}function Kf(e,n){var r,o,a,s=jf,u=jf,l=yn,c=!1;function i(){return r=2<Math.min(s.length,u.length)?Wf:Vf,o=a=null,t}function t(t){return(o||(o=r(s,u,c?(i=e,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=e?0:n<=t?1:r(t)}}):e,l)))(+t);var i}return t.invert=function(t){return(a||(a=r(u,s,Yf,c?(i=n,function(e,n){var r=i(e=+e,n=+n);return function(t){return t<=0?e:1<=t?n:r(t)}}):n)))(+t);var i},t.domain=function(t){return arguments.length?(s=Uf.call(t,Bf),i()):s.slice()},t.range=function(t){return arguments.length?(u=Rf.call(t),i()):u.slice()},t.rangeRound=function(t){return u=Rf.call(t),l=mn,i()},t.clamp=function(t){return arguments.length?(c=!!t,i()):c},t.interpolate=function(t){return arguments.length?(l=t,i()):l},i()}function Zf(s){var u=s.domain;return s.ticks=function(t){var e=u();return y(e[0],e[e.length-1],null==t?10:t)},s.tickFormat=function(t,e){return function(t,e,n){var r,i=t[0],o=t[t.length-1],a=T(i,o,null==e?10:e);switch((n=jo(null==n?",f":n)).type){case"s":var s=Math.max(Math.abs(i),Math.abs(o));return null!=n.precision||isNaN(r=Jo(a,s))||(n.precision=r),G.formatPrefix(n,s);case"":case"e":case"g":case"p":case"r":null!=n.precision||isNaN(r=ta(a,Math.max(Math.abs(i),Math.abs(o))))||(n.precision=r-("e"===n.type));break;case"f":case"%":null!=n.precision||isNaN(r=Qo(a))||(n.precision=r-2*("%"===n.type))}return G.format(n)}(u(),t,e)},s.nice=function(t){null==t&&(t=10);var e,n=u(),r=0,i=n.length-1,o=n[r],a=n[i];return a<o&&(e=o,o=a,a=e,e=r,r=i,i=e),0<(e=m(o,a,t))?e=m(o=Math.floor(o/e)*e,a=Math.ceil(a/e)*e,t):e<0&&(e=m(o=Math.ceil(o*e)/e,a=Math.floor(a*e)/e,t)),0<e?(n[r]=Math.floor(o/e)*e,n[i]=Math.ceil(a/e)*e,u(n)):e<0&&(n[r]=Math.ceil(o*e)/e,n[i]=Math.floor(a*e)/e,u(n)),s},s}function Qf(t,e){var n,r=0,i=(t=t.slice()).length-1,o=t[r],a=t[i];return a<o&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Jf(e,n){return(n=Math.log(n/e))?function(t){return Math.log(t/e)/n}:qf(n)}function th(e,n){return e<0?function(t){return-Math.pow(-n,t)*Math.pow(-e,1-t)}:function(t){return Math.pow(n,t)*Math.pow(e,1-t)}}function eh(t){return isFinite(t)?+("1e"+t):t<0?0:t}function nh(e){return 10===e?eh:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function rh(e){return e===Math.E?Math.log:10===e&&Math.log10||2===e&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function ih(e){return function(t){return-e(-t)}}function oh(t,e){return t<0?-Math.pow(-t,e):Math.pow(t,e)}function ah(){var r=1,t=Kf(function(e,n){return(n=oh(n,r)-(e=oh(e,r)))?function(t){return(oh(t,r)-e)/n}:qf(n)},function(e,n){return n=oh(n,r)-(e=oh(e,r)),function(t){return oh(e+n*t,1/r)}}),e=t.domain;return t.exponent=function(t){return arguments.length?(r=+t,e(e())):r},t.copy=function(){return Xf(t,ah().exponent(r))},Zf(t)}var sh=new Date,uh=new Date;function lh(o,a,n,r){function s(t){return o(t=new Date(+t)),t}return(s.floor=s).ceil=function(t){return o(t=new Date(t-1)),a(t,1),o(t),t},s.round=function(t){var e=s(t),n=s.ceil(t);return t-e<n-t?e:n},s.offset=function(t,e){return a(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(t,e,n){var r,i=[];if(t=s.ceil(t),n=null==n?1:Math.floor(n),!(t<e&&0<n))return i;for(;i.push(r=new Date(+t)),a(t,n),o(t),r<t&&t<e;);return i},s.filter=function(n){return lh(function(t){if(t<=t)for(;o(t),!n(t);)t.setTime(t-1)},function(t,e){if(t<=t)if(e<0)for(;++e<=0;)for(;a(t,-1),!n(t););else for(;0<=--e;)for(;a(t,1),!n(t););})},n&&(s.count=function(t,e){return sh.setTime(+t),uh.setTime(+e),o(sh),o(uh),Math.floor(n(sh,uh))},s.every=function(e){return e=Math.floor(e),isFinite(e)&&0<e?1<e?s.filter(r?function(t){return r(t)%e==0}:function(t){return s.count(0,t)%e==0}):s:null}),s}var ch=lh(function(){},function(t,e){t.setTime(+t+e)},function(t,e){return e-t});ch.every=function(n){return n=Math.floor(n),isFinite(n)&&0<n?1<n?lh(function(t){t.setTime(Math.floor(t/n)*n)},function(t,e){t.setTime(+t+e*n)},function(t,e){return(e-t)/n}):ch:null};var fh=ch.range,hh=6e4,dh=36e5,ph=lh(function(t){t.setTime(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(+t+1e3*e)},function(t,e){return(e-t)/1e3},function(t){return t.getUTCSeconds()}),gh=ph.range,vh=lh(function(t){t.setTime(Math.floor(t/hh)*hh)},function(t,e){t.setTime(+t+e*hh)},function(t,e){return(e-t)/hh},function(t){return t.getMinutes()}),yh=vh.range,mh=lh(function(t){var e=t.getTimezoneOffset()*hh%dh;e<0&&(e+=dh),t.setTime(Math.floor((+t-e)/dh)*dh+e)},function(t,e){t.setTime(+t+e*dh)},function(t,e){return(e-t)/dh},function(t){return t.getHours()}),_h=mh.range,xh=lh(function(t){t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hh)/864e5},function(t){return t.getDate()-1}),Eh=xh.range;function bh(e){return lh(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,e){t.setDate(t.getDate()+7*e)},function(t,e){return(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hh)/6048e5})}var wh=bh(0),Mh=bh(1),Ch=bh(2),Th=bh(3),Sh=bh(4),Ah=bh(5),Dh=bh(6),Lh=wh.range,Nh=Mh.range,kh=Ch.range,Oh=Th.range,$h=Sh.range,Fh=Ah.range,Ph=Dh.range,Ih=lh(function(t){t.setDate(1),t.setHours(0,0,0,0)},function(t,e){t.setMonth(t.getMonth()+e)},function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())},function(t){return t.getMonth()}),Uh=Ih.range,Rh=lh(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Rh.every=function(n){return isFinite(n=Math.floor(n))&&0<n?lh(function(t){t.setFullYear(Math.floor(t.getFullYear()/n)*n),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e*n)}):null};var Gh=Rh.range,Hh=lh(function(t){t.setUTCSeconds(0,0)},function(t,e){t.setTime(+t+e*hh)},function(t,e){return(e-t)/hh},function(t){return t.getUTCMinutes()}),zh=Hh.range,qh=lh(function(t){t.setUTCMinutes(0,0,0)},function(t,e){t.setTime(+t+e*dh)},function(t,e){return(e-t)/dh},function(t){return t.getUTCHours()}),Bh=qh.range,jh=lh(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/864e5},function(t){return t.getUTCDate()-1}),Yh=jh.range;function Vh(e){return lh(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+7*e)},function(t,e){return(e-t)/6048e5})}var Wh=Vh(0),Xh=Vh(1),Kh=Vh(2),Zh=Vh(3),Qh=Vh(4),Jh=Vh(5),td=Vh(6),ed=Wh.range,nd=Xh.range,rd=Kh.range,id=Zh.range,od=Qh.range,ad=Jh.range,sd=td.range,ud=lh(function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCMonth(t.getUTCMonth()+e)},function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())},function(t){return t.getUTCMonth()}),ld=ud.range,cd=lh(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});cd.every=function(n){return isFinite(n=Math.floor(n))&&0<n?lh(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/n)*n),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e*n)}):null};var fd=cd.range;function hd(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function dd(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function pd(t){return{y:t,m:0,d:1,H:0,M:0,S:0,L:0}}function gd(t){var r=t.dateTime,i=t.date,o=t.time,e=t.periods,n=t.days,a=t.shortDays,s=t.months,u=t.shortMonths,l=wd(e),c=Md(e),f=wd(n),h=Md(n),d=wd(a),p=Md(a),g=wd(s),v=Md(s),y=wd(u),m=Md(u),_={a:function(t){return a[t.getDay()]},A:function(t){return n[t.getDay()]},b:function(t){return u[t.getMonth()]},B:function(t){return s[t.getMonth()]},c:null,d:Bd,e:Bd,f:Xd,H:jd,I:Yd,j:Vd,L:Wd,m:Kd,M:Zd,p:function(t){return e[+(12<=t.getHours())]},Q:Cp,s:Tp,S:Qd,u:Jd,U:tp,V:ep,w:np,W:rp,x:null,X:null,y:ip,Y:op,Z:ap,"%":Mp},x={a:function(t){return a[t.getUTCDay()]},A:function(t){return n[t.getUTCDay()]},b:function(t){return u[t.getUTCMonth()]},B:function(t){return s[t.getUTCMonth()]},c:null,d:sp,e:sp,f:hp,H:up,I:lp,j:cp,L:fp,m:dp,M:pp,p:function(t){return e[+(12<=t.getUTCHours())]},Q:Cp,s:Tp,S:gp,u:vp,U:yp,V:mp,w:_p,W:xp,x:null,X:null,y:Ep,Y:bp,Z:wp,"%":Mp},E={a:function(t,e,n){var r=d.exec(e.slice(n));return r?(t.w=p[r[0].toLowerCase()],n+r[0].length):-1},A:function(t,e,n){var r=f.exec(e.slice(n));return r?(t.w=h[r[0].toLowerCase()],n+r[0].length):-1},b:function(t,e,n){var r=y.exec(e.slice(n));return r?(t.m=m[r[0].toLowerCase()],n+r[0].length):-1},B:function(t,e,n){var r=g.exec(e.slice(n));return r?(t.m=v[r[0].toLowerCase()],n+r[0].length):-1},c:function(t,e,n){return M(t,r,e,n)},d:$d,e:$d,f:Gd,H:Pd,I:Pd,j:Fd,L:Rd,m:Od,M:Id,p:function(t,e,n){var r=l.exec(e.slice(n));return r?(t.p=c[r[0].toLowerCase()],n+r[0].length):-1},Q:zd,s:qd,S:Ud,u:Td,U:Sd,V:Ad,w:Cd,W:Dd,x:function(t,e,n){return M(t,i,e,n)},X:function(t,e,n){return M(t,o,e,n)},y:Nd,Y:Ld,Z:kd,"%":Hd};function b(u,l){return function(t){var e,n,r,i=[],o=-1,a=0,s=u.length;for(t instanceof Date||(t=new Date(+t));++o<s;)37===u.charCodeAt(o)&&(i.push(u.slice(a,o)),null!=(n=yd[e=u.charAt(++o)])?e=u.charAt(++o):n="e"===e?" ":"0",(r=l[e])&&(e=r(t,n)),i.push(e),a=o+1);return i.push(u.slice(a,o)),i.join("")}}function w(i,o){return function(t){var e,n,r=pd(1900);if(M(r,i,t+="",0)!=t.length)return null;if("Q"in r)return new Date(r.Q);if("p"in r&&(r.H=r.H%12+12*r.p),"V"in r){if(r.V<1||53<r.V)return null;"w"in r||(r.w=1),"Z"in r?(e=4<(n=(e=dd(pd(r.y))).getUTCDay())||0===n?Xh.ceil(e):Xh(e),e=jh.offset(e,7*(r.V-1)),r.y=e.getUTCFullYear(),r.m=e.getUTCMonth(),r.d=e.getUTCDate()+(r.w+6)%7):(e=4<(n=(e=o(pd(r.y))).getDay())||0===n?Mh.ceil(e):Mh(e),e=xh.offset(e,7*(r.V-1)),r.y=e.getFullYear(),r.m=e.getMonth(),r.d=e.getDate()+(r.w+6)%7)}else("W"in r||"U"in r)&&("w"in r||(r.w="u"in r?r.u%7:"W"in r?1:0),n="Z"in r?dd(pd(r.y)).getUTCDay():o(pd(r.y)).getDay(),r.m=0,r.d="W"in r?(r.w+6)%7+7*r.W-(n+5)%7:r.w+7*r.U-(n+6)%7);return"Z"in r?(r.H+=r.Z/100|0,r.M+=r.Z%100,dd(r)):o(r)}}function M(t,e,n,r){for(var i,o,a=0,s=e.length,u=n.length;a<s;){if(u<=r)return-1;if(37===(i=e.charCodeAt(a++))){if(i=e.charAt(a++),!(o=E[i in yd?e.charAt(a++):i])||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}return _.x=b(i,_),_.X=b(o,_),_.c=b(r,_),x.x=b(i,x),x.X=b(o,x),x.c=b(r,x),{format:function(t){var e=b(t+="",_);return e.toString=function(){return t},e},parse:function(t){var e=w(t+="",hd);return e.toString=function(){return t},e},utcFormat:function(t){var e=b(t+="",x);return e.toString=function(){return t},e},utcParse:function(t){var e=w(t,dd);return e.toString=function(){return t},e}}}var vd,yd={"-":"",_:" ",0:"0"},md=/^\s*\d+/,_d=/^%/,xd=/[\\^$*+?|[\]().{}]/g;function Ed(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function bd(t){return t.replace(xd,"\\$&")}function wd(t){return new RegExp("^(?:"+t.map(bd).join("|")+")","i")}function Md(t){for(var e={},n=-1,r=t.length;++n<r;)e[t[n].toLowerCase()]=n;return e}function Cd(t,e,n){var r=md.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Td(t,e,n){var r=md.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Sd(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ad(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Dd(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function Ld(t,e,n){var r=md.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Nd(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(68<+r[0]?1900:2e3),n+r[0].length):-1}function kd(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Od(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function $d(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Fd(t,e,n){var r=md.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Pd(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Id(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Ud(t,e,n){var r=md.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Rd(t,e,n){var r=md.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Gd(t,e,n){var r=md.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Hd(t,e,n){var r=_d.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function zd(t,e,n){var r=md.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function qd(t,e,n){var r=md.exec(e.slice(n));return r?(t.Q=1e3*+r[0],n+r[0].length):-1}function Bd(t,e){return Ed(t.getDate(),e,2)}function jd(t,e){return Ed(t.getHours(),e,2)}function Yd(t,e){return Ed(t.getHours()%12||12,e,2)}function Vd(t,e){return Ed(1+xh.count(Rh(t),t),e,3)}function Wd(t,e){return Ed(t.getMilliseconds(),e,3)}function Xd(t,e){return Wd(t,e)+"000"}function Kd(t,e){return Ed(t.getMonth()+1,e,2)}function Zd(t,e){return Ed(t.getMinutes(),e,2)}function Qd(t,e){return Ed(t.getSeconds(),e,2)}function Jd(t){var e=t.getDay();return 0===e?7:e}function tp(t,e){return Ed(wh.count(Rh(t),t),e,2)}function ep(t,e){var n=t.getDay();return t=4<=n||0===n?Sh(t):Sh.ceil(t),Ed(Sh.count(Rh(t),t)+(4===Rh(t).getDay()),e,2)}function np(t){return t.getDay()}function rp(t,e){return Ed(Mh.count(Rh(t),t),e,2)}function ip(t,e){return Ed(t.getFullYear()%100,e,2)}function op(t,e){return Ed(t.getFullYear()%1e4,e,4)}function ap(t){var e=t.getTimezoneOffset();return(0<e?"-":(e*=-1,"+"))+Ed(e/60|0,"0",2)+Ed(e%60,"0",2)}function sp(t,e){return Ed(t.getUTCDate(),e,2)}function up(t,e){return Ed(t.getUTCHours(),e,2)}function lp(t,e){return Ed(t.getUTCHours()%12||12,e,2)}function cp(t,e){return Ed(1+jh.count(cd(t),t),e,3)}function fp(t,e){return Ed(t.getUTCMilliseconds(),e,3)}function hp(t,e){return fp(t,e)+"000"}function dp(t,e){return Ed(t.getUTCMonth()+1,e,2)}function pp(t,e){return Ed(t.getUTCMinutes(),e,2)}function gp(t,e){return Ed(t.getUTCSeconds(),e,2)}function vp(t){var e=t.getUTCDay();return 0===e?7:e}function yp(t,e){return Ed(Wh.count(cd(t),t),e,2)}function mp(t,e){var n=t.getUTCDay();return t=4<=n||0===n?Qh(t):Qh.ceil(t),Ed(Qh.count(cd(t),t)+(4===cd(t).getUTCDay()),e,2)}function _p(t){return t.getUTCDay()}function xp(t,e){return Ed(Xh.count(cd(t),t),e,2)}function Ep(t,e){return Ed(t.getUTCFullYear()%100,e,2)}function bp(t,e){return Ed(t.getUTCFullYear()%1e4,e,4)}function wp(){return"+0000"}function Mp(){return"%"}function Cp(t){return+t}function Tp(t){return Math.floor(+t/1e3)}function Sp(t){return vd=gd(t),G.timeFormat=vd.format,G.timeParse=vd.parse,G.utcFormat=vd.utcFormat,G.utcParse=vd.utcParse,vd}Sp({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});var Ap="%Y-%m-%dT%H:%M:%S.%LZ";var Dp=Date.prototype.toISOString?function(t){return t.toISOString()}:G.utcFormat(Ap);var Lp=+new Date("2000-01-01T00:00:00.000Z")?function(t){var e=new Date(t);return isNaN(e)?null:e}:G.utcParse(Ap),Np=1e3,kp=60*Np,Op=60*kp,$p=24*Op,Fp=7*$p,Pp=30*$p,Ip=365*$p;function Up(t){return new Date(t)}function Rp(t){return t instanceof Date?+t:+new Date(+t)}function Gp(a,e,n,r,i,o,s,u,l){var c=Kf(Yf,hn),f=c.invert,h=c.domain,d=l(".%L"),p=l(":%S"),g=l("%I:%M"),v=l("%I %p"),y=l("%a %d"),m=l("%b %d"),_=l("%B"),x=l("%Y"),E=[[s,1,Np],[s,5,5*Np],[s,15,15*Np],[s,30,30*Np],[o,1,kp],[o,5,5*kp],[o,15,15*kp],[o,30,30*kp],[i,1,Op],[i,3,3*Op],[i,6,6*Op],[i,12,12*Op],[r,1,$p],[r,2,2*$p],[n,1,Fp],[e,1,Pp],[e,3,3*Pp],[a,1,Ip]];function b(t){return(s(t)<t?d:o(t)<t?p:i(t)<t?g:r(t)<t?v:e(t)<t?n(t)<t?y:m:a(t)<t?_:x)(t)}function w(t,e,n,r){if(null==t&&(t=10),"number"==typeof t){var i=Math.abs(n-e)/t,o=M(function(t){return t[2]}).right(E,i);t=o===E.length?(r=T(e/Ip,n/Ip,t),a):o?(r=(o=E[i/E[o-1][2]<E[o][2]/i?o-1:o])[1],o[0]):(r=Math.max(T(e,n,t),1),u)}return null==r?t:t.every(r)}return c.invert=function(t){return new Date(f(t))},c.domain=function(t){return arguments.length?h(Uf.call(t,Rp)):h().map(Up)},c.ticks=function(t,e){var n,r=h(),i=r[0],o=r[r.length-1],a=o<i;return a&&(n=i,i=o,o=n),n=(n=w(t,i,o,e))?n.range(i,o+1):[],a?n.reverse():n},c.tickFormat=function(t,e){return null==e?b:l(e)},c.nice=function(t,e){var n=h();return(t=w(t,n[0],n[n.length-1],e))?h(Qf(n,t)):c},c.copy=function(){return Xf(c,Gp(a,e,n,r,i,o,s,u,l))},c}function Hp(t){return t.match(/.{6}/g).map(function(t){return"#"+t})}var zp=Hp("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),qp=Hp("393b795254a36b6ecf9c9ede6379398ca252b5cf6bcedb9c8c6d31bd9e39e7ba52e7cb94843c39ad494ad6616be7969c7b4173a55194ce6dbdde9ed6"),Bp=Hp("3182bd6baed69ecae1c6dbefe6550dfd8d3cfdae6bfdd0a231a35474c476a1d99bc7e9c0756bb19e9ac8bcbddcdadaeb636363969696bdbdbdd9d9d9"),jp=Hp("1f77b4aec7e8ff7f0effbb782ca02c98df8ad62728ff98969467bdc5b0d58c564bc49c94e377c2f7b6d27f7f7fc7c7c7bcbd22dbdb8d17becf9edae5"),Yp=qn(Xe(300,.5,0),Xe(-240,.5,1)),Vp=qn(Xe(-100,.75,.35),Xe(80,1.5,.8)),Wp=qn(Xe(260,.75,.35),Xe(80,1.5,.8)),Xp=Xe();function Kp(e){var n=e.length;return function(t){return e[Math.max(0,Math.min(n-1,Math.floor(t*n)))]}}var Zp=Kp(Hp("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725")),Qp=Kp(Hp("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Jp=Kp(Hp("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),tg=Kp(Hp("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function eg(t){return function(){return t}}var ng=Math.abs,rg=Math.atan2,ig=Math.cos,og=Math.max,ag=Math.min,sg=Math.sin,ug=Math.sqrt,lg=1e-12,cg=Math.PI,fg=cg/2,hg=2*cg;function dg(t){return 1<=t?fg:t<=-1?-fg:Math.asin(t)}function pg(t){return t.innerRadius}function gg(t){return t.outerRadius}function vg(t){return t.startAngle}function yg(t){return t.endAngle}function mg(t){return t&&t.padAngle}function _g(t,e,n,r,i,o,a){var s=t-n,u=e-r,l=(a?o:-o)/ug(s*s+u*u),c=l*u,f=-l*s,h=t+c,d=e+f,p=n+c,g=r+f,v=(h+p)/2,y=(d+g)/2,m=p-h,_=g-d,x=m*m+_*_,E=i-o,b=h*g-p*d,w=(_<0?-1:1)*ug(og(0,E*E*x-b*b)),M=(b*_-m*w)/x,C=(-b*m-_*w)/x,T=(b*_+m*w)/x,S=(-b*m+_*w)/x,A=M-v,D=C-y,L=T-v,N=S-y;return L*L+N*N<A*A+D*D&&(M=T,C=S),{cx:M,cy:C,x01:-c,y01:-f,x11:M*(i/E-1),y11:C*(i/E-1)}}function xg(t){this._context=t}function Eg(t){return new xg(t)}function bg(t){return t[0]}function wg(t){return t[1]}function Mg(){var a=bg,s=wg,u=eg(!0),l=null,c=Eg,f=null;function e(t){var e,n,r,i=t.length,o=!1;for(null==l&&(f=c(r=ji())),e=0;e<=i;++e)!(e<i&&u(n=t[e],e,t))===o&&((o=!o)?f.lineStart():f.lineEnd()),o&&f.point(+a(n,e,t),+s(n,e,t));if(r)return f=null,r+""||null}return e.x=function(t){return arguments.length?(a="function"==typeof t?t:eg(+t),e):a},e.y=function(t){return arguments.length?(s="function"==typeof t?t:eg(+t),e):s},e.defined=function(t){return arguments.length?(u="function"==typeof t?t:eg(!!t),e):u},e.curve=function(t){return arguments.length?(c=t,null!=l&&(f=c(l)),e):c},e.context=function(t){return arguments.length?(null==t?l=f=null:f=c(l=t),e):l},e}function Cg(){var c=bg,f=null,h=eg(0),d=wg,p=eg(!0),g=null,v=Eg,y=null;function e(t){var e,n,r,i,o,a=t.length,s=!1,u=new Array(a),l=new Array(a);for(null==g&&(y=v(o=ji())),e=0;e<=a;++e){if(!(e<a&&p(i=t[e],e,t))===s)if(s=!s)n=e,y.areaStart(),y.lineStart();else{for(y.lineEnd(),y.lineStart(),r=e-1;n<=r;--r)y.point(u[r],l[r]);y.lineEnd(),y.areaEnd()}s&&(u[e]=+c(i,e,t),l[e]=+h(i,e,t),y.point(f?+f(i,e,t):u[e],d?+d(i,e,t):l[e]))}if(o)return y=null,o+""||null}function t(){return Mg().defined(p).curve(v).context(g)}return e.x=function(t){return arguments.length?(c="function"==typeof t?t:eg(+t),f=null,e):c},e.x0=function(t){return arguments.length?(c="function"==typeof t?t:eg(+t),e):c},e.x1=function(t){return arguments.length?(f=null==t?null:"function"==typeof t?t:eg(+t),e):f},e.y=function(t){return arguments.length?(h="function"==typeof t?t:eg(+t),d=null,e):h},e.y0=function(t){return arguments.length?(h="function"==typeof t?t:eg(+t),e):h},e.y1=function(t){return arguments.length?(d=null==t?null:"function"==typeof t?t:eg(+t),e):d},e.lineX0=e.lineY0=function(){return t().x(c).y(h)},e.lineY1=function(){return t().x(c).y(d)},e.lineX1=function(){return t().x(f).y(h)},e.defined=function(t){return arguments.length?(p="function"==typeof t?t:eg(!!t),e):p},e.curve=function(t){return arguments.length?(v=t,null!=g&&(y=v(g)),e):v},e.context=function(t){return arguments.length?(null==t?g=y=null:y=v(g=t),e):g},e}function Tg(t,e){return e<t?-1:t<e?1:t<=e?0:NaN}function Sg(t){return t}xg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var Ag=Lg(Eg);function Dg(t){this._curve=t}function Lg(e){function t(t){return new Dg(e(t))}return t._curve=e,t}function Ng(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(Lg(t)):e()._curve},t}function kg(){return Ng(Mg().curve(Ag))}function Og(){var t=Cg().curve(Ag),e=t.curve,n=t.lineX0,r=t.lineX1,i=t.lineY0,o=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return Ng(n())},delete t.lineX0,t.lineEndAngle=function(){return Ng(r())},delete t.lineX1,t.lineInnerRadius=function(){return Ng(i())},delete t.lineY0,t.lineOuterRadius=function(){return Ng(o())},delete t.lineY1,t.curve=function(t){return arguments.length?e(Lg(t)):e()._curve},t}function $g(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}Dg.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var Fg=Array.prototype.slice;function Pg(t){return t.source}function Ig(t){return t.target}function Ug(i){var o=Pg,a=Ig,s=bg,u=wg,l=null;function e(){var t,e=Fg.call(arguments),n=o.apply(this,e),r=a.apply(this,e);if(l||(l=t=ji()),i(l,+s.apply(this,(e[0]=n,e)),+u.apply(this,e),+s.apply(this,(e[0]=r,e)),+u.apply(this,e)),t)return l=null,t+""||null}return e.source=function(t){return arguments.length?(o=t,e):o},e.target=function(t){return arguments.length?(a=t,e):a},e.x=function(t){return arguments.length?(s="function"==typeof t?t:eg(+t),e):s},e.y=function(t){return arguments.length?(u="function"==typeof t?t:eg(+t),e):u},e.context=function(t){return arguments.length?(l=null==t?null:t,e):l},e}function Rg(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e=(e+r)/2,n,e,i,r,i)}function Gg(t,e,n,r,i){t.moveTo(e,n),t.bezierCurveTo(e,n=(n+i)/2,r,n,r,i)}function Hg(t,e,n,r,i){var o=$g(e,n),a=$g(e,n=(n+i)/2),s=$g(r,n),u=$g(r,i);t.moveTo(o[0],o[1]),t.bezierCurveTo(a[0],a[1],s[0],s[1],u[0],u[1])}var zg={draw:function(t,e){var n=Math.sqrt(e/cg);t.moveTo(n,0),t.arc(0,0,n,0,hg)}},qg={draw:function(t,e){var n=Math.sqrt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},Bg=Math.sqrt(1/3),jg=2*Bg,Yg={draw:function(t,e){var n=Math.sqrt(e/jg),r=n*Bg;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Vg=Math.sin(cg/10)/Math.sin(7*cg/10),Wg=Math.sin(hg/10)*Vg,Xg=-Math.cos(hg/10)*Vg,Kg={draw:function(t,e){var n=Math.sqrt(.8908130915292852*e),r=Wg*n,i=Xg*n;t.moveTo(0,-n),t.lineTo(r,i);for(var o=1;o<5;++o){var a=hg*o/5,s=Math.cos(a),u=Math.sin(a);t.lineTo(u*n,-s*n),t.lineTo(s*r-u*i,u*r+s*i)}t.closePath()}},Zg={draw:function(t,e){var n=Math.sqrt(e),r=-n/2;t.rect(r,r,n,n)}},Qg=Math.sqrt(3),Jg={draw:function(t,e){var n=-Math.sqrt(e/(3*Qg));t.moveTo(0,2*n),t.lineTo(-Qg*n,-n),t.lineTo(Qg*n,-n),t.closePath()}},tv=-.5,ev=Math.sqrt(3)/2,nv=1/Math.sqrt(12),rv=3*(nv/2+1),iv={draw:function(t,e){var n=Math.sqrt(e/rv),r=n/2,i=n*nv,o=r,a=n*nv+n,s=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(s,u),t.lineTo(tv*r-ev*i,ev*r+tv*i),t.lineTo(tv*o-ev*a,ev*o+tv*a),t.lineTo(tv*s-ev*u,ev*s+tv*u),t.lineTo(tv*r+ev*i,tv*i-ev*r),t.lineTo(tv*o+ev*a,tv*a-ev*o),t.lineTo(tv*s+ev*u,tv*u-ev*s),t.closePath()}},ov=[zg,qg,Yg,Zg,Kg,Jg,iv];function av(){}function sv(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function uv(t){this._context=t}function lv(t){this._context=t}function cv(t){this._context=t}function fv(t,e){this._basis=new uv(t),this._beta=e}uv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:sv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:sv(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},lv.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:sv(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:sv(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},fv.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(0<n)for(var r,i=t[0],o=e[0],a=t[n]-i,s=e[n]-o,u=-1;++u<=n;)r=u/n,this._basis.point(this._beta*t[u]+(1-this._beta)*(i+r*a),this._beta*e[u]+(1-this._beta)*(o+r*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var hv=function e(n){function t(t){return 1===n?new uv(t):new fv(t,n)}return t.beta=function(t){return e(+t)},t}(.85);function dv(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function pv(t,e){this._context=t,this._k=(1-e)/6}pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:dv(this,this._x1,this._y1)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:dv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var gv=function e(n){function t(t){return new pv(t,n)}return t.tension=function(t){return e(+t)},t}(0);function vv(t,e){this._context=t,this._k=(1-e)/6}vv.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:dv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var yv=function e(n){function t(t){return new vv(t,n)}return t.tension=function(t){return e(+t)},t}(0);function mv(t,e){this._context=t,this._k=(1-e)/6}mv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:dv(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var _v=function e(n){function t(t){return new mv(t,n)}return t.tension=function(t){return e(+t)},t}(0);function xv(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>lg){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>lg){var l=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,c=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*l+t._x1*t._l23_2a-e*t._l12_2a)/c,a=(a*l+t._y1*t._l23_2a-n*t._l12_2a)/c}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function Ev(t,e){this._context=t,this._alpha=e}Ev.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:xv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var bv=function e(n){function t(t){return n?new Ev(t,n):new pv(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function wv(t,e){this._context=t,this._alpha=e}wv.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:xv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Mv=function e(n){function t(t){return n?new wv(t,n):new vv(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Cv(t,e){this._context=t,this._alpha=e}Cv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&&3===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:xv(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Tv=function e(n){function t(t){return n?new Cv(t,n):new mv(t,0)}return t.alpha=function(t){return e(+t)},t}(.5);function Sv(t){this._context=t}function Av(t){return t<0?-1:1}function Dv(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),s=(o*i+a*r)/(r+i);return(Av(o)+Av(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(s))||0}function Lv(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function Nv(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,s=(o-r)/3;t._context.bezierCurveTo(r+s,i+s*e,o-s,a-s*n,o,a)}function kv(t){this._context=t}function Ov(t){this._context=new $v(t)}function $v(t){this._context=t}function Fv(t){this._context=t}function Pv(t){var e,n,r=t.length-1,i=new Array(r),o=new Array(r),a=new Array(r);for(o[i[0]=0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,o[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/o[e-1],o[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/o[r-1],e=r-2;0<=e;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Iv(t,e){this._context=t,this._t=e}function Uv(t,e){if(1<(i=t.length))for(var n,r,i,o=1,a=t[e[0]],s=a.length;o<i;++o)for(r=a,a=t[e[o]],n=0;n<s;++n)a[n][1]+=a[n][0]=isNaN(r[n][1])?r[n][0]:r[n][1]}function Rv(t){for(var e=t.length,n=new Array(e);0<=--e;)n[e]=e;return n}function Gv(t,e){return t[e]}function Hv(t){var n=t.map(zv);return Rv(t).sort(function(t,e){return n[t]-n[e]})}function zv(t){for(var e,n=0,r=-1,i=t.length;++r<i;)(e=+t[r][1])&&(n+=e);return n}function qv(t){return function(){return t}}function Bv(t){return t[0]}function jv(t){return t[1]}function Yv(){this._=null}function Vv(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Wv(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function Xv(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function Kv(t){for(;t.L;)t=t.L;return t}function Zv(t,e,n,r){var i=[null,null],o=_y.push(i)-1;return i.left=t,i.right=e,n&&Jv(i,t,e,n),r&&Jv(i,e,t,r),yy[t.index].halfedges.push(o),yy[e.index].halfedges.push(o),i}function Qv(t,e,n){var r=[e,n];return r.left=t,r}function Jv(t,e,n,r){t[0]||t[1]?t.left===n?t[1]=r:t[0]=r:(t[0]=r,t.left=e,t.right=n)}function ty(t,e,n,r,i){var o,a=t[0],s=t[1],u=a[0],l=a[1],c=0,f=1,h=s[0]-u,d=s[1]-l;if(o=e-u,h||!(0<o)){if(o/=h,h<0){if(o<c)return;o<f&&(f=o)}else if(0<h){if(f<o)return;c<o&&(c=o)}if(o=r-u,h||!(o<0)){if(o/=h,h<0){if(f<o)return;c<o&&(c=o)}else if(0<h){if(o<c)return;o<f&&(f=o)}if(o=n-l,d||!(0<o)){if(o/=d,d<0){if(o<c)return;o<f&&(f=o)}else if(0<d){if(f<o)return;c<o&&(c=o)}if(o=i-l,d||!(o<0)){if(o/=d,d<0){if(f<o)return;c<o&&(c=o)}else if(0<d){if(o<c)return;o<f&&(f=o)}return(0<c||f<1)&&(0<c&&(t[0]=[u+c*h,l+c*d]),f<1&&(t[1]=[u+f*h,l+f*d])),!0}}}}}function ey(t,e,n,r,i){var o=t[1];if(o)return!0;var a,s,u=t[0],l=t.left,c=t.right,f=l[0],h=l[1],d=c[0],p=c[1],g=(f+d)/2,v=(h+p)/2;if(p===h){if(g<e||r<=g)return;if(d<f){if(u){if(u[1]>=i)return}else u=[g,n];o=[g,i]}else{if(u){if(u[1]<n)return}else u=[g,i];o=[g,n]}}else if(s=v-(a=(f-d)/(p-h))*g,a<-1||1<a)if(d<f){if(u){if(u[1]>=i)return}else u=[(n-s)/a,n];o=[(i-s)/a,i]}else{if(u){if(u[1]<n)return}else u=[(i-s)/a,i];o=[(n-s)/a,n]}else if(h<p){if(u){if(u[0]>=r)return}else u=[e,a*e+s];o=[r,a*r+s]}else{if(u){if(u[0]<e)return}else u=[r,a*r+s];o=[e,a*e+s]}return t[0]=u,t[1]=o,!0}function ny(t,e){return e[+(e.left!==t.site)]}Sv.prototype={areaStart:av,areaEnd:av,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},kv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nv(this,this._t0,Lv(this,this._t0))}(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Nv(this,Lv(this,n=Dv(this,t,e)),n);break;default:Nv(this,this._t0,n=Dv(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}},(Ov.prototype=Object.create(kv.prototype)).point=function(t,e){kv.prototype.point.call(this,e,t)},$v.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}},Fv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===n)this._context.lineTo(t[1],e[1]);else for(var r=Pv(t),i=Pv(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||0!==this._line&&1===n)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Iv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&2===this._point&&this._context.lineTo(this._x,this._y),(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),0<=this._line&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}}this._x=t,this._y=e}},Yv.prototype={constructor:Yv,insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else n=this._?(t=Kv(this._),e.P=null,(e.N=t).P=t.L=e,t):(e.P=e.N=null,this._=e,null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)n===(r=n.U).L?(i=r.R)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(Wv(this,n),n=(t=n).U),n.C=!1,r.C=!0,Xv(this,r)):(i=r.L)&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(Xv(this,n),n=(t=n).U),n.C=!1,r.C=!0,Wv(this,r)),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?Kv(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,((n.L=o).U=n)!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,(n.R=a).U=n):(n.U=i,t=(i=n).R)):(r=t.C,t=n),t&&(t.U=i),!r)if(t&&t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&&(e.C=!1,i.C=!0,Wv(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,Xv(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Wv(this,i),t=this._;break}}else if((e=i.L).C&&(e.C=!1,i.C=!0,Xv(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,Wv(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Xv(this,i),t=this._;break}e.C=!0,i=(t=i).U}while(!t.C);t&&(t.C=!1)}}};var ry,iy=[];function oy(){Vv(this),this.x=this.y=this.arc=this.site=this.cy=null}function ay(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i[0],s=i[1],u=r[0]-a,l=r[1]-s,c=o[0]-a,f=o[1]-s,h=2*(u*f-l*c);if(!(-Ey<=h)){var d=u*u+l*l,p=c*c+f*f,g=(f*d-l*p)/h,v=(u*p-c*d)/h,y=iy.pop()||new oy;y.arc=t,y.site=i,y.x=g+a,y.y=(y.cy=v+s)+Math.sqrt(g*g+v*v),t.circle=y;for(var m=null,_=my._;_;)if(y.y<_.y||y.y===_.y&&y.x<=_.x){if(!_.L){m=_.P;break}_=_.L}else{if(!_.R){m=_;break}_=_.R}my.insert(m,y),m||(ry=y)}}}}function sy(t){var e=t.circle;e&&(e.P||(ry=e.N),my.remove(e),iy.push(e),Vv(e),t.circle=null)}var uy=[];function ly(){Vv(this),this.edge=this.site=this.circle=null}function cy(t){var e=uy.pop()||new ly;return e.site=t,e}function fy(t){sy(t),vy.remove(t),uy.push(t),Vv(t)}function hy(t){var e=t.circle,n=e.x,r=e.cy,i=[n,r],o=t.P,a=t.N,s=[t];fy(t);for(var u=o;u.circle&&Math.abs(n-u.circle.x)<xy&&Math.abs(r-u.circle.cy)<xy;)o=u.P,s.unshift(u),fy(u),u=o;s.unshift(u),sy(u);for(var l=a;l.circle&&Math.abs(n-l.circle.x)<xy&&Math.abs(r-l.circle.cy)<xy;)a=l.N,s.push(l),fy(l),l=a;s.push(l),sy(l);var c,f=s.length;for(c=1;c<f;++c)l=s[c],u=s[c-1],Jv(l.edge,u.site,l.site,i);u=s[0],(l=s[f-1]).edge=Zv(u.site,l.site,null,i),ay(u),ay(l)}function dy(t){for(var e,n,r,i,o,a=t[0],s=t[1],u=vy._;u;)if(r=py(u,s)-a,xy<r)u=u.L;else{if(i=a-gy(u,s),!(xy<i)){-xy<r?(e=u.P,n=u):-xy<i?n=(e=u).N:e=n=u;break}if(!u.R){e=u;break}u=u.R}yy[(o=t).index]={site:o,halfedges:[]};var l=cy(t);if(vy.insert(e,l),e||n){if(e===n)return sy(e),n=cy(e.site),vy.insert(l,n),l.edge=n.edge=Zv(e.site,l.site),ay(e),void ay(n);if(n){sy(e),sy(n);var c=e.site,f=c[0],h=c[1],d=t[0]-f,p=t[1]-h,g=n.site,v=g[0]-f,y=g[1]-h,m=2*(d*y-p*v),_=d*d+p*p,x=v*v+y*y,E=[(y*_-p*x)/m+f,(d*x-v*_)/m+h];Jv(n.edge,c,g,E),l.edge=Zv(c,t,null,E),n.edge=Zv(t,g,null,E),ay(e),ay(n)}else l.edge=Zv(e.site,l.site)}}function py(t,e){var n=t.site,r=n[0],i=n[1],o=i-e;if(!o)return r;var a=t.P;if(!a)return-1/0;var s=(n=a.site)[0],u=n[1],l=u-e;if(!l)return s;var c=s-r,f=1/o-1/l,h=c/l;return f?(-h+Math.sqrt(h*h-2*f*(c*c/(-2*l)-u+l/2+i-o/2)))/f+r:(r+s)/2}function gy(t,e){var n=t.N;if(n)return py(n,e);var r=t.site;return r[1]===e?r[0]:1/0}var vy,yy,my,_y,xy=1e-6,Ey=1e-12;function by(t,e){return e[1]-t[1]||e[0]-t[0]}function wy(t,e){var n,r,i,o=t.sort(by).pop();for(_y=[],yy=new Array(t.length),vy=new Yv,my=new Yv;;)if(i=ry,o&&(!i||o[1]<i.y||o[1]===i.y&&o[0]<i.x))o[0]===n&&o[1]===r||(dy(o),n=o[0],r=o[1]),o=t.pop();else{if(!i)break;hy(i.arc)}if(function(){for(var t,e,n,r,i=0,o=yy.length;i<o;++i)if((t=yy[i])&&(r=(e=t.halfedges).length)){var a=new Array(r),s=new Array(r);for(n=0;n<r;++n)a[n]=n,s[n]=(u=t,l=_y[e[n]],h=f=void 0,c=u.site,f=l.left,h=l.right,c===h&&(h=f,f=c),h?Math.atan2(h[1]-f[1],h[0]-f[0]):(h=c===f?(f=l[1],l[0]):(f=l[0],l[1]),Math.atan2(f[0]-h[0],h[1]-f[1])));for(a.sort(function(t,e){return s[e]-s[t]}),n=0;n<r;++n)s[n]=e[a[n]];for(n=0;n<r;++n)e[n]=s[n]}var u,l,c,f,h}(),e){var a=+e[0][0],s=+e[0][1],u=+e[1][0],l=+e[1][1];!function(t,e,n,r){for(var i,o=_y.length;o--;)ey(i=_y[o],t,e,n,r)&&ty(i,t,e,n,r)&&(Math.abs(i[0][0]-i[1][0])>xy||Math.abs(i[0][1]-i[1][1])>xy)||delete _y[o]}(a,s,u,l),function(t,e,n,r){var i,o,a,s,u,l,c,f,h,d,p,g,v,y,m=yy.length,_=!0;for(i=0;i<m;++i)if(o=yy[i]){for(a=o.site,s=(u=o.halfedges).length;s--;)_y[u[s]]||u.splice(s,1);for(s=0,l=u.length;s<l;)v=o,p=(d=(y=_y[u[s]])[+(y.left===v.site)])[0],g=d[1],f=(c=ny(o,_y[u[++s%l]]))[0],h=c[1],(Math.abs(p-f)>xy||Math.abs(g-h)>xy)&&(u.splice(s,0,_y.push(Qv(a,d,Math.abs(p-t)<xy&&xy<r-g?[t,Math.abs(f-t)<xy?h:r]:Math.abs(g-r)<xy&&xy<n-p?[Math.abs(h-r)<xy?f:n,r]:Math.abs(p-n)<xy&&xy<g-e?[n,Math.abs(f-n)<xy?h:e]:Math.abs(g-e)<xy&&xy<p-t?[Math.abs(h-e)<xy?f:t,e]:null))-1),++l);l&&(_=!1)}if(_){var x,E,b,w=1/0;for(i=0,_=null;i<m;++i)(o=yy[i])&&(b=(x=(a=o.site)[0]-t)*x+(E=a[1]-e)*E)<w&&(w=b,_=o);if(_){var M=[t,e],C=[t,r],T=[n,r],S=[n,e];_.halfedges.push(_y.push(Qv(a=_.site,M,C))-1,_y.push(Qv(a,C,T))-1,_y.push(Qv(a,T,S))-1,_y.push(Qv(a,S,M))-1)}}for(i=0;i<m;++i)(o=yy[i])&&(o.halfedges.length||delete yy[i])}(a,s,u,l)}this.edges=_y,this.cells=yy,vy=my=_y=yy=null}function My(t){return function(){return t}}function Cy(t,e,n){this.target=t,this.type=e,this.transform=n}function Ty(t,e,n){this.k=t,this.x=e,this.y=n}wy.prototype={constructor:wy,polygons:function(){var n=this.edges;return this.cells.map(function(e){var t=e.halfedges.map(function(t){return ny(e,n[t])});return t.data=e.site.data,t})},triangles:function(){var h=[],d=this.edges;return this.cells.forEach(function(t,e){if(r=(n=t.halfedges).length)for(var n,r,i,o,a,s,u=t.site,l=-1,c=d[n[r-1]],f=c.left===u?c.right:c.left;++l<r;)i=f,f=(c=d[n[l]]).left===u?c.right:c.left,i&&f&&e<i.index&&e<f.index&&(a=i,s=f,((o=u)[0]-s[0])*(a[1]-o[1])-(o[0]-a[0])*(s[1]-o[1])<0)&&h.push([u.data,i.data,f.data])}),h},links:function(){return this.edges.filter(function(t){return t.right}).map(function(t){return{source:t.left.data,target:t.right.data}})},find:function(a,s,t){for(var e,u,l=this,c=l._found||0,n=l.cells.length;!(u=l.cells[c]);)if(++c>=n)return null;for(var r=a-u.site[0],i=s-u.site[1],f=r*r+i*i;u=l.cells[e=c],c=null,u.halfedges.forEach(function(t){var e=l.edges[t],n=e.left;if(n!==u.site&&n||(n=e.right)){var r=a-n[0],i=s-n[1],o=r*r+i*i;o<f&&(f=o,c=n.index)}}),null!==c;);return l._found=e,null==t||f<=t*t?u.site:null}},Ty.prototype={constructor:Ty,scale:function(t){return 1===t?this:new Ty(this.k*t,this.x,this.y)},translate:function(t,e){return 0===t&0===e?this:new Ty(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var Sy=new Ty(1,0,0);function Ay(t){return t.__zoom||Sy}function Dy(){G.event.stopImmediatePropagation()}function Ly(){G.event.preventDefault(),G.event.stopImmediatePropagation()}function Ny(){return!G.event.button}function ky(){var t,e,n=this;return e=n instanceof SVGElement?(t=(n=n.ownerSVGElement||n).width.baseVal.value,n.height.baseVal.value):(t=n.clientWidth,n.clientHeight),[[0,0],[t,e]]}function Oy(){return this.__zoom||Sy}function $y(){return-G.event.deltaY*(G.event.deltaMode?120:1)/500}function Fy(){return"ontouchstart"in this}function Py(t,e,n){var r=t.invertX(e[0][0])-n[0][0],i=t.invertX(e[1][0])-n[1][0],o=t.invertY(e[0][1])-n[0][1],a=t.invertY(e[1][1])-n[1][1];return t.translate(r<i?(r+i)/2:Math.min(0,r)||Math.max(0,i),o<a?(o+a)/2:Math.min(0,o)||Math.max(0,a))}Ay.prototype=Ty.prototype,G.version="4.13.0",G.bisect=g,G.bisectRight=g,G.bisectLeft=e,G.ascending=s,G.bisector=M,G.cross=function(t,e,n){var r,i,o,a,s=t.length,u=e.length,l=new Array(s*u);for(null==n&&(n=c),r=o=0;r<s;++r)for(a=t[r],i=0;i<u;++i,++o)l[o]=n(a,e[i]);return l},G.descending=function(t,e){return e<t?-1:t<e?1:t<=e?0:NaN},G.deviation=i,G.extent=n,G.histogram=function(){var h=v,d=n,p=_;function e(t){var e,n,r=t.length,i=new Array(r);for(e=0;e<r;++e)i[e]=h(t[e],e,t);var o=d(i),a=o[0],s=o[1],u=p(i,a,s);Array.isArray(u)||(u=T(a,s,u),u=C(Math.ceil(a/u)*u,Math.floor(s/u)*u,u));for(var l=u.length;u[0]<=a;)u.shift(),--l;for(;u[l-1]>s;)u.pop(),--l;var c,f=new Array(l+1);for(e=0;e<=l;++e)(c=f[e]=[]).x0=0<e?u[e-1]:a,c.x1=e<l?u[e]:s;for(e=0;e<r;++e)a<=(n=i[e])&&n<=s&&f[g(u,n,0,l)].push(t[e]);return f}return e.value=function(t){return arguments.length?(h="function"==typeof t?t:f(t),e):h},e.domain=function(t){return arguments.length?(d="function"==typeof t?t:f([t[0],t[1]]),e):d},e.thresholds=function(t){return arguments.length?(p="function"==typeof t?t:Array.isArray(t)?f(a.call(t)):f(t),e):p},e},G.thresholdFreedmanDiaconis=function(t,e,n){return t=u.call(t,l).sort(s),Math.ceil((n-e)/(2*(x(t,.75)-x(t,.25))*Math.pow(t.length,-1/3)))},G.thresholdScott=function(t,e,n){return Math.ceil((n-e)/(3.5*i(t)*Math.pow(t.length,-1/3)))},G.thresholdSturges=_,G.max=function(t,e){var n,r,i=t.length,o=-1;if(null==e){for(;++o<i;)if(null!=(n=t[o])&&n<=n)for(r=n;++o<i;)null!=(n=t[o])&&r<n&&(r=n)}else for(;++o<i;)if(null!=(n=e(t[o],o,t))&&n<=n)for(r=n;++o<i;)null!=(n=e(t[o],o,t))&&r<n&&(r=n);return r},G.mean=function(t,e){var n,r=t.length,i=r,o=-1,a=0;if(null==e)for(;++o<r;)isNaN(n=l(t[o]))?--i:a+=n;else for(;++o<r;)isNaN(n=l(e(t[o],o,t)))?--i:a+=n;if(i)return a/i},G.median=function(t,e){var n,r=t.length,i=-1,o=[];if(null==e)for(;++i<r;)isNaN(n=l(t[i]))||o.push(n);else for(;++i<r;)isNaN(n=l(e(t[i],i,t)))||o.push(n);return x(o.sort(s),.5)},G.merge=S,G.min=E,G.pairs=function(t,e){null==e&&(e=c);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return o},G.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},G.quantile=x,G.range=C,G.scan=function(t,e){if(n=t.length){var n,r,i=0,o=0,a=t[o];for(null==e&&(e=s);++i<n;)(e(r=t[i],a)<0||0!==e(a,a))&&(a=r,o=i);return 0===e(a,a)?o:void 0}},G.shuffle=function(t,e,n){for(var r,i,o=(null==n?t.length:n)-(e=null==e?0:+e);o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},G.sum=function(t,e){var n,r=t.length,i=-1,o=0;if(null==e)for(;++i<r;)(n=+t[i])&&(o+=n);else for(;++i<r;)(n=+e(t[i],i,t))&&(o+=n);return o},G.ticks=y,G.tickIncrement=m,G.tickStep=T,G.transpose=b,G.variance=r,G.zip=function(){return b(arguments)},G.axisTop=function(t){return U(L,t)},G.axisRight=function(t){return U(N,t)},G.axisBottom=function(t){return U(k,t)},G.axisLeft=function(t){return U(O,t)},G.brush=function(){return Ni(xi)},G.brushX=function(){return Ni(mi)},G.brushY=function(){return Ni(_i)},G.brushSelection=function(t){var e=t.__brush;return e?e.dim.output(e.selection):null},G.chord=function(){var E=0,b=null,w=null,M=null;function e(r){var t,e,n,i,o,a,s=r.length,u=[],l=C(s),c=[],f=[],h=f.groups=new Array(s),d=new Array(s*s);for(t=0,o=-1;++o<s;){for(e=0,a=-1;++a<s;)e+=r[o][a];u.push(e),c.push(C(s)),t+=e}for(b&&l.sort(function(t,e){return b(u[t],u[e])}),w&&c.forEach(function(t,n){t.sort(function(t,e){return w(r[n][t],r[n][e])})}),i=(t=Ii(0,Pi-E*s)/t)?E:Pi/s,e=0,o=-1;++o<s;){for(n=e,a=-1;++a<s;){var p=l[o],g=c[p][a],v=r[p][g],y=e,m=e+=v*t;d[g*s+p]={index:p,subindex:g,startAngle:y,endAngle:m,value:v}}h[p]={index:p,startAngle:n,endAngle:e,value:u[p]},e+=i}for(o=-1;++o<s;)for(a=o-1;++a<s;){var _=d[a*s+o],x=d[o*s+a];(_.value||x.value)&&f.push(_.value<x.value?{source:x,target:_}:{source:_,target:x})}return M?f.sort(M):f}return e.padAngle=function(t){return arguments.length?(E=Ii(0,t),e):E},e.sortGroups=function(t){return arguments.length?(b=t,e):b},e.sortSubgroups=function(t){return arguments.length?(w=t,e):w},e.sortChords=function(t){return arguments.length?(null==t?M=null:(n=t,M=function(t,e){return n(t.source.value+t.target.value,e.source.value+e.target.value)})._=t,e):M&&M._;var n},e},G.ribbon=function(){var h=Yi,d=Vi,p=Wi,g=Xi,v=Ki,y=null;function e(){var t,e=Ui.call(arguments),n=h.apply(this,e),r=d.apply(this,e),i=+p.apply(this,(e[0]=n,e)),o=g.apply(this,e)-Fi,a=v.apply(this,e)-Fi,s=i*ki(o),u=i*Oi(o),l=+p.apply(this,(e[0]=r,e)),c=g.apply(this,e)-Fi,f=v.apply(this,e)-Fi;if(y||(y=t=ji()),y.moveTo(s,u),y.arc(0,0,i,o,a),o===c&&a===f||(y.quadraticCurveTo(0,0,l*ki(c),l*Oi(c)),y.arc(0,0,l,c,f)),y.quadraticCurveTo(0,0,s,u),y.closePath(),t)return y=null,t+""||null}return e.radius=function(t){return arguments.length?(p="function"==typeof t?t:Ri(+t),e):p},e.startAngle=function(t){return arguments.length?(g="function"==typeof t?t:Ri(+t),e):g},e.endAngle=function(t){return arguments.length?(v="function"==typeof t?t:Ri(+t),e):v},e.source=function(t){return arguments.length?(h=t,e):h},e.target=function(t){return arguments.length?(d=t,e):d},e.context=function(t){return arguments.length?(y=null==t?null:t,e):y},e},G.nest=function(){var h,d,e,p=[],a=[];function g(t,n,r,i){if(n>=p.length)return null!=h&&t.sort(h),null!=d?d(t):t;for(var e,o,a,s=-1,u=t.length,l=p[n++],c=Ji(),f=r();++s<u;)(a=c.get(e=l(o=t[s])+""))?a.push(o):c.set(e,[o]);return c.each(function(t,e){i(f,e,g(t,n,r,i))}),f}return e={object:function(t){return g(t,0,to,eo)},map:function(t){return g(t,0,no,ro)},entries:function(t){return function n(t,r){if(++r>p.length)return t;var i,o=a[r-1];return null!=d&&r>=p.length?i=t.entries():(i=[],t.each(function(t,e){i.push({key:e,values:n(t,r)})})),null!=o?i.sort(function(t,e){return o(t.key,e.key)}):i}(g(t,0,no,ro),0)},key:function(t){return p.push(t),e},sortKeys:function(t){return a[p.length-1]=t,e},sortValues:function(t){return h=t,e},rollup:function(t){return d=t,e}}},G.set=ao,G.map=Ji,G.keys=function(t){var e=[];for(var n in t)e.push(n);return e},G.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},G.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},G.color=pe,G.rgb=me,G.hsl=Ee,G.lab=$e,G.hcl=Ge,G.cubehelix=Xe,G.dispatch=H,G.drag=function(){var n,r,i,o,a=Wt,s=Xt,e=Kt,u=Zt,p={},g=H("start","drag","end"),v=0,l=0;function y(t){t.on("mousedown.drag",c).filter(u).on("touchstart.drag",d).on("touchmove.drag",m).on("touchend.drag touchcancel.drag",_).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function c(){if(!o&&a.apply(this,arguments)){var t=x("mouse",s.apply(this,arguments),Gt,this,arguments);t&&($t(G.event.view).on("mousemove.drag",f,!0).on("mouseup.drag",h,!0),Bt(G.event.view),zt(),i=!1,n=G.event.clientX,r=G.event.clientY,t("start"))}}function f(){if(qt(),!i){var t=G.event.clientX-n,e=G.event.clientY-r;i=l<t*t+e*e}p.mouse("drag")}function h(){$t(G.event.view).on("mousemove.drag mouseup.drag",null),jt(G.event.view,i),qt(),p.mouse("end")}function d(){if(a.apply(this,arguments)){var t,e,n=G.event.changedTouches,r=s.apply(this,arguments),i=n.length;for(t=0;t<i;++t)(e=x(n[t].identifier,r,Ht,this,arguments))&&(zt(),e("start"))}}function m(){var t,e,n=G.event.changedTouches,r=n.length;for(t=0;t<r;++t)(e=p[n[t].identifier])&&(qt(),e("drag"))}function _(){var t,e,n=G.event.changedTouches,r=n.length;for(o&&clearTimeout(o),o=setTimeout(function(){o=null},500),t=0;t<r;++t)(e=p[n[t].identifier])&&(zt(),e("end"))}function x(i,o,a,s,u){var l,c,f,h=a(o,i),d=g.copy();if(Dt(new Vt(y,"beforestart",l,i,v,h[0],h[1],0,0,d),function(){return null!=(G.event.subject=l=e.apply(s,u))&&(c=l.x-h[0]||0,f=l.y-h[1]||0,!0)}))return function t(e){var n,r=h;switch(e){case"start":p[i]=t,n=v++;break;case"end":delete p[i],--v;case"drag":h=a(o,i),n=v}Dt(new Vt(y,e,l,i,n,h[0]+c,h[1]+f,h[0]-r[0],h[1]-r[1],d),d.apply,d,[e,s,u])}}return y.filter=function(t){return arguments.length?(a="function"==typeof t?t:Yt(!!t),y):a},y.container=function(t){return arguments.length?(s="function"==typeof t?t:Yt(t),y):s},y.subject=function(t){return arguments.length?(e="function"==typeof t?t:Yt(t),y):e},y.touchable=function(t){return arguments.length?(u="function"==typeof t?t:Yt(!!t),y):u},y.on=function(){var t=g.on.apply(g,arguments);return t===g?y:t},y.clickDistance=function(t){return arguments.length?(l=(t=+t)*t,y):Math.sqrt(l)},y},G.dragDisable=Bt,G.dragEnable=jt,G.dsvFormat=co,G.csvParse=ho,G.csvParseRows=po,G.csvFormat=go,G.csvFormatRows=vo,G.tsvParse=mo,G.tsvParseRows=_o,G.tsvFormat=xo,G.tsvFormatRows=Eo,G.easeLinear=function(t){return+t},G.easeQuad=kr,G.easeQuadIn=function(t){return t*t},G.easeQuadOut=function(t){return t*(2-t)},G.easeQuadInOut=kr,G.easeCubic=Or,G.easeCubicIn=function(t){return t*t*t},G.easeCubicOut=function(t){return--t*t*t+1},G.easeCubicInOut=Or,G.easePoly=Pr,G.easePolyIn=$r,G.easePolyOut=Fr,G.easePolyInOut=Pr,G.easeSin=Rr,G.easeSinIn=function(t){return 1-Math.cos(t*Ur)},G.easeSinOut=function(t){return Math.sin(t*Ur)},G.easeSinInOut=Rr,G.easeExp=Gr,G.easeExpIn=function(t){return Math.pow(2,10*t-10)},G.easeExpOut=function(t){return 1-Math.pow(2,-10*t)},G.easeExpInOut=Gr,G.easeCircle=Hr,G.easeCircleIn=function(t){return 1-Math.sqrt(1-t*t)},G.easeCircleOut=function(t){return Math.sqrt(1- --t*t)},G.easeCircleInOut=Hr,G.easeBounce=Qr,G.easeBounceIn=function(t){return 1-Qr(1-t)},G.easeBounceOut=Qr,G.easeBounceInOut=function(t){return((t*=2)<=1?1-Qr(1-t):Qr(t-1)+1)/2},G.easeBack=ni,G.easeBackIn=ti,G.easeBackOut=ei,G.easeBackInOut=ni,G.easeElastic=oi,G.easeElasticIn=ii,G.easeElasticOut=oi,G.easeElasticInOut=ai,G.forceCenter=function(o,a){var s;function e(){var t,e,n=s.length,r=0,i=0;for(t=0;t<n;++t)r+=(e=s[t]).x,i+=e.y;for(r=r/n-o,i=i/n-a,t=0;t<n;++t)(e=s[t]).x-=r,e.y-=i}return null==o&&(o=0),null==a&&(a=0),e.initialize=function(t){s=t},e.x=function(t){return arguments.length?(o=+t,e):o},e.y=function(t){return arguments.length?(a=+t,e):a},e},G.forceCollide=function(r){var o,a,v=1,s=1;function e(){for(var t,e,f,h,d,p,g,n=o.length,r=0;r<s;++r)for(e=Ao(o,ko,Oo).visitAfter(u),t=0;t<n;++t)f=o[t],p=a[f.index],g=p*p,h=f.x+f.vx,d=f.y+f.vy,e.visit(i);function i(t,e,n,r,i){var o=t.data,a=t.r,s=p+a;if(!o)return h+s<e||r<h-s||d+s<n||i<d-s;if(o.index>f.index){var u=h-o.x-o.vx,l=d-o.y-o.vy,c=u*u+l*l;c<s*s&&(0===u&&(c+=(u=wo())*u),0===l&&(c+=(l=wo())*l),c=(s-(c=Math.sqrt(c)))/c*v,f.vx+=(u*=c)*(s=(a*=a)/(g+a)),f.vy+=(l*=c)*s,o.vx-=u*(s=1-s),o.vy-=l*s)}}}function u(t){if(t.data)return t.r=a[t.data.index];for(var e=t.r=0;e<4;++e)t[e]&&t[e].r>t.r&&(t.r=t[e].r)}function n(){if(o){var t,e,n=o.length;for(a=new Array(n),t=0;t<n;++t)e=o[t],a[e.index]=+r(e,t,o)}}return"function"!=typeof r&&(r=bo(null==r?1:+r)),e.initialize=function(t){o=t,n()},e.iterations=function(t){return arguments.length?(s=+t,e):s},e.strength=function(t){return arguments.length?(v=+t,e):v},e.radius=function(t){return arguments.length?(r="function"==typeof t?t:bo(+t),n(),e):r},e},G.forceLink=function(f){var h,d,o,a,p,s=$o,n=function(t){return 1/Math.min(a[t.source.index],a[t.target.index])},r=bo(30),g=1;function e(t){for(var e=0,n=f.length;e<g;++e)for(var r,i,o,a,s,u,l,c=0;c<n;++c)i=(r=f[c]).source,a=(o=r.target).x+o.vx-i.x-i.vx||wo(),s=o.y+o.vy-i.y-i.vy||wo(),a*=u=((u=Math.sqrt(a*a+s*s))-d[c])/u*t*h[c],s*=u,o.vx-=a*(l=p[c]),o.vy-=s*l,i.vx+=a*(l=1-l),i.vy+=s*l}function i(){if(o){var t,e,n=o.length,r=f.length,i=Ji(o,s);for(t=0,a=new Array(n);t<r;++t)(e=f[t]).index=t,"object"!=typeof e.source&&(e.source=Fo(i,e.source)),"object"!=typeof e.target&&(e.target=Fo(i,e.target)),a[e.source.index]=(a[e.source.index]||0)+1,a[e.target.index]=(a[e.target.index]||0)+1;for(t=0,p=new Array(r);t<r;++t)e=f[t],p[t]=a[e.source.index]/(a[e.source.index]+a[e.target.index]);h=new Array(r),u(),d=new Array(r),l()}}function u(){if(o)for(var t=0,e=f.length;t<e;++t)h[t]=+n(f[t],t,f)}function l(){if(o)for(var t=0,e=f.length;t<e;++t)d[t]=+r(f[t],t,f)}return null==f&&(f=[]),e.initialize=function(t){o=t,i()},e.links=function(t){return arguments.length?(f=t,i(),e):f},e.id=function(t){return arguments.length?(s=t,e):s},e.iterations=function(t){return arguments.length?(g=+t,e):g},e.strength=function(t){return arguments.length?(n="function"==typeof t?t:bo(+t),u(),e):n},e.distance=function(t){return arguments.length?(r="function"==typeof t?t:bo(+t),l(),e):r},e},G.forceManyBody=function(){var i,u,l,c,r=bo(-30),f=1,h=1/0,d=.81;function e(t){var e,n=i.length,r=Ao(i,Po,Io).visitAfter(o);for(l=t,e=0;e<n;++e)u=i[e],r.visit(a)}function n(){if(i){var t,e,n=i.length;for(c=new Array(n),t=0;t<n;++t)e=i[t],c[e.index]=+r(e,t,i)}}function o(t){var e,n,r,i,o,a=0,s=0;if(t.length){for(r=i=o=0;o<4;++o)(e=t[o])&&(n=Math.abs(e.value))&&(a+=e.value,s+=n,r+=n*e.x,i+=n*e.y);t.x=r/s,t.y=i/s}else for((e=t).x=e.data.x,e.y=e.data.y;a+=c[e.data.index],e=e.next;);t.value=a}function a(t,e,n,r){if(!t.value)return!0;var i=t.x-u.x,o=t.y-u.y,a=r-e,s=i*i+o*o;if(a*a/d<s)return s<h&&(0===i&&(s+=(i=wo())*i),0===o&&(s+=(o=wo())*o),s<f&&(s=Math.sqrt(f*s)),u.vx+=i*t.value*l/s,u.vy+=o*t.value*l/s),!0;if(!(t.length||h<=s))for((t.data!==u||t.next)&&(0===i&&(s+=(i=wo())*i),0===o&&(s+=(o=wo())*o),s<f&&(s=Math.sqrt(f*s)));t.data!==u&&(a=c[t.data.index]*l/s,u.vx+=i*a,u.vy+=o*a),t=t.next;);}return e.initialize=function(t){i=t,n()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:bo(+t),n(),e):r},e.distanceMin=function(t){return arguments.length?(f=t*t,e):Math.sqrt(f)},e.distanceMax=function(t){return arguments.length?(h=t*t,e):Math.sqrt(h)},e.theta=function(t){return arguments.length?(d=t*t,e):Math.sqrt(d)},e},G.forceRadial=function(n,u,l){var c,f,h,r=bo(.1);function e(t){for(var e=0,n=c.length;e<n;++e){var r=c[e],i=r.x-u||1e-6,o=r.y-l||1e-6,a=Math.sqrt(i*i+o*o),s=(h[e]-a)*f[e]*t/a;r.vx+=i*s,r.vy+=o*s}}function i(){if(c){var t,e=c.length;for(f=new Array(e),h=new Array(e),t=0;t<e;++t)h[t]=+n(c[t],t,c),f[t]=isNaN(h[t])?0:+r(c[t],t,c)}}return"function"!=typeof n&&(n=bo(+n)),null==u&&(u=0),null==l&&(l=0),e.initialize=function(t){c=t,i()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:bo(+t),i(),e):r},e.radius=function(t){return arguments.length?(n="function"==typeof t?t:bo(+t),i(),e):n},e.x=function(t){return arguments.length?(u=+t,e):u},e.y=function(t){return arguments.length?(l=+t,e):l},e},G.forceSimulation=function(c){var n,r=1,e=.001,i=1-Math.pow(e,1/300),o=0,a=.6,s=Ji(),t=ir(l),u=H("tick","end");function l(){f(),u.call("tick",n),r<e&&(t.stop(),u.call("end",n))}function f(){var t,e,n=c.length;for(r+=(o-r)*i,s.each(function(t){t(r)}),t=0;t<n;++t)null==(e=c[t]).fx?e.x+=e.vx*=a:(e.x=e.fx,e.vx=0),null==e.fy?e.y+=e.vy*=a:(e.y=e.fy,e.vy=0)}function h(){for(var t,e=0,n=c.length;e<n;++e){if((t=c[e]).index=e,isNaN(t.x)||isNaN(t.y)){var r=10*Math.sqrt(e),i=e*Ro;t.x=r*Math.cos(i),t.y=r*Math.sin(i)}(isNaN(t.vx)||isNaN(t.vy))&&(t.vx=t.vy=0)}}function d(t){return t.initialize&&t.initialize(c),t}return null==c&&(c=[]),h(),n={tick:f,restart:function(){return t.restart(l),n},stop:function(){return t.stop(),n},nodes:function(t){return arguments.length?(c=t,h(),s.each(d),n):c},alpha:function(t){return arguments.length?(r=+t,n):r},alphaMin:function(t){return arguments.length?(e=+t,n):e},alphaDecay:function(t){return arguments.length?(i=+t,n):+i},alphaTarget:function(t){return arguments.length?(o=+t,n):o},velocityDecay:function(t){return arguments.length?(a=1-t,n):1-a},force:function(t,e){return 1<arguments.length?(null==e?s.remove(t):s.set(t,d(e)),n):s.get(t)},find:function(t,e,n){var r,i,o,a,s,u=0,l=c.length;for(null==n?n=1/0:n*=n,u=0;u<l;++u)(o=(r=t-(a=c[u]).x)*r+(i=e-a.y)*i)<n&&(s=a,n=o);return s},on:function(t,e){return 1<arguments.length?(u.on(t,e),n):u.on(t)}}},G.forceX=function(n){var i,o,a,r=bo(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vx+=(a[n]-e.x)*o[n]*t}function s(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=bo(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:bo(+t),s(),e):r},e.x=function(t){return arguments.length?(n="function"==typeof t?t:bo(+t),s(),e):n},e},G.forceY=function(n){var i,o,a,r=bo(.1);function e(t){for(var e,n=0,r=i.length;n<r;++n)(e=i[n]).vy+=(a[n]-e.y)*o[n]*t}function s(){if(i){var t,e=i.length;for(o=new Array(e),a=new Array(e),t=0;t<e;++t)o[t]=isNaN(a[t]=+n(i[t],t,i))?0:+r(i[t],t,i)}}return"function"!=typeof n&&(n=bo(null==n?0:+n)),e.initialize=function(t){i=t,s()},e.strength=function(t){return arguments.length?(r="function"==typeof t?t:bo(+t),s(),e):r},e.y=function(t){return arguments.length?(n="function"==typeof t?t:bo(+t),s(),e):n},e},G.formatDefaultLocale=Zo,G.formatLocale=Ko,G.formatSpecifier=jo,G.precisionFixed=Qo,G.precisionPrefix=Jo,G.precisionRound=ta,G.geoArea=function(t){return Wa.reset(),Oa(t,Xa),2*Wa},G.geoBounds=function(t){var e,n,r,i,o,a,s;if(za=Ha=-(Ra=Ga=1/0),ss=[],Oa(t,Ts),n=ss.length){for(ss.sort(Fs),e=1,o=[r=ss[0]];e<n;++e)Ps(r,(i=ss[e])[0])||Ps(r,i[1])?($s(r[0],i[1])>$s(r[0],r[1])&&(r[1]=i[1]),$s(i[0],r[1])>$s(r[0],r[1])&&(r[0]=i[0])):o.push(r=i);for(a=-1/0,e=0,r=o[n=o.length-1];e<=n;r=i,++e)i=o[e],(s=$s(r[1],i[0]))>a&&(a=s,Ra=i[0],Ha=r[1])}return ss=us=null,Ra===1/0||Ga===1/0?[[NaN,NaN],[NaN,NaN]]:[[Ra,Ga],[Ha,za]]},G.geoCentroid=function(t){ls=cs=fs=hs=ds=ps=gs=vs=ys=ms=_s=0,Oa(t,Is);var e=ys,n=ms,r=_s,i=e*e+n*n+r*r;return i<1e-12&&(e=ps,n=gs,r=vs,cs<oa&&(e=fs,n=hs,r=ds),(i=e*e+n*n+r*r)<1e-12)?[NaN,NaN]:[pa(n,e)*ca,Ca(r/ba(i))*ca]},G.geoCircle=function(){var r,i,o=Ws([0,0]),a=Ws(90),s=Ws(6),u={point:function(t,e){r.push(t=i(t,e)),t[0]*=ca,t[1]*=ca}};function e(){var t=o.apply(this,arguments),e=a.apply(this,arguments)*fa,n=s.apply(this,arguments)*fa;return r=[],i=Zs(-t[0]*fa,-t[1]*fa,0).invert,nu(u,e,n,1),t={type:"Polygon",coordinates:[r]},r=i=null,t}return e.center=function(t){return arguments.length?(o="function"==typeof t?t:Ws([+t[0],+t[1]]),e):o},e.radius=function(t){return arguments.length?(a="function"==typeof t?t:Ws(+t),e):a},e.precision=function(t){return arguments.length?(s="function"==typeof t?t:Ws(+t),e):s},e},G.geoClipAntimeridian=pu,G.geoClipCircle=gu,G.geoClipExtent=function(){var e,n,r,i=0,o=0,a=960,s=500;return r={stream:function(t){return e&&n===t?e:e=mu(i,o,a,s)(n=t)},extent:function(t){return arguments.length?(i=+t[0][0],o=+t[0][1],a=+t[1][0],s=+t[1][1],e=n=null,r):[[i,o],[a,s]]}}},G.geoClipRectangle=mu,G.geoContains=function(t,e){return(t&&Nu.hasOwnProperty(t.type)?Nu[t.type]:Ou)(t,e)},G.geoDistance=Lu,G.geoGraticule=Hu,G.geoGraticule10=function(){return Hu()()},G.geoInterpolate=function(t,e){var n=t[0]*fa,r=t[1]*fa,i=e[0]*fa,o=e[1]*fa,a=ga(r),s=xa(r),u=ga(o),l=xa(o),c=a*ga(n),f=a*xa(n),h=u*ga(i),d=u*xa(i),p=2*Ca(ba(Ta(o-r)+a*u*Ta(i-n))),g=xa(p),v=p?function(t){var e=xa(t*=p)/g,n=xa(p-t)/g,r=n*c+e*h,i=n*f+e*d,o=n*s+e*l;return[pa(i,r)*ca,pa(o,ba(r*r+i*i))*ca]}:function(){return[n*ca,r*ca]};return v.distance=p,v},G.geoLength=Su,G.geoPath=function(e,n){var r,i,o=4.5;function a(t){return t&&("function"==typeof o&&i.pointRadius(+o.apply(this,arguments)),Oa(t,r(i))),i.result()}return a.area=function(t){return Oa(t,r(Xu)),Xu.result()},a.measure=function(t){return Oa(t,r(Fl)),Fl.result()},a.bounds=function(t){return Oa(t,r(il)),il.result()},a.centroid=function(t){return Oa(t,r(ml)),ml.result()},a.projection=function(t){return arguments.length?(r=null==t?(e=null,zu):(e=t).stream,a):e},a.context=function(t){return arguments.length?(i=null==t?(n=null,new Ul):new Al(n=t),"function"!=typeof o&&i.pointRadius(o),a):n},a.pointRadius=function(t){return arguments.length?(o="function"==typeof t?t:(i.pointRadius(+t),+t),a):o},a.projection(e).context(n)},G.geoAlbers=nc,G.geoAlbersUsa=function(){var e,n,i,o,a,r,s=nc(),u=ec().rotate([154,0]).center([-2,58.5]).parallels([55,65]),l=ec().rotate([157,0]).center([-3,19.9]).parallels([8,18]),c={point:function(t,e){r=[t,e]}};function f(t){var e=t[0],n=t[1];return r=null,i.point(e,n),r||(o.point(e,n),r)||(a.point(e,n),r)}function h(){return e=n=null,f}return f.invert=function(t){var e=s.scale(),n=s.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(.12<=i&&i<.234&&-.425<=r&&r<-.214?u:.166<=i&&i<.234&&-.214<=r&&r<-.115?l:s).invert(t)},f.stream=function(t){return e&&n===t?e:(r=[s.stream(n=t),u.stream(t),l.stream(t)],i=r.length,e={point:function(t,e){for(var n=-1;++n<i;)r[n].point(t,e)},sphere:function(){for(var t=-1;++t<i;)r[t].sphere()},lineStart:function(){for(var t=-1;++t<i;)r[t].lineStart()},lineEnd:function(){for(var t=-1;++t<i;)r[t].lineEnd()},polygonStart:function(){for(var t=-1;++t<i;)r[t].polygonStart()},polygonEnd:function(){for(var t=-1;++t<i;)r[t].polygonEnd()}});var r,i},f.precision=function(t){return arguments.length?(s.precision(t),u.precision(t),l.precision(t),h()):s.precision()},f.scale=function(t){return arguments.length?(s.scale(t),u.scale(.35*t),l.scale(t),f.translate(s.translate())):s.scale()},f.translate=function(t){if(!arguments.length)return s.translate();var e=s.scale(),n=+t[0],r=+t[1];return i=s.translate(t).clipExtent([[n-.455*e,r-.238*e],[n+.455*e,r+.238*e]]).stream(c),o=u.translate([n-.307*e,r+.201*e]).clipExtent([[n-.425*e+oa,r+.12*e+oa],[n-.214*e-oa,r+.234*e-oa]]).stream(c),a=l.translate([n-.205*e,r+.212*e]).clipExtent([[n-.214*e+oa,r+.166*e+oa],[n-.115*e-oa,r+.234*e-oa]]).stream(c),h()},f.fitExtent=function(t,e){return ql(f,t,e)},f.fitSize=function(t,e){return Bl(f,t,e)},f.fitWidth=function(t,e){return jl(f,t,e)},f.fitHeight=function(t,e){return Yl(f,t,e)},f.scale(1070)},G.geoAzimuthalEqualArea=function(){return Zl(oc).scale(124.75).clipAngle(179.999)},G.geoAzimuthalEqualAreaRaw=oc,G.geoAzimuthalEquidistant=function(){return Zl(ac).scale(79.4188).clipAngle(179.999)},G.geoAzimuthalEquidistantRaw=ac,G.geoConicConformal=function(){return Jl(cc).scale(109.5).parallels([30,30])},G.geoConicConformalRaw=cc,G.geoConicEqualArea=ec,G.geoConicEqualAreaRaw=tc,G.geoConicEquidistant=function(){return Jl(hc).scale(131.154).center([0,13.9389])},G.geoConicEquidistantRaw=hc,G.geoEquirectangular=function(){return Zl(fc).scale(152.63)},G.geoEquirectangularRaw=fc,G.geoGnomonic=function(){return Zl(dc).scale(144.049).clipAngle(60)},G.geoGnomonicRaw=dc,G.geoIdentity=function(){var e,n,r,i,o,a,s=1,u=0,l=0,c=1,f=1,h=zu,d=null,p=zu;function g(){return i=o=null,a}return a={stream:function(t){return i&&o===t?i:i=h(p(o=t))},postclip:function(t){return arguments.length?(p=t,d=e=n=r=null,g()):p},clipExtent:function(t){return arguments.length?(p=null==t?(d=e=n=r=null,zu):mu(d=+t[0][0],e=+t[0][1],n=+t[1][0],r=+t[1][1]),g()):null==d?null:[[d,e],[n,r]]},scale:function(t){return arguments.length?(h=pc((s=+t)*c,s*f,u,l),g()):s},translate:function(t){return arguments.length?(h=pc(s*c,s*f,u=+t[0],l=+t[1]),g()):[u,l]},reflectX:function(t){return arguments.length?(h=pc(s*(c=t?-1:1),s*f,u,l),g()):c<0},reflectY:function(t){return arguments.length?(h=pc(s*c,s*(f=t?-1:1),u,l),g()):f<0},fitExtent:function(t,e){return ql(a,t,e)},fitSize:function(t,e){return Bl(a,t,e)},fitWidth:function(t,e){return jl(a,t,e)},fitHeight:function(t,e){return Yl(a,t,e)}}},G.geoProjection=Zl,G.geoProjectionMutator=Ql,G.geoMercator=function(){return uc(sc).scale(961/la)},G.geoMercatorRaw=sc,G.geoNaturalEarth1=function(){return Zl(gc).scale(175.295)},G.geoNaturalEarth1Raw=gc,G.geoOrthographic=function(){return Zl(vc).scale(249.5).clipAngle(90+oa)},G.geoOrthographicRaw=vc,G.geoStereographic=function(){return Zl(yc).scale(250).clipAngle(142)},G.geoStereographicRaw=yc,G.geoTransverseMercator=function(){var t=uc(mc),e=t.center,n=t.rotate;return t.center=function(t){return arguments.length?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return arguments.length?n([t[0],t[1],2<t.length?t[2]+90:90]):[(t=n())[0],t[1],t[2]-90]},n([0,0,90]).scale(159.155)},G.geoTransverseMercatorRaw=mc,G.geoRotation=eu,G.geoStream=Oa,G.geoTransform=function(t){return{stream:Gl(t)}},G.cluster=function(){var s=_c,u=1,l=1,c=!1;function e(e){var r,i=0;e.eachAfter(function(t){var e,n=t.children;n?(t.x=(e=n).reduce(xc,0)/e.length,t.y=1+n.reduce(Ec,0)):(t.x=r?i+=s(t,r):0,t.y=0,r=t)});var t=function(t){for(var e;e=t.children;)t=e[0];return t}(e),n=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),o=t.x-s(t,n)/2,a=n.x+s(n,t)/2;return e.eachAfter(c?function(t){t.x=(t.x-e.x)*u,t.y=(e.y-t.y)*l}:function(t){t.x=(t.x-o)/(a-o)*u,t.y=(1-(e.y?t.y/e.y:1))*l})}return e.separation=function(t){return arguments.length?(s=t,e):s},e.size=function(t){return arguments.length?(c=!1,u=+t[0],l=+t[1],e):c?null:[u,l]},e.nodeSize=function(t){return arguments.length?(c=!0,u=+t[0],l=+t[1],e):c?[u,l]:null},e},G.hierarchy=wc,G.pack=function(){var n=null,e=1,r=1,i=qc;function o(t){return t.x=e/2,t.y=r/2,n?t.eachBefore(Yc(n)).eachAfter(Vc(i,.5)).eachBefore(Wc(1)):t.eachBefore(Yc(jc)).eachAfter(Vc(qc,1)).eachAfter(Vc(i,t.r/Math.min(e,r))).eachBefore(Wc(Math.min(e,r)/(2*t.r))),t}return o.radius=function(t){return arguments.length?(n=null==(e=t)?null:zc(e),o):n;var e},o.size=function(t){return arguments.length?(e=+t[0],r=+t[1],o):[e,r]},o.padding=function(t){return arguments.length?(i="function"==typeof t?t:Bc(+t),o):i},o},G.packSiblings=function(t){return Hc(t),t},G.packEnclose=Dc,G.partition=function(){var n=1,r=1,s=0,i=!1;function e(t){var o,a,e=t.height+1;return t.x0=t.y0=s,t.x1=n,t.y1=r/e,t.eachBefore((o=r,a=e,function(t){t.children&&Kc(t,t.x0,o*(t.depth+1)/a,t.x1,o*(t.depth+2)/a);var e=t.x0,n=t.y0,r=t.x1-s,i=t.y1-s;r<e&&(e=r=(e+r)/2),i<n&&(n=i=(n+i)/2),t.x0=e,t.y0=n,t.x1=r,t.y1=i})),i&&t.eachBefore(Xc),t}return e.round=function(t){return arguments.length?(i=!!t,e):i},e.size=function(t){return arguments.length?(n=+t[0],r=+t[1],e):[n,r]},e.padding=function(t){return arguments.length?(s=+t,e):s},e},G.stratify=function(){var f=Jc,h=tf;function e(t){var e,n,r,i,o,a,s,u=t.length,l=new Array(u),c={};for(n=0;n<u;++n)e=t[n],o=l[n]=new Sc(e),null!=(a=f(e,n,t))&&(a+="")&&(c[s="$"+(o.id=a)]=s in c?Qc:o);for(n=0;n<u;++n)if(o=l[n],null!=(a=h(t[n],n,t))&&(a+="")){if(!(i=c["$"+a]))throw new Error("missing: "+a);if(i===Qc)throw new Error("ambiguous: "+a);i.children?i.children.push(o):i.children=[o],o.parent=i}else{if(r)throw new Error("multiple roots");r=o}if(!r)throw new Error("no root");if(r.parent=Zc,r.eachBefore(function(t){t.depth=t.parent.depth+1,--u}).eachBefore(Tc),r.parent=null,0<u)throw new Error("cycle");return r}return e.id=function(t){return arguments.length?(f=zc(t),e):f},e.parentId=function(t){return arguments.length?(h=zc(t),e):h},e},G.tree=function(){var _=ef,l=1,c=1,f=null;function e(t){var e=function(t){for(var e,n,r,i,o,a=new of(t,0),s=[a];e=s.pop();)if(r=e._.children)for(e.children=new Array(o=r.length),i=o-1;0<=i;--i)s.push(n=e.children[i]=new of(r[i],i)),n.parent=e;return(a.parent=new of(null,0)).children=[a],a}(t);if(e.eachAfter(h),e.parent.m=-e.z,e.eachBefore(d),f)t.eachBefore(p);else{var n=t,r=t,i=t;t.eachBefore(function(t){t.x<n.x&&(n=t),t.x>r.x&&(r=t),t.depth>i.depth&&(i=t)});var o=n===r?1:_(n,r)/2,a=o-n.x,s=l/(r.x+o+a),u=c/(i.depth||1);t.eachBefore(function(t){t.x=(t.x+a)*s,t.y=t.depth*u})}return t}function h(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e){!function(t){for(var e,n=0,r=0,i=t.children,o=i.length;0<=--o;)(e=i[o]).z+=n,e.m+=n,n+=e.s+(r+=e.c)}(t);var i=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+_(t._,r._),t.m=t.z-i):t.z=i}else r&&(t.z=r.z+_(t._,r._));t.parent.A=function(t,e,n){if(e){for(var r,i=t,o=t,a=e,s=i.parent.children[0],u=i.m,l=o.m,c=a.m,f=s.m;a=rf(a),i=nf(i),a&&i;)s=nf(s),(o=rf(o)).a=t,0<(r=a.z+c-i.z-u+_(a._,i._))&&(y=t,m=n,h=(v=a).a.parent===y.parent?v.a:m,g=(p=r)/((d=t).i-h.i),d.c-=g,d.s+=p,h.c+=g,d.z+=p,d.m+=p,u+=r,l+=r),c+=a.m,u+=i.m,f+=s.m,l+=o.m;a&&!rf(o)&&(o.t=a,o.m+=c-l),i&&!nf(s)&&(s.t=i,s.m+=u-f,n=t)}var h,d,p,g,v,y,m;return n}(t,r,t.parent.A||n[0])}function d(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function p(t){t.x*=l,t.y=t.depth*c}return e.separation=function(t){return arguments.length?(_=t,e):_},e.size=function(t){return arguments.length?(f=!1,l=+t[0],c=+t[1],e):f?null:[l,c]},e.nodeSize=function(t){return arguments.length?(f=!0,l=+t[0],c=+t[1],e):f?[l,c]:null},e},G.treemap=function(){var a=lf,e=!1,n=1,r=1,s=[0],u=qc,l=qc,c=qc,f=qc,h=qc;function i(t){return t.x0=t.y0=0,t.x1=n,t.y1=r,t.eachBefore(o),s=[0],e&&t.eachBefore(Xc),t}function o(t){var e=s[t.depth],n=t.x0+e,r=t.y0+e,i=t.x1-e,o=t.y1-e;i<n&&(n=i=(n+i)/2),o<r&&(r=o=(r+o)/2),t.x0=n,t.y0=r,t.x1=i,t.y1=o,t.children&&(e=s[t.depth+1]=u(t)/2,n+=h(t)-e,r+=l(t)-e,(i-=c(t)-e)<n&&(n=i=(n+i)/2),(o-=f(t)-e)<r&&(r=o=(r+o)/2),a(t,n,r,i,o))}return i.round=function(t){return arguments.length?(e=!!t,i):e},i.size=function(t){return arguments.length?(n=+t[0],r=+t[1],i):[n,r]},i.tile=function(t){return arguments.length?(a=zc(t),i):a},i.padding=function(t){return arguments.length?i.paddingInner(t).paddingOuter(t):i.paddingInner()},i.paddingInner=function(t){return arguments.length?(u="function"==typeof t?t:Bc(+t),i):u},i.paddingOuter=function(t){return arguments.length?i.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):i.paddingTop()},i.paddingTop=function(t){return arguments.length?(l="function"==typeof t?t:Bc(+t),i):l},i.paddingRight=function(t){return arguments.length?(c="function"==typeof t?t:Bc(+t),i):c},i.paddingBottom=function(t){return arguments.length?(f="function"==typeof t?t:Bc(+t),i):f},i.paddingLeft=function(t){return arguments.length?(h="function"==typeof t?t:Bc(+t),i):h},i},G.treemapBinary=function(t,e,n,r,i){var o,a,m=t.children,s=m.length,_=new Array(s+1);for(_[0]=a=o=0;o<s;++o)_[o+1]=a+=m[o].value;!function t(e,n,r,i,o,a,s){if(n-1<=e){var u=m[e];return u.x0=i,u.y0=o,u.x1=a,void(u.y1=s)}for(var l=_[e],c=r/2+l,f=e+1,h=n-1;f<h;){var d=f+h>>>1;_[d]<c?f=d+1:h=d}c-_[f-1]<_[f]-c&&e+1<f&&--f;var p=_[f]-l,g=r-p;if(s-o<a-i){var v=(i*g+a*p)/r;t(e,f,p,i,o,v,s),t(f,n,g,v,o,a,s)}else{var y=(o*g+s*p)/r;t(e,f,p,i,o,a,y),t(f,n,g,i,y,a,s)}}(0,s,t.value,e,n,r,i)},G.treemapDice=Kc,G.treemapSlice=af,G.treemapSliceDice=function(t,e,n,r,i){(1&t.depth?af:Kc)(t,e,n,r,i)},G.treemapSquarify=lf,G.treemapResquarify=cf,G.interpolate=yn,G.interpolateArray=cn,G.interpolateBasis=Qe,G.interpolateBasisClosed=Je,G.interpolateDate=fn,G.interpolateNumber=hn,G.interpolateObject=dn,G.interpolateRound=mn,G.interpolateString=vn,G.interpolateTransformCss=Sn,G.interpolateTransformSvg=An,G.interpolateZoom=$n,G.interpolateRgb=an,G.interpolateRgbBasis=un,G.interpolateRgbBasisClosed=ln,G.interpolateHsl=Pn,G.interpolateHslLong=In,G.interpolateLab=function(e,t){var n=on((e=$e(e)).l,(t=$e(t)).l),r=on(e.a,t.a),i=on(e.b,t.b),o=on(e.opacity,t.opacity);return function(t){return e.l=n(t),e.a=r(t),e.b=i(t),e.opacity=o(t),e+""}},G.interpolateHcl=Rn,G.interpolateHclLong=Gn,G.interpolateCubehelix=zn,G.interpolateCubehelixLong=qn,G.quantize=function(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n},G.path=ji,G.polygonArea=function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[1]*i[0]-e[0]*i[1];return o/2},G.polygonCentroid=function(t){for(var e,n,r=-1,i=t.length,o=0,a=0,s=t[i-1],u=0;++r<i;)e=s,s=t[r],u+=n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o/(u*=3),a/u]},G.polygonHull=function(t){if((n=t.length)<3)return null;var e,n,r=new Array(n),i=new Array(n);for(e=0;e<n;++e)r[e]=[+t[e][0],+t[e][1],e];for(r.sort(ff),e=0;e<n;++e)i[e]=[r[e][0],-r[e][1]];var o=hf(r),a=hf(i),s=a[0]===o[0],u=a[a.length-1]===o[o.length-1],l=[];for(e=o.length-1;0<=e;--e)l.push(t[r[o[e]][2]]);for(e=+s;e<a.length-u;++e)l.push(t[r[a[e]][2]]);return l},G.polygonContains=function(t,e){for(var n,r,i=t.length,o=t[i-1],a=e[0],s=e[1],u=o[0],l=o[1],c=!1,f=0;f<i;++f)n=(o=t[f])[0],s<(r=o[1])!=s<l&&a<(u-n)*(s-r)/(l-r)+n&&(c=!c),u=n,l=r;return c},G.polygonLength=function(t){for(var e,n,r=-1,i=t.length,o=t[i-1],a=o[0],s=o[1],u=0;++r<i;)e=a,n=s,e-=a=(o=t[r])[0],n-=s=o[1],u+=Math.sqrt(e*e+n*n);return u},G.quadtree=Ao,G.queue=xf,G.randomUniform=bf,G.randomNormal=wf,G.randomLogNormal=Mf,G.randomBates=Tf,G.randomIrwinHall=Cf,G.randomExponential=Sf,G.request=Af,G.html=Lf,G.json=Nf,G.text=kf,G.xml=Of,G.csv=Ff,G.tsv=Pf,G.scaleBand=zf,G.scalePoint=function(){return function t(e){var n=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return t(n())},e}(zf().paddingInner(1))},G.scaleIdentity=function t(){var e=[0,1];function n(t){return+t}return(n.invert=n).domain=n.range=function(t){return arguments.length?(e=Uf.call(t,Bf),n):e.slice()},n.copy=function(){return t().domain(e)},Zf(n)},G.scaleLinear=function t(){var e=Kf(Yf,hn);return e.copy=function(){return Xf(e,t())},Zf(e)},G.scaleLog=function t(){var e=Kf(Jf,th).domain([1,10]),h=e.domain,d=10,p=rh(10),g=nh(10);function n(){return p=rh(d),g=nh(d),h()[0]<0&&(p=ih(p),g=ih(g)),e}return e.base=function(t){return arguments.length?(d=+t,n()):d},e.domain=function(t){return arguments.length?(h(t),n()):h()},e.ticks=function(t){var e,n=h(),r=n[0],i=n[n.length-1];(e=i<r)&&(u=r,r=i,i=u);var o,a,s,u=p(r),l=p(i),c=null==t?10:+t,f=[];if(!(d%1)&&l-u<c){if(u=Math.round(u)-1,l=Math.round(l)+1,0<r){for(;u<l;++u)for(a=1,o=g(u);a<d;++a)if(!((s=o*a)<r)){if(i<s)break;f.push(s)}}else for(;u<l;++u)for(a=d-1,o=g(u);1<=a;--a)if(!((s=o*a)<r)){if(i<s)break;f.push(s)}}else f=y(u,l,Math.min(l-u,c)).map(g);return e?f.reverse():f},e.tickFormat=function(t,n){if(null==n&&(n=10===d?".0e":","),"function"!=typeof n&&(n=G.format(n)),t===1/0)return n;null==t&&(t=10);var r=Math.max(1,d*t/e.ticks().length);return function(t){var e=t/g(Math.round(p(t)));return e*d<d-.5&&(e*=d),e<=r?n(t):""}},e.nice=function(){return h(Qf(h(),{floor:function(t){return g(Math.floor(p(t)))},ceil:function(t){return g(Math.ceil(p(t)))}}))},e.copy=function(){return Xf(e,t().base(d))},e},G.scaleOrdinal=Hf,G.scaleImplicit=Gf,G.scalePow=ah,G.scaleSqrt=function(){return ah().exponent(.5)},G.scaleQuantile=function t(){var i=[],n=[],r=[];function o(){var t=0,e=Math.max(1,n.length);for(r=new Array(e-1);++t<e;)r[t-1]=x(i,t/e);return a}function a(t){if(!isNaN(t=+t))return n[g(r,t)]}return a.invertExtent=function(t){var e=n.indexOf(t);return e<0?[NaN,NaN]:[0<e?r[e-1]:i[0],e<r.length?r[e]:i[i.length-1]]},a.domain=function(t){if(!arguments.length)return i.slice();i=[];for(var e,n=0,r=t.length;n<r;++n)null==(e=t[n])||isNaN(e=+e)||i.push(e);return i.sort(s),o()},a.range=function(t){return arguments.length?(n=Rf.call(t),o()):n.slice()},a.quantiles=function(){return r.slice()},a.copy=function(){return t().domain(i).range(n)},a},G.scaleQuantize=function t(){var n=0,r=1,i=1,o=[.5],a=[0,1];function e(t){if(t<=t)return a[g(o,t,0,i)]}function s(){var t=-1;for(o=new Array(i);++t<i;)o[t]=((t+1)*r-(t-i)*n)/(i+1);return e}return e.domain=function(t){return arguments.length?(n=+t[0],r=+t[1],s()):[n,r]},e.range=function(t){return arguments.length?(i=(a=Rf.call(t)).length-1,s()):a.slice()},e.invertExtent=function(t){var e=a.indexOf(t);return e<0?[NaN,NaN]:e<1?[n,o[0]]:i<=e?[o[i-1],r]:[o[e-1],o[e]]},e.copy=function(){return t().domain([n,r]).range(a)},Zf(e)},G.scaleThreshold=function t(){var n=[.5],r=[0,1],e=1;function i(t){if(t<=t)return r[g(n,t,0,e)]}return i.domain=function(t){return arguments.length?(n=Rf.call(t),e=Math.min(n.length,r.length-1),i):n.slice()},i.range=function(t){return arguments.length?(r=Rf.call(t),e=Math.min(n.length,r.length-1),i):r.slice()},i.invertExtent=function(t){var e=r.indexOf(t);return[n[e-1],n[e]]},i.copy=function(){return t().domain(n).range(r)},i},G.scaleTime=function(){return Gp(Rh,Ih,wh,xh,mh,vh,ph,ch,G.timeFormat).domain([new Date(2e3,0,1),new Date(2e3,0,2)])},G.scaleUtc=function(){return Gp(cd,ud,Wh,jh,qh,Hh,ph,ch,G.utcFormat).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)])},G.schemeCategory10=zp,G.schemeCategory20b=qp,G.schemeCategory20c=Bp,G.schemeCategory20=jp,G.interpolateCubehelixDefault=Yp,G.interpolateRainbow=function(t){(t<0||1<t)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Xp.h=360*t-100,Xp.s=1.5-1.5*e,Xp.l=.8-.9*e,Xp+""},G.interpolateWarm=Vp,G.interpolateCool=Wp,G.interpolateViridis=Zp,G.interpolateMagma=Qp,G.interpolateInferno=Jp,G.interpolatePlasma=tg,G.scaleSequential=function t(n){var r=0,i=1,o=!1;function e(t){var e=(t-r)/(i-r);return n(o?Math.max(0,Math.min(1,e)):e)}return e.domain=function(t){return arguments.length?(r=+t[0],i=+t[1],e):[r,i]},e.clamp=function(t){return arguments.length?(o=!!t,e):o},e.interpolator=function(t){return arguments.length?(n=t,e):n},e.copy=function(){return t(n).domain([r,i]).clamp(o)},Zf(e)},G.create=function(t){return $t(W(t).call(document.documentElement))},G.creator=W,G.local=Pt,G.matcher=nt,G.mouse=Gt,G.namespace=V,G.namespaces=Y,G.clientPoint=Rt,G.select=$t,G.selectAll=function(t){return"string"==typeof t?new kt([document.querySelectorAll(t)],[document.documentElement]):new kt([null==t?[]:t],Nt)},G.selection=Ot,G.selector=K,G.selectorAll=Q,G.style=ct,G.touch=Ht,G.touches=function(t,e){null==e&&(e=Ut().touches);for(var n=0,r=e?e.length:0,i=new Array(r);n<r;++n)i[n]=Rt(t,e[n]);return i},G.window=lt,G.customEvent=Dt,G.arc=function(){var W=pg,X=gg,K=eg(0),Z=null,Q=vg,J=yg,tt=mg,et=null;function e(){var t,e,n,r,i,o,a,s,u,l,c,f,h=+W.apply(this,arguments),d=+X.apply(this,arguments),p=Q.apply(this,arguments)-fg,g=J.apply(this,arguments)-fg,v=ng(g-p),y=p<g;if(et||(et=t=ji()),d<h&&(e=d,d=h,h=e),lg<d)if(hg-lg<v)et.moveTo(d*ig(p),d*sg(p)),et.arc(0,0,d,p,g,!y),lg<h&&(et.moveTo(h*ig(g),h*sg(g)),et.arc(0,0,h,g,p,y));else{var m,_,x=p,E=g,b=p,w=g,M=v,C=v,T=tt.apply(this,arguments)/2,S=lg<T&&(Z?+Z.apply(this,arguments):ug(h*h+d*d)),A=ag(ng(d-h)/2,+K.apply(this,arguments)),D=A,L=A;if(lg<S){var N=dg(S/h*sg(T)),k=dg(S/d*sg(T));(M-=2*N)>lg?(b+=N*=y?1:-1,w-=N):(M=0,b=w=(p+g)/2),(C-=2*k)>lg?(x+=k*=y?1:-1,E-=k):(C=0,x=E=(p+g)/2)}var O=d*ig(x),$=d*sg(x),F=h*ig(w),P=h*sg(w);if(lg<A){var I=d*ig(E),U=d*sg(E),R=h*ig(b),G=h*sg(b);if(v<cg){var H=lg<M?[(r=O)+(f=((l=F-(o=I))*((i=$)-(a=U))-(c=P-a)*(r-o))/(c*(s=R-r)-l*(u=G-i)))*s,i+f*u]:[F,P],z=O-H[0],q=$-H[1],B=I-H[0],j=U-H[1],Y=1/sg((1<(n=(z*B+q*j)/(ug(z*z+q*q)*ug(B*B+j*j)))?0:n<-1?cg:Math.acos(n))/2),V=ug(H[0]*H[0]+H[1]*H[1]);D=ag(A,(h-V)/(Y-1)),L=ag(A,(d-V)/(Y+1))}}lg<C?lg<L?(m=_g(R,G,O,$,d,L,y),_=_g(I,U,F,P,d,L,y),et.moveTo(m.cx+m.x01,m.cy+m.y01),L<A?et.arc(m.cx,m.cy,L,rg(m.y01,m.x01),rg(_.y01,_.x01),!y):(et.arc(m.cx,m.cy,L,rg(m.y01,m.x01),rg(m.y11,m.x11),!y),et.arc(0,0,d,rg(m.cy+m.y11,m.cx+m.x11),rg(_.cy+_.y11,_.cx+_.x11),!y),et.arc(_.cx,_.cy,L,rg(_.y11,_.x11),rg(_.y01,_.x01),!y))):(et.moveTo(O,$),et.arc(0,0,d,x,E,!y)):et.moveTo(O,$),lg<h&&lg<M?lg<D?(m=_g(F,P,I,U,h,-D,y),_=_g(O,$,R,G,h,-D,y),et.lineTo(m.cx+m.x01,m.cy+m.y01),D<A?et.arc(m.cx,m.cy,D,rg(m.y01,m.x01),rg(_.y01,_.x01),!y):(et.arc(m.cx,m.cy,D,rg(m.y01,m.x01),rg(m.y11,m.x11),!y),et.arc(0,0,h,rg(m.cy+m.y11,m.cx+m.x11),rg(_.cy+_.y11,_.cx+_.x11),y),et.arc(_.cx,_.cy,D,rg(_.y11,_.x11),rg(_.y01,_.x01),!y))):et.arc(0,0,h,w,b,y):et.lineTo(F,P)}else et.moveTo(0,0);if(et.closePath(),t)return et=null,t+""||null}return e.centroid=function(){var t=(+W.apply(this,arguments)+ +X.apply(this,arguments))/2,e=(+Q.apply(this,arguments)+ +J.apply(this,arguments))/2-cg/2;return[ig(e)*t,sg(e)*t]},e.innerRadius=function(t){return arguments.length?(W="function"==typeof t?t:eg(+t),e):W},e.outerRadius=function(t){return arguments.length?(X="function"==typeof t?t:eg(+t),e):X},e.cornerRadius=function(t){return arguments.length?(K="function"==typeof t?t:eg(+t),e):K},e.padRadius=function(t){return arguments.length?(Z=null==t?null:"function"==typeof t?t:eg(+t),e):Z},e.startAngle=function(t){return arguments.length?(Q="function"==typeof t?t:eg(+t),e):Q},e.endAngle=function(t){return arguments.length?(J="function"==typeof t?t:eg(+t),e):J},e.padAngle=function(t){return arguments.length?(tt="function"==typeof t?t:eg(+t),e):tt},e.context=function(t){return arguments.length?(et=null==t?null:t,e):et},e},G.area=Cg,G.line=Mg,G.pie=function(){var p=Sg,g=Tg,v=null,y=eg(0),m=eg(hg),_=eg(0);function e(n){var t,e,r,i,o,a=n.length,s=0,u=new Array(a),l=new Array(a),c=+y.apply(this,arguments),f=Math.min(hg,Math.max(-hg,m.apply(this,arguments)-c)),h=Math.min(Math.abs(f)/a,_.apply(this,arguments)),d=h*(f<0?-1:1);for(t=0;t<a;++t)0<(o=l[u[t]=t]=+p(n[t],t,n))&&(s+=o);for(null!=g?u.sort(function(t,e){return g(l[t],l[e])}):null!=v&&u.sort(function(t,e){return v(n[t],n[e])}),t=0,r=s?(f-a*d)/s:0;t<a;++t,c=i)e=u[t],i=c+(0<(o=l[e])?o*r:0)+d,l[e]={data:n[e],index:t,value:o,startAngle:c,endAngle:i,padAngle:h};return l}return e.value=function(t){return arguments.length?(p="function"==typeof t?t:eg(+t),e):p},e.sortValues=function(t){return arguments.length?(g=t,v=null,e):g},e.sort=function(t){return arguments.length?(v=t,g=null,e):v},e.startAngle=function(t){return arguments.length?(y="function"==typeof t?t:eg(+t),e):y},e.endAngle=function(t){return arguments.length?(m="function"==typeof t?t:eg(+t),e):m},e.padAngle=function(t){return arguments.length?(_="function"==typeof t?t:eg(+t),e):_},e},G.areaRadial=Og,G.radialArea=Og,G.lineRadial=kg,G.radialLine=kg,G.pointRadial=$g,G.linkHorizontal=function(){return Ug(Rg)},G.linkVertical=function(){return Ug(Gg)},G.linkRadial=function(){var t=Ug(Hg);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},G.symbol=function(){var e=eg(zg),n=eg(64),r=null;function i(){var t;if(r||(r=t=ji()),e.apply(this,arguments).draw(r,+n.apply(this,arguments)),t)return r=null,t+""||null}return i.type=function(t){return arguments.length?(e="function"==typeof t?t:eg(t),i):e},i.size=function(t){return arguments.length?(n="function"==typeof t?t:eg(+t),i):n},i.context=function(t){return arguments.length?(r=null==t?null:t,i):r},i},G.symbols=ov,G.symbolCircle=zg,G.symbolCross=qg,G.symbolDiamond=Yg,G.symbolSquare=Zg,G.symbolStar=Kg,G.symbolTriangle=Jg,G.symbolWye=iv,G.curveBasisClosed=function(t){return new lv(t)},G.curveBasisOpen=function(t){return new cv(t)},G.curveBasis=function(t){return new uv(t)},G.curveBundle=hv,G.curveCardinalClosed=yv,G.curveCardinalOpen=_v,G.curveCardinal=gv,G.curveCatmullRomClosed=Mv,G.curveCatmullRomOpen=Tv,G.curveCatmullRom=bv,G.curveLinearClosed=function(t){return new Sv(t)},G.curveLinear=Eg,G.curveMonotoneX=function(t){return new kv(t)},G.curveMonotoneY=function(t){return new Ov(t)},G.curveNatural=function(t){return new Fv(t)},G.curveStep=function(t){return new Iv(t,.5)},G.curveStepAfter=function(t){return new Iv(t,1)},G.curveStepBefore=function(t){return new Iv(t,0)},G.stack=function(){var f=eg([]),h=Rv,d=Uv,p=Gv;function e(t){var e,n,r=f.apply(this,arguments),i=t.length,o=r.length,a=new Array(o);for(e=0;e<o;++e){for(var s,u=r[e],l=a[e]=new Array(i),c=0;c<i;++c)l[c]=s=[0,+p(t[c],u,c,t)],s.data=t[c];l.key=u}for(e=0,n=h(a);e<o;++e)a[n[e]].index=e;return d(a,n),a}return e.keys=function(t){return arguments.length?(f="function"==typeof t?t:eg(Fg.call(t)),e):f},e.value=function(t){return arguments.length?(p="function"==typeof t?t:eg(+t),e):p},e.order=function(t){return arguments.length?(h=null==t?Rv:"function"==typeof t?t:eg(Fg.call(t)),e):h},e.offset=function(t){return arguments.length?(d=null==t?Uv:t,e):d},e},G.stackOffsetExpand=function(t,e){if(0<(r=t.length)){for(var n,r,i,o=0,a=t[0].length;o<a;++o){for(i=n=0;n<r;++n)i+=t[n][o][1]||0;if(i)for(n=0;n<r;++n)t[n][o][1]/=i}Uv(t,e)}},G.stackOffsetDiverging=function(t,e){if(1<(s=t.length))for(var n,r,i,o,a,s,u=0,l=t[e[0]].length;u<l;++u)for(o=a=0,n=0;n<s;++n)0<=(i=(r=t[e[n]][u])[1]-r[0])?(r[0]=o,r[1]=o+=i):i<0?(r[1]=a,r[0]=a+=i):r[0]=o},G.stackOffsetNone=Uv,G.stackOffsetSilhouette=function(t,e){if(0<(n=t.length)){for(var n,r=0,i=t[e[0]],o=i.length;r<o;++r){for(var a=0,s=0;a<n;++a)s+=t[a][r][1]||0;i[r][1]+=i[r][0]=-s/2}Uv(t,e)}},G.stackOffsetWiggle=function(t,e){if(0<(i=t.length)&&0<(r=(n=t[e[0]]).length)){for(var n,r,i,o=0,a=1;a<r;++a){for(var s=0,u=0,l=0;s<i;++s){for(var c=t[e[s]],f=c[a][1]||0,h=(f-(c[a-1][1]||0))/2,d=0;d<s;++d){var p=t[e[d]];h+=(p[a][1]||0)-(p[a-1][1]||0)}u+=f,l+=h*f}n[a-1][1]+=n[a-1][0]=o,u&&(o-=l/u)}n[a-1][1]+=n[a-1][0]=o,Uv(t,e)}},G.stackOrderAscending=Hv,G.stackOrderDescending=function(t){return Hv(t).reverse()},G.stackOrderInsideOut=function(t){var e,n,r=t.length,i=t.map(zv),o=Rv(t).sort(function(t,e){return i[e]-i[t]}),a=0,s=0,u=[],l=[];for(e=0;e<r;++e)n=o[e],a<s?(a+=i[n],u.push(n)):(s+=i[n],l.push(n));return l.reverse().concat(u)},G.stackOrderNone=Rv,G.stackOrderReverse=function(t){return Rv(t).reverse()},G.timeInterval=lh,G.timeMillisecond=ch,G.timeMilliseconds=fh,G.utcMillisecond=ch,G.utcMilliseconds=fh,G.timeSecond=ph,G.timeSeconds=gh,G.utcSecond=ph,G.utcSeconds=gh,G.timeMinute=vh,G.timeMinutes=yh,G.timeHour=mh,G.timeHours=_h,G.timeDay=xh,G.timeDays=Eh,G.timeWeek=wh,G.timeWeeks=Lh,G.timeSunday=wh,G.timeSundays=Lh,G.timeMonday=Mh,G.timeMondays=Nh,G.timeTuesday=Ch,G.timeTuesdays=kh,G.timeWednesday=Th,G.timeWednesdays=Oh,G.timeThursday=Sh,G.timeThursdays=$h,G.timeFriday=Ah,G.timeFridays=Fh,G.timeSaturday=Dh,G.timeSaturdays=Ph,G.timeMonth=Ih,G.timeMonths=Uh,G.timeYear=Rh,G.timeYears=Gh,G.utcMinute=Hh,G.utcMinutes=zh,G.utcHour=qh,G.utcHours=Bh,G.utcDay=jh,G.utcDays=Yh,G.utcWeek=Wh,G.utcWeeks=ed,G.utcSunday=Wh,G.utcSundays=ed,G.utcMonday=Xh,G.utcMondays=nd,G.utcTuesday=Kh,G.utcTuesdays=rd,G.utcWednesday=Zh,G.utcWednesdays=id,G.utcThursday=Qh,G.utcThursdays=od,G.utcFriday=Jh,G.utcFridays=ad,G.utcSaturday=td,G.utcSaturdays=sd,G.utcMonth=ud,G.utcMonths=ld,G.utcYear=cd,G.utcYears=fd,G.timeFormatDefaultLocale=Sp,G.timeFormatLocale=gd,G.isoFormat=Dp,G.isoParse=Lp,G.now=er,G.timer=ir,G.timerFlush=or,G.timeout=lr,G.interval=function(n,r,i){var o=new rr,a=r;return null==r?o.restart(n,r,i):(r=+r,i=null==i?er():+i,o.restart(function t(e){e+=a,o.restart(t,a+=r,i),n(e)},r,i)),o},G.transition=Dr,G.active=function(t,e){var n,r,i=t.__transition;if(i)for(r in e=null==e?null:e+"",i)if((n=i[r]).state>dr&&n.name===e)return new Ar([[t]],li,e,+r);return null},G.interrupt=wr,G.voronoi=function(){var i=Bv,o=jv,e=null;function n(r){return new wy(r.map(function(t,e){var n=[Math.round(i(t,e,r)/xy)*xy,Math.round(o(t,e,r)/xy)*xy];return n.index=e,n.data=t,n}),e)}return n.polygons=function(t){return n(t).polygons()},n.links=function(t){return n(t).links()},n.triangles=function(t){return n(t).triangles()},n.x=function(t){return arguments.length?(i="function"==typeof t?t:qv(+t),n):i},n.y=function(t){return arguments.length?(o="function"==typeof t?t:qv(+t),n):o},n.extent=function(t){return arguments.length?(e=null==t?null:[[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]],n):e&&[[e[0][0],e[0][1]],[e[1][0],e[1][1]]]},n.size=function(t){return arguments.length?(e=null==t?null:[[0,0],[+t[0],+t[1]]],n):e&&[e[1][0]-e[0][0],e[1][1]-e[0][1]]},n},G.zoom=function(){var d,o,s=Ny,c=ky,p=Py,i=$y,e=Fy,a=[0,1/0],g=[[-1/0,-1/0],[1/0,1/0]],u=250,f=$n,l=[],n=H("start","zoom","end"),h=500,v=150,y=0;function m(t){t.property("__zoom",Oy).on("wheel.zoom",r).on("mousedown.zoom",C).on("dblclick.zoom",T).filter(e).on("touchstart.zoom",S).on("touchmove.zoom",A).on("touchend.zoom touchcancel.zoom",D).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function _(t,e){return(e=Math.max(a[0],Math.min(a[1],e)))===t.k?t:new Ty(e,t.x,t.y)}function x(t,e,n){var r=e[0]-n[0]*t.k,i=e[1]-n[1]*t.k;return r===t.x&&i===t.y?t:new Ty(t.k,r,i)}function E(t){return[(+t[0][0]+ +t[1][0])/2,(+t[0][1]+ +t[1][1])/2]}function b(t,u,l){t.on("start.zoom",function(){w(this,arguments).start()}).on("interrupt.zoom end.zoom",function(){w(this,arguments).end()}).tween("zoom",function(){var t=arguments,r=w(this,t),e=c.apply(this,t),i=l||E(e),o=Math.max(e[1][0]-e[0][0],e[1][1]-e[0][1]),n=this.__zoom,a="function"==typeof u?u.apply(this,t):u,s=f(n.invert(i).concat(o/n.k),a.invert(i).concat(o/a.k));return function(t){if(1===t)t=a;else{var e=s(t),n=o/e[2];t=new Ty(n,i[0]-e[0]*n,i[1]-e[1]*n)}r.zoom(null,t)}})}function w(t,e){for(var n,r=0,i=l.length;r<i;++r)if((n=l[r]).that===t)return n;return new M(t,e)}function M(t,e){this.that=t,this.args=e,this.index=-1,this.active=0,this.extent=c.apply(t,e)}function r(){if(s.apply(this,arguments)){var t=w(this,arguments),e=this.__zoom,n=Math.max(a[0],Math.min(a[1],e.k*Math.pow(2,i.apply(this,arguments)))),r=Gt(this);if(t.wheel)t.mouse[0][0]===r[0]&&t.mouse[0][1]===r[1]||(t.mouse[1]=e.invert(t.mouse[0]=r)),clearTimeout(t.wheel);else{if(e.k===n)return;t.mouse=[r,e.invert(r)],wr(this),t.start()}Ly(),t.wheel=setTimeout(function(){t.wheel=null,t.end()},v),t.zoom("mouse",p(x(_(e,n),t.mouse[0],t.mouse[1]),t.extent,g))}}function C(){if(!o&&s.apply(this,arguments)){var n=w(this,arguments),t=$t(G.event.view).on("mousemove.zoom",function(){if(Ly(),!n.moved){var t=G.event.clientX-r,e=G.event.clientY-i;n.moved=y<t*t+e*e}n.zoom("mouse",p(x(n.that.__zoom,n.mouse[0]=Gt(n.that),n.mouse[1]),n.extent,g))},!0).on("mouseup.zoom",function(){t.on("mousemove.zoom mouseup.zoom",null),jt(G.event.view,n.moved),Ly(),n.end()},!0),e=Gt(this),r=G.event.clientX,i=G.event.clientY;Bt(G.event.view),Dy(),n.mouse=[e,this.__zoom.invert(e)],wr(this),n.start()}}function T(){if(s.apply(this,arguments)){var t=this.__zoom,e=Gt(this),n=t.invert(e),r=t.k*(G.event.shiftKey?.5:2),i=p(x(_(t,r),e,n),c.apply(this,arguments),g);Ly(),0<u?$t(this).transition().duration(u).call(b,i,e):$t(this).call(m.transform,i)}}function S(){if(s.apply(this,arguments)){var t,e,n,r,i=w(this,arguments),o=G.event.changedTouches,a=o.length;for(Dy(),e=0;e<a;++e)r=[r=Ht(this,o,(n=o[e]).identifier),this.__zoom.invert(r),n.identifier],i.touch0?i.touch1||(i.touch1=r):(i.touch0=r,t=!0);if(d&&(d=clearTimeout(d),!i.touch1))return i.end(),void((r=$t(this).on("dblclick.zoom"))&&r.apply(this,arguments));t&&(d=setTimeout(function(){d=null},h),wr(this),i.start())}}function A(){var t,e,n,r,i=w(this,arguments),o=G.event.changedTouches,a=o.length;for(Ly(),d&&(d=clearTimeout(d)),t=0;t<a;++t)n=Ht(this,o,(e=o[t]).identifier),i.touch0&&i.touch0[2]===e.identifier?i.touch0[0]=n:i.touch1&&i.touch1[2]===e.identifier&&(i.touch1[0]=n);if(e=i.that.__zoom,i.touch1){var s=i.touch0[0],u=i.touch0[1],l=i.touch1[0],c=i.touch1[1],f=(f=l[0]-s[0])*f+(f=l[1]-s[1])*f,h=(h=c[0]-u[0])*h+(h=c[1]-u[1])*h;e=_(e,Math.sqrt(f/h)),n=[(s[0]+l[0])/2,(s[1]+l[1])/2],r=[(u[0]+c[0])/2,(u[1]+c[1])/2]}else{if(!i.touch0)return;n=i.touch0[0],r=i.touch0[1]}i.zoom("touch",p(x(e,n,r),i.extent,g))}function D(){var t,e,n=w(this,arguments),r=G.event.changedTouches,i=r.length;for(Dy(),o&&clearTimeout(o),o=setTimeout(function(){o=null},h),t=0;t<i;++t)e=r[t],n.touch0&&n.touch0[2]===e.identifier?delete n.touch0:n.touch1&&n.touch1[2]===e.identifier&&delete n.touch1;n.touch1&&!n.touch0&&(n.touch0=n.touch1,delete n.touch1),n.touch0?n.touch0[1]=this.__zoom.invert(n.touch0[0]):n.end()}return m.transform=function(t,e){var n=t.selection?t.selection():t;n.property("__zoom",Oy),t!==n?b(t,e):n.interrupt().each(function(){w(this,arguments).start().zoom(null,"function"==typeof e?e.apply(this,arguments):e).end()})},m.scaleBy=function(t,e){m.scaleTo(t,function(){return this.__zoom.k*("function"==typeof e?e.apply(this,arguments):e)})},m.scaleTo=function(t,o){m.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=E(t),r=e.invert(n),i="function"==typeof o?o.apply(this,arguments):o;return p(x(_(e,i),n,r),t,g)})},m.translateBy=function(t,e,n){m.transform(t,function(){return p(this.__zoom.translate("function"==typeof e?e.apply(this,arguments):e,"function"==typeof n?n.apply(this,arguments):n),c.apply(this,arguments),g)})},m.translateTo=function(t,r,i){m.transform(t,function(){var t=c.apply(this,arguments),e=this.__zoom,n=E(t);return p(Sy.translate(n[0],n[1]).scale(e.k).translate("function"==typeof r?-r.apply(this,arguments):-r,"function"==typeof i?-i.apply(this,arguments):-i),t,g)})},M.prototype={start:function(){return 1==++this.active&&(this.index=l.push(this)-1,this.emit("start")),this},zoom:function(t,e){return this.mouse&&"mouse"!==t&&(this.mouse[1]=e.invert(this.mouse[0])),this.touch0&&"touch"!==t&&(this.touch0[1]=e.invert(this.touch0[0])),this.touch1&&"touch"!==t&&(this.touch1[1]=e.invert(this.touch1[0])),this.that.__zoom=e,this.emit("zoom"),this},end:function(){return 0==--this.active&&(l.splice(this.index,1),this.index=-1,this.emit("end")),this},emit:function(t){Dt(new Cy(m,t,this.that.__zoom),n.apply,n,[t,this.that,this.args])}},m.wheelDelta=function(t){return arguments.length?(i="function"==typeof t?t:My(+t),m):i},m.filter=function(t){return arguments.length?(s="function"==typeof t?t:My(!!t),m):s},m.touchable=function(t){return arguments.length?(e="function"==typeof t?t:My(!!t),m):e},m.extent=function(t){return arguments.length?(c="function"==typeof t?t:My([[+t[0][0],+t[0][1]],[+t[1][0],+t[1][1]]]),m):c},m.scaleExtent=function(t){return arguments.length?(a[0]=+t[0],a[1]=+t[1],m):[a[0],a[1]]},m.translateExtent=function(t){return arguments.length?(g[0][0]=+t[0][0],g[1][0]=+t[1][0],g[0][1]=+t[0][1],g[1][1]=+t[1][1],m):[[g[0][0],g[0][1]],[g[1][0],g[1][1]]]},m.constrain=function(t){return arguments.length?(p=t,m):p},m.duration=function(t){return arguments.length?(u=+t,m):u},m.interpolate=function(t){return arguments.length?(f=t,m):f},m.on=function(){var t=n.on.apply(n,arguments);return t===n?m:t},m.clickDistance=function(t){return arguments.length?(y=(t=+t)*t,m):Math.sqrt(y)},m},G.zoomTransform=Ay,G.zoomIdentity=Sy,Object.defineProperty(G,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.topojson=t.topojson||{})}(this,function(t){"use strict";function x(t,e,n){for(var r,i=e+(n---e>>1);e<i;++e,--n)r=t[e],t[e]=t[n],t[n]=r}function e(t){var e=t.geometry;return null==e?t.type=null:(h(e),t.type=e.type,e.geometries?t.geometries=e.geometries:e.coordinates&&(t.coordinates=e.coordinates),e.bbox&&(t.bbox=e.bbox)),delete t.geometry,t}function h(t){return t?(w.hasOwnProperty(t.type)&&w[t.type](t),t):{type:null}}function d(t){var e,n=t[0],r=t[1];return r<n&&(e=n,n=r,r=e),n+31*r}function p(t,e){var n,r=t[0],i=t[1],o=e[0],a=e[1];return i<r&&(n=r,r=i,i=n),a<o&&(n=o,o=a,a=n),r===o&&i===a}function a(){return!0}function s(t){return t}function u(t){return null!=t.type}function n(t,e){var n=e.id,r=e.bbox,i=null==e.properties?{}:e.properties,o=c(t,e);return null==n&&null==r?{type:"Feature",properties:i,geometry:o}:null==r?{type:"Feature",id:n,properties:i,geometry:o}:{type:"Feature",id:n,bbox:r,properties:i,geometry:o}}function c(t,e){function i(t,e){e.length&&e.pop();for(var n=l[t<0?~t:t],r=0,i=n.length;r<i;++r)e.push(u(n[r].slice(),r));t<0&&L(e,i)}function o(t){return u(t.slice())}function a(t){for(var e=[],n=0,r=t.length;n<r;++n)i(t[n],e);return e.length<2&&e.push(e[0].slice()),e}function n(t){for(var e=a(t);e.length<4;)e.push(e[0].slice());return e}function s(t){return t.map(n)}var u=A(t),l=t.arcs;return function t(e){var n,r=e.type;switch(r){case"GeometryCollection":return{type:r,geometries:e.geometries.map(t)};case"Point":n=o(e.coordinates);break;case"MultiPoint":n=e.coordinates.map(o);break;case"LineString":n=a(e.arcs);break;case"MultiLineString":n=e.arcs.map(a);break;case"Polygon":n=s(e.arcs);break;case"MultiPolygon":n=e.arcs.map(s);break;default:return null}return{type:r,coordinates:n}}(e)}function r(t,e,n){var r,i,o;if(1<arguments.length)r=function(t,e,n){function r(t){var e=t<0?~t:t;(u[e]||(u[e]=[])).push({i:t,g:a})}function i(t){t.forEach(r)}function o(t){t.forEach(i)}var a,s=[],u=[];return function t(e){switch(a=e,e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"LineString":i(e.arcs);break;case"MultiLineString":case"Polygon":o(e.arcs);break;case"MultiPolygon":e.arcs.forEach(o)}}(e),u.forEach(null==n?function(t){s.push(t[0].i)}:function(t){n(t[0].g,t[t.length-1].g)&&s.push(t[0].i)}),s}(0,e,n);else for(i=0,r=new Array(o=t.arcs.length);i<o;++i)r[i]=i;return{type:"MultiLineString",arcs:k(t,r)}}function i(s,t){function n(e){e.forEach(function(t){t.forEach(function(t){(l[t=t<0?~t:t]||(l[t]=[])).push(e)})}),r.push(e)}function u(t){return function(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)}(c(s,{type:"Polygon",arcs:[t]}).coordinates[0])}var l={},r=[],i=[];return t.forEach(function t(e){switch(e.type){case"GeometryCollection":e.geometries.forEach(t);break;case"Polygon":n(e.arcs);break;case"MultiPolygon":e.arcs.forEach(n)}}),r.forEach(function(t){if(!t._){var e=[],n=[t];for(t._=1,i.push(e);t=n.pop();)e.push(t),t.forEach(function(t){t.forEach(function(t){l[t<0?~t:t].forEach(function(t){t._||(t._=1,n.push(t))})})})}}),r.forEach(function(t){delete t._}),{type:"MultiPolygon",arcs:i.map(function(t){var e,n=[];if(t.forEach(function(t){t.forEach(function(t){t.forEach(function(t){l[t<0?~t:t].length<2&&n.push(t)})})}),1<(e=(n=k(s,n)).length))for(var r,i,o=1,a=u(n[0]);o<e;++o)(r=u(n[o]))>a&&(i=n[0],n[0]=n[o],n[o]=i,a=r);return n})}}function o(t){var e=t[0],n=t[1],r=t[2];return Math.abs((e[0]-r[0])*(n[1]-e[1])-(e[0]-n[0])*(r[1]-e[1]))}function l(t){for(var e,n=-1,r=t.length,i=t[r-1],o=0;++n<r;)e=i,i=t[n],o+=e[0]*i[1]-e[1]*i[0];return Math.abs(o)/2}function g(t,e){return t[1][2]-e[1][2]}function f(t,e){return e-t}function y(t,e,n,r,i,o){var a=R(r-t),s=z(a),u=o*B(a),l=n*i-e*o*s,c=e*i+n*o*s;return H(j(u*u+l*l),c)}var C=function(o,a,s,t,u,e){3===arguments.length&&(t=e=Array,u=null);for(var l=new t(o=1<<Math.max(4,Math.ceil(Math.log(o)/Math.LN2))),c=new e(o),f=o-1,n=0;n<o;++n)l[n]=u;return{set:function(t,e){for(var n=a(t)&f,r=l[n],i=0;r!=u;){if(s(r,t))return c[n]=e;if(++i>=o)throw new Error("full hashmap");r=l[n=n+1&f]}return l[n]=t,c[n]=e},maybeSet:function(t,e){for(var n=a(t)&f,r=l[n],i=0;r!=u;){if(s(r,t))return c[n];if(++i>=o)throw new Error("full hashmap");r=l[n=n+1&f]}return l[n]=t,c[n]=e},get:function(t,e){for(var n=a(t)&f,r=l[n],i=0;r!=u;){if(s(r,t))return c[n];if(++i>=o)break;r=l[n=n+1&f]}return e},keys:function(){for(var t=[],e=0,n=l.length;e<n;++e){var r=l[e];r!=u&&t.push(r)}return t}}},T=function(t,e){return t[0]===e[0]&&t[1]===e[1]},v=new ArrayBuffer(16),m=new Float64Array(v),_=new Uint32Array(v),S=function(t){m[0]=t[0],m[1]=t[1];var e=_[0]^_[1];return 2147483647&(e=e<<5^e>>7^_[2]^_[3])},E=function(t){function e(t,e,n,r){if(h[n]!==t){h[n]=t;var i=d[n];if(0<=i){var o=p[n];i===e&&o===r||i===r&&o===e||(++v,g[n]=1)}else d[n]=e,p[n]=r}}function i(t){return S(u[t])}function o(t,e){return T(u[t],u[e])}var n,r,a,s,u=t.coordinates,l=t.lines,c=t.rings,f=function(){for(var t=C(1.4*u.length,i,o,Int32Array,-1,Int32Array),e=new Int32Array(u.length),n=0,r=u.length;n<r;++n)e[n]=t.maybeSet(n,n);return e}(),h=new Int32Array(u.length),d=new Int32Array(u.length),p=new Int32Array(u.length),g=new Int8Array(u.length),v=0;for(n=0,r=u.length;n<r;++n)h[n]=d[n]=p[n]=-1;for(n=0,r=l.length;n<r;++n){var y=l[n],m=y[0],_=y[1];for(a=f[m],s=f[++m],++v,g[a]=1;++m<=_;)e(n,a,a=s,s=f[m]);++v,g[s]=1}for(n=0,r=u.length;n<r;++n)h[n]=-1;for(n=0,r=c.length;n<r;++n){var x=c[n],E=x[0]+1,b=x[1];for(e(n,f[b-1],a=f[E-1],s=f[E]);++E<=b;)e(n,a,a=s,s=f[E])}h=d=p=null;var w,M=function(i,o,a,t,s){3===arguments.length&&(t=Array,s=null);for(var u=new t(i=1<<Math.max(4,Math.ceil(Math.log(i)/Math.LN2))),l=i-1,e=0;e<i;++e)u[e]=s;return{add:function(t){for(var e=o(t)&l,n=u[e],r=0;n!=s;){if(a(n,t))return!0;if(++r>=i)throw new Error("full hashset");n=u[e=e+1&l]}return u[e]=t,!0},has:function(t){for(var e=o(t)&l,n=u[e],r=0;n!=s;){if(a(n,t))return!0;if(++r>=i)break;n=u[e=e+1&l]}return!1},values:function(){for(var t=[],e=0,n=u.length;e<n;++e){var r=u[e];r!=s&&t.push(r)}return t}}}(1.4*v,S,T);for(n=0,r=u.length;n<r;++n)g[w=f[n]]&&M.add(u[w]);return M},b={Feature:e,FeatureCollection:function(t){return t.type="GeometryCollection",t.geometries=t.features,t.features.forEach(e),delete t.features,t}},w={GeometryCollection:function(t){for(var e=t.geometries,n=-1,r=e.length;++n<r;)e[n]=h(e[n])},MultiPoint:function(t){t.coordinates.length?t.coordinates.length<2&&(t.type="Point",t.coordinates=t.coordinates[0]):(t.type=null,delete t.coordinates)},LineString:function(t){t.coordinates.length||(t.type=null,delete t.coordinates)},MultiLineString:function(t){for(var e=t.coordinates,n=0,r=0,i=e.length;n<i;++n){var o=e[n];o.length&&(e[r++]=o)}r?r<2?(t.type="LineString",t.coordinates=e[0]):t.coordinates.length=r:(t.type=null,delete t.coordinates)},Polygon:function(t){for(var e=t.coordinates,n=0,r=0,i=e.length;n<i;++n){var o=e[n];o.length&&(e[r++]=o)}r?t.coordinates.length=r:(t.type=null,delete t.coordinates)},MultiPolygon:function(t){for(var e=t.coordinates,n=0,r=0,i=e.length;n<i;++n){for(var o=e[n],a=0,s=0,u=o.length;a<u;++a){var l=o[a];l.length&&(o[s++]=l)}s&&(o.length=s,e[r++]=o)}r?r<2?(t.type="Polygon",t.coordinates=e[0]):e.length=r:(t.type=null,delete t.coordinates)}},M=function(t){return t},A=function(t){if(null==(e=t.transform))return M;var e,n,r,i=e.scale[0],o=e.scale[1],a=e.translate[0],s=e.translate[1];return function(t,e){return e||(n=r=0),t[0]=(n+=t[0])*i+a,t[1]=(r+=t[1])*o+s,t}},D=function(t){function e(t){s[0]=t[0],s[1]=t[1],a(s),s[0]<u&&(u=s[0]),s[0]>c&&(c=s[0]),s[1]<l&&(l=s[1]),s[1]>f&&(f=s[1])}function n(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(n);break;case"Point":e(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(e)}}var r=t.bbox;if(!r){var i,o,a=A(t),s=new Array(2),u=1/0,l=u,c=-u,f=-u;for(o in t.arcs.forEach(function(t){for(var e=-1,n=t.length;++e<n;)i=t[e],s[0]=i[0],s[1]=i[1],a(s,e),s[0]<u&&(u=s[0]),s[0]>c&&(c=s[0]),s[1]<l&&(l=s[1]),s[1]>f&&(f=s[1])}),t.objects)n(t.objects[o]);r=t.bbox=[u,l,c,f]}return r},L=function(t,e){for(var n,r=t.length,i=r-e;i<--r;)n=t[i],t[i++]=t[r],t[r]=n},N=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return n(e,t)})}:n(e,t)},k=function(h,i){function t(t,e){for(var n in t){var r=t[n];delete e[r.start],delete r.start,delete r.end,r.forEach(function(t){o[t<0?~t:t]=1}),a.push(r)}}var o={},d={},p={},a=[],s=-1;return i.forEach(function(t,e){var n,r=h.arcs[t<0?~t:t];r.length<3&&!r[1][0]&&!r[1][1]&&(n=i[++s],i[s]=t,i[e]=n)}),i.forEach(function(t){var e,n,r,i,o,a,s=(r=t,o=h.arcs[r<0?~r:r],a=o[0],h.transform?(i=[0,0],o.forEach(function(t){i[0]+=t[0],i[1]+=t[1]})):i=o[o.length-1],r<0?[i,a]:[a,i]),u=s[0],l=s[1];if(e=p[u])if(delete p[e.end],e.push(t),e.end=l,n=d[l]){delete d[n.start];var c=n===e?e:e.concat(n);d[c.start=e.start]=p[c.end=n.end]=c}else d[e.start]=p[e.end]=e;else if(e=d[l])if(delete d[e.start],e.unshift(t),e.start=u,n=p[u]){delete p[n.end];var f=n===e?e:n.concat(e);d[f.start=n.start]=p[f.end=e.end]=f}else d[e.start]=p[e.end]=e;else d[(e=[t]).start=u]=p[e.end=l]=e}),t(p,d),t(d,p),i.forEach(function(t){o[t<0?~t:t]||a.push([t])}),a},O=function(t,e){for(var n=0,r=t.length;n<r;){var i=n+r>>>1;t[i]<e?n=i+1:r=i}return n},$=function(t){if(null==(e=t.transform))return M;var e,i,o,a=e.scale[0],s=e.scale[1],u=e.translate[0],l=e.translate[1];return function(t,e){e||(i=o=0);var n=Math.round((t[0]-u)/a),r=Math.round((t[1]-l)/s);return t[0]=n-i,i=n,t[1]=r-o,o=r,t}},F=Math.PI,P=2*F,I=4*F,U=F/180,R=Math.abs,G=Math.atan,H=Math.atan2,z=Math.cos,q=Math.max,B=Math.sin,j=Math.sqrt,Y=Math.tan;t.topology=function(t,e){function n(t){t&&c.hasOwnProperty(t.type)&&c[t.type](t)}function r(t){var e=[];do{var n=l.get(t);e.push(t[0]<t[1]?n:~n)}while(t=t.next);return e}function i(t){return t.map(r)}var o=function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){var e=t[0],n=t[1];e<o&&(o=e),s<e&&(s=e),n<a&&(a=n),u<n&&(u=n)}function r(t){t.forEach(n)}function i(t){t.forEach(r)}var o=1/0,a=1/0,s=-1/0,u=-1/0,l={GeometryCollection:function(t){t.geometries.forEach(e)},Point:function(t){n(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(n)},LineString:function(t){r(t.coordinates)},MultiLineString:function(t){t.coordinates.forEach(r)},Polygon:function(t){t.coordinates.forEach(r)},MultiPolygon:function(t){t.coordinates.forEach(i)}};for(var c in t)e(t[c]);return o<=s&&a<=u?[o,a,s,u]:void 0}(function(t){var e,n;for(e in t)t[e]=((n=t[e])&&b.hasOwnProperty(n.type)?b[n.type]:h)(n);return t}(t)),a=0<e&&o&&function(t,e,n){function c(t){return t[0]=Math.round((t[0]-i)*l),t[1]=Math.round((t[1]-o)*f),t}function u(t){for(var e,n,r,i=0,o=1,a=t.length,s=c(t[0]),u=s[0],l=s[1];++i<a;)n=(s=c(t[i]))[0],r=s[1],n===u&&r===l||((e=t[o++])[0]=u=n,e[1]=l=r);t.length=o}function r(t){t&&h.hasOwnProperty(t.type)&&h[t.type](t)}var i=e[0],o=e[1],a=e[2],s=e[3],l=a-i?(n-1)/(a-i):1,f=s-o?(n-1)/(s-o):1,h={GeometryCollection:function(t){t.geometries.forEach(r)},Point:function(t){c(t.coordinates)},MultiPoint:function(t){t.coordinates.forEach(c)},LineString:function(t){var e=t.coordinates;u(e),e.length<2&&(e[1]=e[0])},MultiLineString:function(t){for(var e=t.coordinates,n=0,r=e.length;n<r;++n){var i=e[n];u(i),i.length<2&&(i[1]=i[0])}},Polygon:function(t){for(var e=t.coordinates,n=0,r=e.length;n<r;++n){var i=e[n];for(u(i);i.length<4;)i.push(i[0])}},MultiPolygon:function(t){for(var e=t.coordinates,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length;o<a;++o){var s=i[o];for(u(s);s.length<4;)s.push(s[0])}}};for(var d in t)r(t[d]);return{scale:[1/l,1/f],translate:[i,o]}}(t,o,e),s=function(t){function e(t){var e,n,r,i,o,a,s,u;if(r=v.get(e=h[t[0]]))for(s=0,u=r.length;s<u;++s)if(l(i=r[s],t))return t[0]=i[0],void(t[1]=i[1]);if(o=v.get(n=h[t[1]]))for(s=0,u=o.length;s<u;++s)if(c(a=o[s],t))return t[1]=a[0],void(t[0]=a[1]);r?r.push(t):v.set(e,[t]),o?o.push(t):v.set(n,[t]),y.push(t)}function n(t){var e,n,r,i,o;if(n=v.get(h[t[0]]))for(i=0,o=n.length;i<o;++i){if(a(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(s(r,t))return t[0]=r[1],void(t[1]=r[0])}if(n=v.get(e=h[t[0]+f(t)]))for(i=0,o=n.length;i<o;++i){if(a(r=n[i],t))return t[0]=r[0],void(t[1]=r[1]);if(s(r,t))return t[0]=r[1],void(t[1]=r[0])}n?n.push(t):v.set(e,[t]),y.push(t)}function l(t,e){var n=t[0],r=e[0],i=t[1];if(n-i!=r-e[1])return!1;for(;n<=i;++n,++r)if(!T(h[n],h[r]))return!1;return!0}function c(t,e){var n=t[0],r=e[0],i=t[1],o=e[1];if(n-i!=r-o)return!1;for(;n<=i;++n,--o)if(!T(h[n],h[o]))return!1;return!0}function a(t,e){var n=t[0],r=e[0],i=t[1]-n;if(i!==e[1]-r)return!1;for(var o=f(t),a=f(e),s=0;s<i;++s)if(!T(h[n+(s+o)%i],h[r+(s+a)%i]))return!1;return!0}function s(t,e){var n=t[0],r=e[0],i=t[1],o=e[1],a=i-n;if(a!==o-r)return!1;for(var s=f(t),u=a-f(e),l=0;l<a;++l)if(!T(h[n+(l+s)%a],h[o-(l+u)%a]))return!1;return!0}function f(t){for(var e=t[0],n=t[1],r=e,i=r,o=h[r];++r<n;){var a=h[r];(a[0]<o[0]||a[0]===o[0]&&a[1]<o[1])&&(i=r,o=a)}return i-e}var r,i,o,u,h=t.coordinates,d=t.lines,p=t.rings,g=d.length+p.length;for(delete t.lines,delete t.rings,o=0,u=d.length;o<u;++o)for(r=d[o];r=r.next;)++g;for(o=0,u=p.length;o<u;++o)for(i=p[o];i=i.next;)++g;var v=C(2*g*1.4,S,T),y=t.arcs=[];for(o=0,u=d.length;o<u;++o)for(r=d[o];e(r),r=r.next;);for(o=0,u=p.length;o<u;++o)if((i=p[o]).next)for(;e(i),i=i.next;);else n(i);return t}(function(t){var e,n,r,i,o,a,s,u=E(t),l=t.coordinates,c=t.lines,f=t.rings;for(n=0,r=c.length;n<r;++n)for(var h=c[n],d=h[0],p=h[1];++d<p;)u.has(l[d])&&(e={0:d,1:h[1]},h[1]=d,h=h.next=e);for(n=0,r=f.length;n<r;++n)for(var g=f[n],v=g[0],y=v,m=g[1],_=u.has(l[v]);++y<m;)u.has(l[y])&&(_?(e={0:y,1:g[1]},g[1]=y,g=g.next=e):(s=(a=m)-y,x(i=l,o=v,a),x(i,o,o+s),x(i,o+s,a),l[m]=l[v],_=!0,y=v));return t}(function(t){function e(t){t&&l.hasOwnProperty(t.type)&&l[t.type](t)}function n(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return a.push(r),r}function r(t){for(var e=0,n=t.length;e<n;++e)u[++o]=t[e];var r={0:o-n+1,1:o};return s.push(r),r}function i(t){return t.map(r)}var o=-1,a=[],s=[],u=[],l={GeometryCollection:function(t){t.geometries.forEach(e)},LineString:function(t){t.arcs=n(t.coordinates),delete t.coordinates},MultiLineString:function(t){t.arcs=t.coordinates.map(n),delete t.coordinates},Polygon:function(t){t.arcs=t.coordinates.map(r),delete t.coordinates},MultiPolygon:function(t){t.arcs=t.coordinates.map(i),delete t.coordinates}};for(var c in t)e(t[c]);return{type:"Topology",coordinates:u,lines:a,rings:s,objects:t}}(t))),u=s.coordinates,l=C(1.4*s.arcs.length,d,p);t=s.objects,s.bbox=o,s.arcs=s.arcs.map(function(t,e){return l.set(t,e),u.slice(t[0],t[1]+1)}),delete s.coordinates,u=null;var c={GeometryCollection:function(t){t.geometries.forEach(n)},LineString:function(t){t.arcs=r(t.arcs)},MultiLineString:function(t){t.arcs=t.arcs.map(r)},Polygon:function(t){t.arcs=t.arcs.map(r)},MultiPolygon:function(t){t.arcs=t.arcs.map(i)}};for(var f in t)n(t[f]);return a&&(s.transform=a,function(t){for(var e=t.arcs,n=-1,r=e.length;++n<r;)for(var i,o,a=e[n],s=0,u=a.length,l=a[0],c=l[0],f=l[1];++s<u;)i=(l=a[s])[0],o=l[1],a[s]=[i-c,o-f],c=i,f=o}(s)),s},t.filter=function(t,n){function e(t){switch(t.type){case"Polygon":t.arcs=r(t.arcs),t.arcs||(t.type=null,delete t.arcs);break;case"MultiPolygon":t.arcs=t.arcs.map(r).filter(s),t.arcs.length||(t.type=null,delete t.arcs);break;case"GeometryCollection":t.geometries.forEach(e),t.geometries=t.geometries.filter(u),t.geometries.length||(t.type=null,delete t.geometries)}}function r(t){return t.length&&(e=t[0],n(e,!1))?[t.shift()].concat(t.filter(i)):null;var e}function i(t){return n(t,!0)}var o;for(o in null==n&&(n=a),t.objects)e(t.objects[o]);return function(t){function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"LineString":n(t.arcs);break;case"MultiLineString":case"Polygon":t.arcs.forEach(n);break;case"MultiPolygon":t.arcs.forEach(r)}}function n(t){for(var e=0,n=t.length;e<n;++e){var r,i=t[e],o=i<0&&(i=~i,!0);null==(r=l[i])&&(l[i]=r=++u,s[r]=a[i]),t[e]=o?~r:r}}function r(t){t.forEach(n)}var i,a=t.arcs,s=t.arcs=[],u=-1,l=new Array(a.length);for(i in t.objects)e(t.objects[i]);return t}(t)},t.filterAttached=function(t){function e(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(e);break;case"Polygon":n(t.arcs);break;case"MultiPolygon":t.arcs.forEach(n)}}function n(t){for(var e=0,n=t.length;e<n;++e,++l)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];a<0&&(a=~a);var s=u[a];u[a]=0<=s&&s!==l?-1:l}}var r,u={},l=0;for(r in t.objects)e(t.objects[r]);return function(t){for(var e,n=0,r=t.length;n<r;++n)if(e=t[n],u[e<0?~e:e]<0)return!0;return!1}},t.filterWeight=function(n,r,i){return r=null==r?Number.MIN_VALUE:+r,null==i&&(i=l),function(t,e){return i(N(n,{type:"Polygon",arcs:[t]}).geometry.coordinates[0],e)>=r}},t.planarRingArea=l,t.planarTriangleArea=o,t.presimplify=function(t,u){function l(t){h.remove(t),t[1][2]=u(t),h.push(t)}var c=A(t),f=$(t),h=function(){function r(t,e){for(;0<e;){var n=(e+1>>1)-1,r=a[n];if(0<=g(t,r))break;a[r._=e]=r,a[t._=e=n]=t}}function i(t,e){for(;;){var n=e+1<<1,r=n-1,i=e,o=a[i];if(r<s&&g(a[r],o)<0&&(o=a[i=r]),n<s&&g(a[n],o)<0&&(o=a[i=n]),i===e)break;a[o._=e]=o,a[t._=e=i]=t}}var t={},a=[],s=0;return t.push=function(t){return r(a[t._=s]=t,s++),s},t.pop=function(){if(!(s<=0)){var t,e=a[0];return 0<--s&&(t=a[s],i(a[t._=0]=t,0)),e}},t.remove=function(t){var e,n=t._;if(a[n]===t)return n!==--s&&(g(e=a[s],t)<0?r:i)(a[e._=n]=e,n),n},t}();return null==u&&(u=o),t.arcs.forEach(function(t){var e,n,r,i=[],o=0;for(t.forEach(c),n=1,r=t.length-1;n<r;++n)(e=t.slice(n-1,n+2))[1][2]=u(e),i.push(e),h.push(e);for(t[0][2]=t[r][2]=1/0,n=0,r=i.length;n<r;++n)(e=i[n]).previous=i[n-1],e.next=i[n+1];for(;e=h.pop();){var a=e.previous,s=e.next;e[1][2]<o?e[1][2]=o:o=e[1][2],a&&(a.next=s,a[2]=e[2],l(a)),s&&(s.previous=a,s[0]=e[0],l(s))}t.forEach(f)}),t},t.quantile=function(t,e){var n=[];return t.arcs.forEach(function(t){t.forEach(function(t){isFinite(t[2])&&n.push(t[2])})}),n.length&&function(t,e){if(n=t.length){if((e=+e)<=0||n<2)return t[0];if(1<=e)return t[n-1];var n,r=(n-1)*e,i=Math.floor(r),o=t[i];return o+(t[i+1]-o)*(r-i)}}(n.sort(f),e)},t.simplify=function(t,u){return u=null==u?Number.MIN_VALUE:+u,t.arcs.forEach(t.transform?function(t){for(var e,n,r=0,i=0,o=-1,a=-1,s=t.length;++o<s;)(e=t[o])[2]>=u?((n=t[++a])[0]=e[0]+r,n[1]=e[1]+i,r=i=0):(r+=e[0],i+=e[1]);t.length=++a}:function(t){for(var e,n=-1,r=-1,i=t.length;++n<i;)(e=t[n])[2]>=u&&(t[++r]=e);t.length=++r}),t.arcs.forEach(t.transform?function(t){var e=0,n=0,r=t.length,i=t[0];for(i.length=2;++e<r;)(i=t[e]).length=2,(i[0]||i[1])&&(t[++n]=i);t.length=(n||1)+1}:function(t){var e,n,r=0,i=0,o=t.length,a=t[0],s=a[0],u=a[1];for(a.length=2;++r<o;)e=(a=t[r])[0],n=a[1],a.length=2,s===e&&u===n||(t[++i]=a,s=e,u=n);t.length=(i||1)+1}),t},t.sphericalRingArea=function(t,e){if(!t.length)return 0;var n,r,i,o,a,s,u,l=0,c=t[0],f=c[0]*U,h=(c[1]*U+P)/2,d=z(h),p=B(h);for(a=1,s=t.length;a<s;++a)n=f,r=(f=(c=t[a])[0]*U)-n,h=(c[1]*U+P)/2,i=d,d=z(h),o=p,p=B(h),l+=H((u=o*p)*B(r),i*d+u*z(r));return l=2*(F<l?l-P:l<-F?l+P:l),e&&(l*=-1),l<0?l+I:l},t.sphericalTriangleArea=function(t){var e=t[0][0]*U,n=t[0][1]*U,r=z(n),i=B(n),o=t[1][0]*U,a=t[1][1]*U,s=z(a),u=B(a),l=t[2][0]*U,c=t[2][1]*U,f=z(c),h=B(c),d=y(e,r,i,o,s,u),p=y(o,s,u,l,f,h),g=y(l,f,h,e,r,i),v=(d+p+g)/2;return 4*G(j(q(0,Y(v/2)*Y((v-d)/2)*Y((v-p)/2)*Y((v-g)/2))))},t.bbox=D,t.feature=N,t.merge=function(t){return c(t,i.apply(this,arguments))},t.mergeArcs=i,t.mesh=function(t){return c(t,r.apply(this,arguments))},t.meshArcs=r,t.neighbors=function(t){function n(t,n){t.forEach(function(t){t<0&&(t=~t);var e=i[t];e?e.push(n):i[t]=[n]})}function r(t,e){t.forEach(function(t){n(t,e)})}var i={},e=t.map(function(){return[]}),o={LineString:n,MultiLineString:r,Polygon:r,MultiPolygon:function(t,e){t.forEach(function(t){r(t,e)})}};for(var a in t.forEach(function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){e(t,n)}):t.type in o&&o[t.type](t.arcs,n)}),i)for(var s=i[a],u=s.length,l=0;l<u;++l)for(var c=l+1;c<u;++c){var f,h=s[l],d=s[c];(f=e[h])[a=O(f,d)]!==d&&f.splice(a,0,d),(f=e[d])[a=O(f,h)]!==h&&f.splice(a,0,h)}return e},t.quantize=function(t,e){function n(t){t[0]=Math.round((t[0]-c)/f),t[1]=Math.round((t[1]-h)/d)}function r(t){switch(t.type){case"GeometryCollection":t.geometries.forEach(r);break;case"Point":n(t.coordinates);break;case"MultiPoint":t.coordinates.forEach(n)}}if(!(2<=(e=Math.floor(e))))throw new Error("n must be ≥2");if(t.transform)throw new Error("already quantized");var i,o=D(t),c=o[0],f=(o[2]-c)/(e-1)||1,h=o[1],d=(o[3]-h)/(e-1)||1;for(i in t.arcs.forEach(function(t){for(var e,n,r,i=1,o=1,a=t.length,s=t[0],u=s[0]=Math.round((s[0]-c)/f),l=s[1]=Math.round((s[1]-h)/d);i<a;++i)s=t[i],n=Math.round((s[0]-c)/f),r=Math.round((s[1]-h)/d),n===u&&r===l||((e=t[o++])[0]=n-u,u=n,e[1]=r-l,l=r);o<2&&((e=t[o++])[0]=0,e[1]=0),t.length=o}),t.objects)r(t.objects[i]);return t.transform={scale:[f,d],translate:[c,h]},t},t.transform=A,t.untransform=$,Object.defineProperty(t,"__esModule",{value:!0})}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).d3scaleCluster=e()}(this,function(){"use strict";function f(t,e){for(var n=[],r=0;r<t;r++){for(var i=[],o=0;o<e;o++)i.push(0);n.push(i)}return n}function p(t,e,n,r){var i;if(0<t){var o=(n[e]-n[t-1])/(e-t+1);i=r[e]-r[t-1]-(e-t+1)*o*o}else i=r[e]-n[e]*n[e]/(e+1);return i<0?0:i}function g(t,e,n,r,i,o,a){if(!(e<t)){var s=Math.floor((t+e)/2);r[n][s]=r[n-1][s-1],i[n][s]=s;var u=n;n<t&&(u=Math.max(u,i[n][t-1]||0)),u=Math.max(u,i[n-1][s]||0);var l,c,f,h=s-1;e<r.length-1&&(h=Math.min(h,i[n][e+1]||0));for(var d=h;u<=d&&!((l=p(d,s,o,a))+r[n-1][u-1]>=r[n][s]);--d)(c=p(u,s,o,a)+r[n-1][u-1])<r[n][s]&&(r[n][s]=c,i[n][s]=u),u++,(f=l+r[n-1][d-1])<r[n][s]&&(r[n][s]=f,i[n][s]=d);g(t,s-1,n,r,i,o,a),g(s+1,e,n,r,i,o,a)}}var u=function(t,e){if(e>t.length)throw new Error("Cannot generate more classes than there are data values");var n=t.length,r=t.slice().sort(function(t,e){return t-e}),i=function(t){for(var e,n=0,r=0;r<t.length;r++)0!==r&&t[r]===e||(e=t[r],n++);return n}(r);if(1===i)return[r];var o=f(e=Math.min(i,e),n),a=f(e,n);!function(t,e,n){for(var r=e[0].length,i=new Array(r),o=new Array(r),a=t[Math.floor(r/2)],s=0;s<r;++s)0===s?(i[0]=t[0]-a,o[0]=(t[0]-a)*(t[0]-a)):(i[s]=i[s-1]+t[s]-a,o[s]=o[s-1]+(t[s]-a)*(t[s]-a)),e[0][s]=p(0,s,i,o),n[0][s]=0;for(var u=1;u<e.length;++u)g(u<e.length-1?u:r-1,r-1,u,e,n,i,o)}(r,o,a);for(var s=[],u=a[0].length-1,l=a.length-1;0<=l;l--){var c=a[l][u];s[l]=r[c],0<l&&(u=c-1)}return s};function t(){var n=!1,r=[],i=[],o=[],a=function(t){if(n){for(var e=o.length-1;0<=e;e--)if(t>=o[e])return i[e];return i[0]}};function s(){if(!(i.length<=2)){var t=u(r,Math.min(r.length,i.length));n=0!==t.length,o=[];for(var e=0;e<t.length;e++)o.push(t[e])}}return a.domain=function(){return arguments.length?(r=arguments[0],s(),a):r},a.range=function(){if(arguments.length){var t=arguments[0],e=t.length!==i.length;return i=t,e&&s(),a}return i},a.invertExtent=function(t){for(var e=NaN,n=NaN,r=0;r<i.length;r++)if(i[r]===t){e=o[r],n=r+1<i.length?o[r+1]:NaN;break}return[e,n]},a.clusters=function(){return o.slice(1)},a.export=function(){return{isReady:n,domain:r,range:i,breakpoints:o}},a.import=function(t){if(!t)throw new Error("Import requires parameters");return n=t.isReady,r=t.domain,i=t.range,o=t.breakpoints,a},a.copy=function(){return t().domain(r).range(i)},a}return"object"==typeof d3&&(d3.scaleCluster=t),t}),function(n){"function"==typeof define&&define.amd?define(["jquery"],n):"object"==typeof module&&module.exports?module.exports=function(t,e){return void 0===e&&(e="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(e),e}:n(jQuery)}(function(n){var t=function(){if(n&&n.fn&&n.fn.select2&&n.fn.select2.amd)var t=n.fn.select2.amd;var e,i,l;return t&&t.requirejs||(t?i=t:t={},function(d){var o,a,p,g,v={},y={},m={},_={},n=Object.prototype.hasOwnProperty,r=[].slice,x=/\.js$/;function E(t,e){return n.call(t,e)}function s(t,e){var n,r,i,o,a,s,u,l,c,f,h,d=e&&e.split("/"),p=m.map,g=p&&p["*"]||{};if(t){for(a=(t=t.split("/")).length-1,m.nodeIdCompat&&x.test(t[a])&&(t[a]=t[a].replace(x,"")),"."===t[0].charAt(0)&&d&&(t=d.slice(0,d.length-1).concat(t)),c=0;c<t.length;c++)if("."===(h=t[c]))t.splice(c,1),c-=1;else if(".."===h){if(0===c||1===c&&".."===t[2]||".."===t[c-1])continue;0<c&&(t.splice(c-1,2),c-=2)}t=t.join("/")}if((d||g)&&p){for(c=(n=t.split("/")).length;0<c;c-=1){if(r=n.slice(0,c).join("/"),d)for(f=d.length;0<f;f-=1)if((i=p[d.slice(0,f).join("/")])&&(i=i[r])){o=i,s=c;break}if(o)break;!u&&g&&g[r]&&(u=g[r],l=c)}!o&&u&&(o=u,s=l),o&&(n.splice(0,s,o),t=n.join("/"))}return t}function b(e,n){return function(){var t=r.call(arguments,0);return"string"!=typeof t[0]&&1===t.length&&t.push(null),a.apply(d,t.concat([e,n]))}}function w(e){return function(t){v[e]=t}}function M(t){if(E(y,t)){var e=y[t];delete y[t],_[t]=!0,o.apply(d,e)}if(!E(v,t)&&!E(_,t))throw new Error("No "+t);return v[t]}function u(t){var e,n=t?t.indexOf("!"):-1;return-1<n&&(e=t.substring(0,n),t=t.substring(n+1,t.length)),[e,t]}function C(t){return t?u(t):[]}p=function(t,e){var n,r,i=u(t),o=i[0],a=e[1];return t=i[1],o&&(n=M(o=s(o,a))),o?t=n&&n.normalize?n.normalize(t,(r=a,function(t){return s(t,r)})):s(t,a):(o=(i=u(t=s(t,a)))[0],t=i[1],o&&(n=M(o))),{f:o?o+"!"+t:t,n:t,pr:o,p:n}},g={require:function(t){return b(t)},exports:function(t){var e=v[t];return void 0!==e?e:v[t]={}},module:function(t){return{id:t,uri:"",exports:v[t],config:(e=t,function(){return m&&m.config&&m.config[e]||{}})};var e}},o=function(t,e,n,r){var i,o,a,s,u,l,c,f=[],h=typeof n;if(l=C(r=r||t),"undefined"===h||"function"===h){for(e=!e.length&&n.length?["require","exports","module"]:e,u=0;u<e.length;u+=1)if("require"===(o=(s=p(e[u],l)).f))f[u]=g.require(t);else if("exports"===o)f[u]=g.exports(t),c=!0;else if("module"===o)i=f[u]=g.module(t);else if(E(v,o)||E(y,o)||E(_,o))f[u]=M(o);else{if(!s.p)throw new Error(t+" missing "+o);s.p.load(s.n,b(r,!0),w(o),{}),f[u]=v[o]}a=n?n.apply(v[t],f):void 0,t&&(i&&i.exports!==d&&i.exports!==v[t]?v[t]=i.exports:a===d&&c||(v[t]=a))}else t&&(v[t]=n)},e=i=a=function(t,e,n,r,i){if("string"==typeof t)return g[t]?g[t](e):M(p(t,C(e)).f);if(!t.splice){if((m=t).deps&&a(m.deps,m.callback),!e)return;e.splice?(t=e,e=n,n=null):t=d}return e=e||function(){},"function"==typeof n&&(n=r,r=i),r?o(d,t,e,n):setTimeout(function(){o(d,t,e,n)},4),a},a.config=function(t){return a(t)},e._defined=v,(l=function(t,e,n){if("string"!=typeof t)throw new Error("See almond README: incorrect module build, no module name");e.splice||(n=e,e=[]),E(v,t)||E(y,t)||(y[t]=[t,e,n])}).amd={jQuery:!0}}(),t.requirejs=e,t.require=i,t.define=l),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return null==t&&console&&console.error,t}),t.define("select2/utils",["jquery"],function(o){var i={};function c(t){var e=t.prototype,n=[];for(var r in e){"function"==typeof e[r]&&("constructor"!==r&&n.push(r))}return n}i.Extend=function(t,e){var n={}.hasOwnProperty;function r(){this.constructor=t}for(var i in e)n.call(e,i)&&(t[i]=e[i]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},i.Decorate=function(r,i){var t=c(i),e=c(r);function o(){var t=Array.prototype.unshift,e=i.prototype.constructor.length,n=r.prototype.constructor;0<e&&(t.call(arguments,r.prototype.constructor),n=i.prototype.constructor),n.apply(this,arguments)}i.displayName=r.displayName,o.prototype=new function(){this.constructor=o};for(var n=0;n<e.length;n++){var a=e[n];o.prototype[a]=r.prototype[a]}for(var s=function(t){var e=function(){};t in o.prototype&&(e=o.prototype[t]);var n=i.prototype[t];return function(){return Array.prototype.unshift.call(arguments,e),n.apply(this,arguments)}},u=0;u<t.length;u++){var l=t[u];o.prototype[l]=s(l)}return o};var t=function(){this.listeners={}};t.prototype.on=function(t,e){this.listeners=this.listeners||{},t in this.listeners?this.listeners[t].push(e):this.listeners[t]=[e]},t.prototype.trigger=function(t){var e=Array.prototype.slice,n=e.call(arguments,1);this.listeners=this.listeners||{},null==n&&(n=[]),0===n.length&&n.push({}),(n[0]._type=t)in this.listeners&&this.invoke(this.listeners[t],e.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},t.prototype.invoke=function(t,e){for(var n=0,r=t.length;n<r;n++)t[n].apply(this,e)},i.Observable=t,i.generateChars=function(t){for(var e="",n=0;n<t;n++){e+=Math.floor(36*Math.random()).toString(36)}return e},i.bind=function(t,e){return function(){t.apply(e,arguments)}},i._convertData=function(t){for(var e in t){var n=e.split("-"),r=t;if(1!==n.length){for(var i=0;i<n.length;i++){var o=n[i];(o=o.substring(0,1).toLowerCase()+o.substring(1))in r||(r[o]={}),i==n.length-1&&(r[o]=t[e]),r=r[o]}delete t[e]}}return t},i.hasScroll=function(t,e){var n=o(e),r=e.style.overflowX,i=e.style.overflowY;return(r!==i||"hidden"!==i&&"visible"!==i)&&("scroll"===r||"scroll"===i||(n.innerHeight()<e.scrollHeight||n.innerWidth()<e.scrollWidth))},i.escapeMarkup=function(t){var e={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof t?t:String(t).replace(/[&<>"'\/\\]/g,function(t){return e[t]})},i.appendMany=function(t,e){if("1.7"===o.fn.jquery.substr(0,3)){var n=o();o.map(e,function(t){n=n.add(t)}),e=n}t.append(e)},i.__cache={};var n=0;return i.GetUniqueElementId=function(t){var e=t.getAttribute("data-select2-id");return null==e&&(t.id?(e=t.id,t.setAttribute("data-select2-id",e)):(t.setAttribute("data-select2-id",++n),e=n.toString())),e},i.StoreData=function(t,e,n){var r=i.GetUniqueElementId(t);i.__cache[r]||(i.__cache[r]={}),i.__cache[r][e]=n},i.GetData=function(t,e){var n=i.GetUniqueElementId(t);return e?i.__cache[n]&&null!=i.__cache[n][e]?i.__cache[n][e]:o(t).data(e):i.__cache[n]},i.RemoveData=function(t){var e=i.GetUniqueElementId(t);null!=i.__cache[e]&&delete i.__cache[e],t.removeAttribute("data-select2-id")},i}),t.define("select2/results",["jquery","./utils"],function(d,p){function r(t,e,n){this.$element=t,this.data=n,this.options=e,r.__super__.constructor.call(this)}return p.Extend(r,p.Observable),r.prototype.render=function(){var t=d('<ul class="select2-results__options" role="listbox"></ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t},r.prototype.clear=function(){this.$results.empty()},r.prototype.displayMessage=function(t){var e=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var n=d('<li role="alert" aria-live="assertive" class="select2-results__option"></li>'),r=this.options.get("translations").get(t.message);n.append(e(r(t.args))),n[0].className+=" select2-results__message",this.$results.append(n)},r.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},r.prototype.append=function(t){this.hideLoading();var e=[];if(null!=t.results&&0!==t.results.length){t.results=this.sort(t.results);for(var n=0;n<t.results.length;n++){var r=t.results[n],i=this.option(r);e.push(i)}this.$results.append(e)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},r.prototype.position=function(t,e){e.find(".select2-results").append(t)},r.prototype.sort=function(t){return this.options.get("sorter")(t)},r.prototype.highlightFirstItem=function(){var t=this.$results.find(".select2-results__option[aria-selected]"),e=t.filter("[aria-selected=true]");0<e.length?e.first().trigger("mouseenter"):t.first().trigger("mouseenter"),this.ensureHighlightVisible()},r.prototype.setClasses=function(){var e=this;this.data.current(function(t){var r=d.map(t,function(t){return t.id.toString()});e.$results.find(".select2-results__option[aria-selected]").each(function(){var t=d(this),e=p.GetData(this,"data"),n=""+e.id;null!=e.element&&e.element.selected||null==e.element&&-1<d.inArray(n,r)?t.attr("aria-selected","true"):t.attr("aria-selected","false")})})},r.prototype.showLoading=function(t){this.hideLoading();var e={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(t)},n=this.option(e);n.className+=" loading-results",this.$results.prepend(n)},r.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},r.prototype.option=function(t){var e=document.createElement("li");e.className="select2-results__option";var n={role:"option","aria-selected":"false"},r=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;for(var i in(null!=t.element&&r.call(t.element,":disabled")||null==t.element&&t.disabled)&&(delete n["aria-selected"],n["aria-disabled"]="true"),null==t.id&&delete n["aria-selected"],null!=t._resultId&&(e.id=t._resultId),t.title&&(e.title=t.title),t.children&&(n.role="group",n["aria-label"]=t.text,delete n["aria-selected"]),n){var o=n[i];e.setAttribute(i,o)}if(t.children){var a=d(e),s=document.createElement("strong");s.className="select2-results__group";d(s);this.template(t,s);for(var u=[],l=0;l<t.children.length;l++){var c=t.children[l],f=this.option(c);u.push(f)}var h=d("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});h.append(u),a.append(s),a.append(h)}else this.template(t,e);return p.StoreData(e,"data",t),e},r.prototype.bind=function(e,t){var u=this,n=e.id+"-results";this.$results.attr("id",n),e.on("results:all",function(t){u.clear(),u.append(t.data),e.isOpen()&&(u.setClasses(),u.highlightFirstItem())}),e.on("results:append",function(t){u.append(t.data),e.isOpen()&&u.setClasses()}),e.on("query",function(t){u.hideMessages(),u.showLoading(t)}),e.on("select",function(){e.isOpen()&&(u.setClasses(),u.options.get("scrollAfterSelect")&&u.highlightFirstItem())}),e.on("unselect",function(){e.isOpen()&&(u.setClasses(),u.options.get("scrollAfterSelect")&&u.highlightFirstItem())}),e.on("open",function(){u.$results.attr("aria-expanded","true"),u.$results.attr("aria-hidden","false"),u.setClasses(),u.ensureHighlightVisible()}),e.on("close",function(){u.$results.attr("aria-expanded","false"),u.$results.attr("aria-hidden","true"),u.$results.removeAttr("aria-activedescendant")}),e.on("results:toggle",function(){var t=u.getHighlightedResults();0!==t.length&&t.trigger("mouseup")}),e.on("results:select",function(){var t=u.getHighlightedResults();if(0!==t.length){var e=p.GetData(t[0],"data");"true"==t.attr("aria-selected")?u.trigger("close",{}):u.trigger("select",{data:e})}}),e.on("results:previous",function(){var t=u.getHighlightedResults(),e=u.$results.find("[aria-selected]"),n=e.index(t);if(!(n<=0)){var r=n-1;0===t.length&&(r=0);var i=e.eq(r);i.trigger("mouseenter");var o=u.$results.offset().top,a=i.offset().top,s=u.$results.scrollTop()+(a-o);0===r?u.$results.scrollTop(0):a-o<0&&u.$results.scrollTop(s)}}),e.on("results:next",function(){var t=u.getHighlightedResults(),e=u.$results.find("[aria-selected]"),n=e.index(t)+1;if(!(n>=e.length)){var r=e.eq(n);r.trigger("mouseenter");var i=u.$results.offset().top+u.$results.outerHeight(!1),o=r.offset().top+r.outerHeight(!1),a=u.$results.scrollTop()+o-i;0===n?u.$results.scrollTop(0):i<o&&u.$results.scrollTop(a)}}),e.on("results:focus",function(t){t.element.addClass("select2-results__option--highlighted")}),e.on("results:message",function(t){u.displayMessage(t)}),d.fn.mousewheel&&this.$results.on("mousewheel",function(t){var e=u.$results.scrollTop(),n=u.$results.get(0).scrollHeight-e+t.deltaY,r=0<t.deltaY&&e-t.deltaY<=0,i=t.deltaY<0&&n<=u.$results.height();r?(u.$results.scrollTop(0),t.preventDefault(),t.stopPropagation()):i&&(u.$results.scrollTop(u.$results.get(0).scrollHeight-u.$results.height()),t.preventDefault(),t.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(t){var e=d(this),n=p.GetData(this,"data");"true"!==e.attr("aria-selected")?u.trigger("select",{originalEvent:t,data:n}):u.options.get("multiple")?u.trigger("unselect",{originalEvent:t,data:n}):u.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(t){var e=p.GetData(this,"data");u.getHighlightedResults().removeClass("select2-results__option--highlighted"),u.trigger("results:focus",{data:e,element:d(this)})})},r.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},r.prototype.destroy=function(){this.$results.remove()},r.prototype.ensureHighlightVisible=function(){var t=this.getHighlightedResults();if(0!==t.length){var e=this.$results.find("[aria-selected]").index(t),n=this.$results.offset().top,r=t.offset().top,i=this.$results.scrollTop()+(r-n),o=r-n;i-=2*t.outerHeight(!1),e<=2?this.$results.scrollTop(0):(o>this.$results.outerHeight()||o<0)&&this.$results.scrollTop(i)}},r.prototype.template=function(t,e){var n=this.options.get("templateResult"),r=this.options.get("escapeMarkup"),i=n(t,e);null==i?e.style.display="none":"string"==typeof i?e.innerHTML=r(i):d(e).append(i)},r}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,r,i){function o(t,e){this.$element=t,this.options=e,o.__super__.constructor.call(this)}return r.Extend(o,r.Observable),o.prototype.render=function(){var t=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=r.GetData(this.$element[0],"old-tabindex")?this._tabindex=r.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),t.attr("title",this.$element.attr("title")),t.attr("tabindex",this._tabindex),t.attr("aria-disabled","false"),this.$selection=t},o.prototype.bind=function(t,e){var n=this,r=t.id+"-results";this.container=t,this.$selection.on("focus",function(t){n.trigger("focus",t)}),this.$selection.on("blur",function(t){n._handleBlur(t)}),this.$selection.on("keydown",function(t){n.trigger("keypress",t),t.which===i.SPACE&&t.preventDefault()}),t.on("results:focus",function(t){n.$selection.attr("aria-activedescendant",t.data._resultId)}),t.on("selection:update",function(t){n.update(t.data)}),t.on("open",function(){n.$selection.attr("aria-expanded","true"),n.$selection.attr("aria-owns",r),n._attachCloseHandler(t)}),t.on("close",function(){n.$selection.attr("aria-expanded","false"),n.$selection.removeAttr("aria-activedescendant"),n.$selection.removeAttr("aria-owns"),n.$selection.trigger("focus"),n._detachCloseHandler(t)}),t.on("enable",function(){n.$selection.attr("tabindex",n._tabindex),n.$selection.attr("aria-disabled","false")}),t.on("disable",function(){n.$selection.attr("tabindex","-1"),n.$selection.attr("aria-disabled","true")})},o.prototype._handleBlur=function(t){var e=this;window.setTimeout(function(){document.activeElement==e.$selection[0]||n.contains(e.$selection[0],document.activeElement)||e.trigger("blur",t)},1)},o.prototype._attachCloseHandler=function(t){n(document.body).on("mousedown.select2."+t.id,function(t){var e=n(t.target).closest(".select2");n(".select2.select2-container--open").each(function(){this!=e[0]&&r.GetData(this,"element").select2("close")})})},o.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},o.prototype.position=function(t,e){e.find(".selection").append(t)},o.prototype.destroy=function(){this._detachCloseHandler(this.container)},o.prototype.update=function(t){throw new Error("The `update` method must be defined in child classes.")},o.prototype.isEnabled=function(){return!this.isDisabled()},o.prototype.isDisabled=function(){return this.options.get("disabled")},o}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(t,e,n,r){function i(){i.__super__.constructor.apply(this,arguments)}return n.Extend(i,e),i.prototype.render=function(){var t=i.__super__.render.call(this);return t.addClass("select2-selection--single"),t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),t},i.prototype.bind=function(e,t){var n=this;i.__super__.bind.apply(this,arguments);var r=e.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",r).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",r),this.$selection.on("mousedown",function(t){1===t.which&&n.trigger("toggle",{originalEvent:t})}),this.$selection.on("focus",function(t){}),this.$selection.on("blur",function(t){}),e.on("focus",function(t){e.isOpen()||n.$selection.trigger("focus")})},i.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},i.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},i.prototype.selectionContainer=function(){return t("<span></span>")},i.prototype.update=function(t){if(0!==t.length){var e=t[0],n=this.$selection.find(".select2-selection__rendered"),r=this.display(e,n);n.empty().append(r);var i=e.title||e.text;i?n.attr("title",i):n.removeAttr("title")}else this.clear()},i}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(i,t,u){function n(t,e){n.__super__.constructor.apply(this,arguments)}return u.Extend(n,t),n.prototype.render=function(){var t=n.__super__.render.call(this);return t.addClass("select2-selection--multiple"),t.html('<ul class="select2-selection__rendered"></ul>'),t},n.prototype.bind=function(t,e){var r=this;n.__super__.bind.apply(this,arguments),this.$selection.on("click",function(t){r.trigger("toggle",{originalEvent:t})}),this.$selection.on("click",".select2-selection__choice__remove",function(t){if(!r.isDisabled()){var e=i(this).parent(),n=u.GetData(e[0],"data");r.trigger("unselect",{originalEvent:t,data:n})}})},n.prototype.clear=function(){var t=this.$selection.find(".select2-selection__rendered");t.empty(),t.removeAttr("title")},n.prototype.display=function(t,e){var n=this.options.get("templateSelection");return this.options.get("escapeMarkup")(n(t,e))},n.prototype.selectionContainer=function(){return i('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},n.prototype.update=function(t){if(this.clear(),0!==t.length){for(var e=[],n=0;n<t.length;n++){var r=t[n],i=this.selectionContainer(),o=this.display(r,i);i.append(o);var a=r.title||r.text;a&&i.attr("title",a),u.StoreData(i[0],"data",r),e.push(i)}var s=this.$selection.find(".select2-selection__rendered");u.appendMany(s,e)}},n}),t.define("select2/selection/placeholder",["../utils"],function(t){function e(t,e,n){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n)}return e.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},e.prototype.createPlaceholder=function(t,e){var n=this.selectionContainer();return n.html(this.display(e)),n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),n},e.prototype.update=function(t,e){var n=1==e.length&&e[0].id!=this.placeholder.id;if(1<e.length||n)return t.call(this,e);this.clear();var r=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(r)},e}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(i,r,s){function t(){}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error,this.$selection.on("mousedown",".select2-selection__clear",function(t){r._handleClear(t)}),e.on("keypress",function(t){r._handleKeyboardClear(t,e)})},t.prototype._handleClear=function(t,e){if(!this.isDisabled()){var n=this.$selection.find(".select2-selection__clear");if(0!==n.length){e.stopPropagation();var r=s.GetData(n[0],"data"),i=this.$element.val();this.$element.val(this.placeholder.id);var o={data:r};if(this.trigger("clear",o),o.prevented)this.$element.val(i);else{for(var a=0;a<r.length;a++)if(o={data:r[a]},this.trigger("unselect",o),o.prevented)return void this.$element.val(i);this.$element.trigger("input").trigger("change"),this.trigger("toggle",{})}}}},t.prototype._handleKeyboardClear=function(t,e,n){n.isOpen()||e.which!=r.DELETE&&e.which!=r.BACKSPACE||this._handleClear(e)},t.prototype.update=function(t,e){if(t.call(this,e),!(0<this.$selection.find(".select2-selection__placeholder").length||0===e.length)){var n=this.options.get("translations").get("removeAllItems"),r=i('<span class="select2-selection__clear" title="'+n()+'">&times;</span>');s.StoreData(r[0],"data",e),this.$selection.find(".select2-selection__rendered").prepend(r)}},t}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(r,s,u){function t(t,e,n){t.call(this,e,n)}return t.prototype.render=function(t){var e=r('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></li>');this.$searchContainer=e,this.$search=e.find("input");var n=t.call(this);return this._transferTabIndex(),n},t.prototype.bind=function(t,e,n){var r=this,i=e.id+"-results";t.call(this,e,n),e.on("open",function(){r.$search.attr("aria-controls",i),r.$search.trigger("focus")}),e.on("close",function(){r.$search.val(""),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.trigger("focus")}),e.on("enable",function(){r.$search.prop("disabled",!1),r._transferTabIndex()}),e.on("disable",function(){r.$search.prop("disabled",!0)}),e.on("focus",function(t){r.$search.trigger("focus")}),e.on("results:focus",function(t){t.data._resultId?r.$search.attr("aria-activedescendant",t.data._resultId):r.$search.removeAttr("aria-activedescendant")}),this.$selection.on("focusin",".select2-search--inline",function(t){r.trigger("focus",t)}),this.$selection.on("focusout",".select2-search--inline",function(t){r._handleBlur(t)}),this.$selection.on("keydown",".select2-search--inline",function(t){if(t.stopPropagation(),r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented(),t.which===u.BACKSPACE&&""===r.$search.val()){var e=r.$searchContainer.prev(".select2-selection__choice");if(0<e.length){var n=s.GetData(e[0],"data");r.searchRemoveChoice(n),t.preventDefault()}}}),this.$selection.on("click",".select2-search--inline",function(t){r.$search.val()&&t.stopPropagation()});var o=document.documentMode,a=o&&o<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(t){a?r.$selection.off("input.search input.searchcheck"):r.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(t){if(a&&"input"===t.type)r.$selection.off("input.search input.searchcheck");else{var e=t.which;e!=u.SHIFT&&e!=u.CTRL&&e!=u.ALT&&e!=u.TAB&&r.handleSearch(t)}})},t.prototype._transferTabIndex=function(t){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},t.prototype.createPlaceholder=function(t,e){this.$search.attr("placeholder",e.text)},t.prototype.update=function(t,e){var n=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),t.call(this,e),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),n&&this.$search.trigger("focus")},t.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var t=this.$search.val();this.trigger("query",{term:t})}this._keyUpPrevented=!1},t.prototype.searchRemoveChoice=function(t,e){this.trigger("unselect",{data:e}),this.$search.val(e.text),this.handleSearch()},t.prototype.resizeSearch=function(){this.$search.css("width","25px");var t="";""!==this.$search.attr("placeholder")?t=this.$selection.find(".select2-selection__rendered").width():t=.75*(this.$search.val().length+1)+"em";this.$search.css("width",t)},t}),t.define("select2/selection/eventRelay",["jquery"],function(a){function t(){}return t.prototype.bind=function(t,e,n){var r=this,i=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],o=["opening","closing","selecting","unselecting","clearing"];t.call(this,e,n),e.on("*",function(t,e){if(-1!==a.inArray(t,i)){e=e||{};var n=a.Event("select2:"+t,{params:e});r.$element.trigger(n),-1!==a.inArray(t,o)&&(e.prevented=n.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(e,n){function r(t){this.dict=t||{}}return r.prototype.all=function(){return this.dict},r.prototype.get=function(t){return this.dict[t]},r.prototype.extend=function(t){this.dict=e.extend({},t.all(),this.dict)},r._cache={},r.loadPath=function(t){if(!(t in r._cache)){var e=n(t);r._cache[t]=e}return new r(r._cache[t])},r}),t.define("select2/diacritics",[],function(){return{"Ⓐ":"A","Ａ":"A","À":"A","Á":"A","Â":"A","Ầ":"A","Ấ":"A","Ẫ":"A","Ẩ":"A","Ã":"A","Ā":"A","Ă":"A","Ằ":"A","Ắ":"A","Ẵ":"A","Ẳ":"A","Ȧ":"A","Ǡ":"A","Ä":"A","Ǟ":"A","Ả":"A","Å":"A","Ǻ":"A","Ǎ":"A","Ȁ":"A","Ȃ":"A","Ạ":"A","Ậ":"A","Ặ":"A","Ḁ":"A","Ą":"A","Ⱥ":"A","Ɐ":"A","Ꜳ":"AA","Æ":"AE","Ǽ":"AE","Ǣ":"AE","Ꜵ":"AO","Ꜷ":"AU","Ꜹ":"AV","Ꜻ":"AV","Ꜽ":"AY","Ⓑ":"B","Ｂ":"B","Ḃ":"B","Ḅ":"B","Ḇ":"B","Ƀ":"B","Ƃ":"B","Ɓ":"B","Ⓒ":"C","Ｃ":"C","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","Ç":"C","Ḉ":"C","Ƈ":"C","Ȼ":"C","Ꜿ":"C","Ⓓ":"D","Ｄ":"D","Ḋ":"D","Ď":"D","Ḍ":"D","Ḑ":"D","Ḓ":"D","Ḏ":"D","Đ":"D","Ƌ":"D","Ɗ":"D","Ɖ":"D","Ꝺ":"D","Ǳ":"DZ","Ǆ":"DZ","ǲ":"Dz","ǅ":"Dz","Ⓔ":"E","Ｅ":"E","È":"E","É":"E","Ê":"E","Ề":"E","Ế":"E","Ễ":"E","Ể":"E","Ẽ":"E","Ē":"E","Ḕ":"E","Ḗ":"E","Ĕ":"E","Ė":"E","Ë":"E","Ẻ":"E","Ě":"E","Ȅ":"E","Ȇ":"E","Ẹ":"E","Ệ":"E","Ȩ":"E","Ḝ":"E","Ę":"E","Ḙ":"E","Ḛ":"E","Ɛ":"E","Ǝ":"E","Ⓕ":"F","Ｆ":"F","Ḟ":"F","Ƒ":"F","Ꝼ":"F","Ⓖ":"G","Ｇ":"G","Ǵ":"G","Ĝ":"G","Ḡ":"G","Ğ":"G","Ġ":"G","Ǧ":"G","Ģ":"G","Ǥ":"G","Ɠ":"G","Ꞡ":"G","Ᵹ":"G","Ꝿ":"G","Ⓗ":"H","Ｈ":"H","Ĥ":"H","Ḣ":"H","Ḧ":"H","Ȟ":"H","Ḥ":"H","Ḩ":"H","Ḫ":"H","Ħ":"H","Ⱨ":"H","Ⱶ":"H","Ɥ":"H","Ⓘ":"I","Ｉ":"I","Ì":"I","Í":"I","Î":"I","Ĩ":"I","Ī":"I","Ĭ":"I","İ":"I","Ï":"I","Ḯ":"I","Ỉ":"I","Ǐ":"I","Ȉ":"I","Ȋ":"I","Ị":"I","Į":"I","Ḭ":"I","Ɨ":"I","Ⓙ":"J","Ｊ":"J","Ĵ":"J","Ɉ":"J","Ⓚ":"K","Ｋ":"K","Ḱ":"K","Ǩ":"K","Ḳ":"K","Ķ":"K","Ḵ":"K","Ƙ":"K","Ⱪ":"K","Ꝁ":"K","Ꝃ":"K","Ꝅ":"K","Ꞣ":"K","Ⓛ":"L","Ｌ":"L","Ŀ":"L","Ĺ":"L","Ľ":"L","Ḷ":"L","Ḹ":"L","Ļ":"L","Ḽ":"L","Ḻ":"L","Ł":"L","Ƚ":"L","Ɫ":"L","Ⱡ":"L","Ꝉ":"L","Ꝇ":"L","Ꞁ":"L","Ǉ":"LJ","ǈ":"Lj","Ⓜ":"M","Ｍ":"M","Ḿ":"M","Ṁ":"M","Ṃ":"M","Ɱ":"M","Ɯ":"M","Ⓝ":"N","Ｎ":"N","Ǹ":"N","Ń":"N","Ñ":"N","Ṅ":"N","Ň":"N","Ṇ":"N","Ņ":"N","Ṋ":"N","Ṉ":"N","Ƞ":"N","Ɲ":"N","Ꞑ":"N","Ꞥ":"N","Ǌ":"NJ","ǋ":"Nj","Ⓞ":"O","Ｏ":"O","Ò":"O","Ó":"O","Ô":"O","Ồ":"O","Ố":"O","Ỗ":"O","Ổ":"O","Õ":"O","Ṍ":"O","Ȭ":"O","Ṏ":"O","Ō":"O","Ṑ":"O","Ṓ":"O","Ŏ":"O","Ȯ":"O","Ȱ":"O","Ö":"O","Ȫ":"O","Ỏ":"O","Ő":"O","Ǒ":"O","Ȍ":"O","Ȏ":"O","Ơ":"O","Ờ":"O","Ớ":"O","Ỡ":"O","Ở":"O","Ợ":"O","Ọ":"O","Ộ":"O","Ǫ":"O","Ǭ":"O","Ø":"O","Ǿ":"O","Ɔ":"O","Ɵ":"O","Ꝋ":"O","Ꝍ":"O","Œ":"OE","Ƣ":"OI","Ꝏ":"OO","Ȣ":"OU","Ⓟ":"P","Ｐ":"P","Ṕ":"P","Ṗ":"P","Ƥ":"P","Ᵽ":"P","Ꝑ":"P","Ꝓ":"P","Ꝕ":"P","Ⓠ":"Q","Ｑ":"Q","Ꝗ":"Q","Ꝙ":"Q","Ɋ":"Q","Ⓡ":"R","Ｒ":"R","Ŕ":"R","Ṙ":"R","Ř":"R","Ȑ":"R","Ȓ":"R","Ṛ":"R","Ṝ":"R","Ŗ":"R","Ṟ":"R","Ɍ":"R","Ɽ":"R","Ꝛ":"R","Ꞧ":"R","Ꞃ":"R","Ⓢ":"S","Ｓ":"S","ẞ":"S","Ś":"S","Ṥ":"S","Ŝ":"S","Ṡ":"S","Š":"S","Ṧ":"S","Ṣ":"S","Ṩ":"S","Ș":"S","Ş":"S","Ȿ":"S","Ꞩ":"S","Ꞅ":"S","Ⓣ":"T","Ｔ":"T","Ṫ":"T","Ť":"T","Ṭ":"T","Ț":"T","Ţ":"T","Ṱ":"T","Ṯ":"T","Ŧ":"T","Ƭ":"T","Ʈ":"T","Ⱦ":"T","Ꞇ":"T","Ꜩ":"TZ","Ⓤ":"U","Ｕ":"U","Ù":"U","Ú":"U","Û":"U","Ũ":"U","Ṹ":"U","Ū":"U","Ṻ":"U","Ŭ":"U","Ü":"U","Ǜ":"U","Ǘ":"U","Ǖ":"U","Ǚ":"U","Ủ":"U","Ů":"U","Ű":"U","Ǔ":"U","Ȕ":"U","Ȗ":"U","Ư":"U","Ừ":"U","Ứ":"U","Ữ":"U","Ử":"U","Ự":"U","Ụ":"U","Ṳ":"U","Ų":"U","Ṷ":"U","Ṵ":"U","Ʉ":"U","Ⓥ":"V","Ｖ":"V","Ṽ":"V","Ṿ":"V","Ʋ":"V","Ꝟ":"V","Ʌ":"V","Ꝡ":"VY","Ⓦ":"W","Ｗ":"W","Ẁ":"W","Ẃ":"W","Ŵ":"W","Ẇ":"W","Ẅ":"W","Ẉ":"W","Ⱳ":"W","Ⓧ":"X","Ｘ":"X","Ẋ":"X","Ẍ":"X","Ⓨ":"Y","Ｙ":"Y","Ỳ":"Y","Ý":"Y","Ŷ":"Y","Ỹ":"Y","Ȳ":"Y","Ẏ":"Y","Ÿ":"Y","Ỷ":"Y","Ỵ":"Y","Ƴ":"Y","Ɏ":"Y","Ỿ":"Y","Ⓩ":"Z","Ｚ":"Z","Ź":"Z","Ẑ":"Z","Ż":"Z","Ž":"Z","Ẓ":"Z","Ẕ":"Z","Ƶ":"Z","Ȥ":"Z","Ɀ":"Z","Ⱬ":"Z","Ꝣ":"Z","ⓐ":"a","ａ":"a","ẚ":"a","à":"a","á":"a","â":"a","ầ":"a","ấ":"a","ẫ":"a","ẩ":"a","ã":"a","ā":"a","ă":"a","ằ":"a","ắ":"a","ẵ":"a","ẳ":"a","ȧ":"a","ǡ":"a","ä":"a","ǟ":"a","ả":"a","å":"a","ǻ":"a","ǎ":"a","ȁ":"a","ȃ":"a","ạ":"a","ậ":"a","ặ":"a","ḁ":"a","ą":"a","ⱥ":"a","ɐ":"a","ꜳ":"aa","æ":"ae","ǽ":"ae","ǣ":"ae","ꜵ":"ao","ꜷ":"au","ꜹ":"av","ꜻ":"av","ꜽ":"ay","ⓑ":"b","ｂ":"b","ḃ":"b","ḅ":"b","ḇ":"b","ƀ":"b","ƃ":"b","ɓ":"b","ⓒ":"c","ｃ":"c","ć":"c","ĉ":"c","ċ":"c","č":"c","ç":"c","ḉ":"c","ƈ":"c","ȼ":"c","ꜿ":"c","ↄ":"c","ⓓ":"d","ｄ":"d","ḋ":"d","ď":"d","ḍ":"d","ḑ":"d","ḓ":"d","ḏ":"d","đ":"d","ƌ":"d","ɖ":"d","ɗ":"d","ꝺ":"d","ǳ":"dz","ǆ":"dz","ⓔ":"e","ｅ":"e","è":"e","é":"e","ê":"e","ề":"e","ế":"e","ễ":"e","ể":"e","ẽ":"e","ē":"e","ḕ":"e","ḗ":"e","ĕ":"e","ė":"e","ë":"e","ẻ":"e","ě":"e","ȅ":"e","ȇ":"e","ẹ":"e","ệ":"e","ȩ":"e","ḝ":"e","ę":"e","ḙ":"e","ḛ":"e","ɇ":"e","ɛ":"e","ǝ":"e","ⓕ":"f","ｆ":"f","ḟ":"f","ƒ":"f","ꝼ":"f","ⓖ":"g","ｇ":"g","ǵ":"g","ĝ":"g","ḡ":"g","ğ":"g","ġ":"g","ǧ":"g","ģ":"g","ǥ":"g","ɠ":"g","ꞡ":"g","ᵹ":"g","ꝿ":"g","ⓗ":"h","ｈ":"h","ĥ":"h","ḣ":"h","ḧ":"h","ȟ":"h","ḥ":"h","ḩ":"h","ḫ":"h","ẖ":"h","ħ":"h","ⱨ":"h","ⱶ":"h","ɥ":"h","ƕ":"hv","ⓘ":"i","ｉ":"i","ì":"i","í":"i","î":"i","ĩ":"i","ī":"i","ĭ":"i","ï":"i","ḯ":"i","ỉ":"i","ǐ":"i","ȉ":"i","ȋ":"i","ị":"i","į":"i","ḭ":"i","ɨ":"i","ı":"i","ⓙ":"j","ｊ":"j","ĵ":"j","ǰ":"j","ɉ":"j","ⓚ":"k","ｋ":"k","ḱ":"k","ǩ":"k","ḳ":"k","ķ":"k","ḵ":"k","ƙ":"k","ⱪ":"k","ꝁ":"k","ꝃ":"k","ꝅ":"k","ꞣ":"k","ⓛ":"l","ｌ":"l","ŀ":"l","ĺ":"l","ľ":"l","ḷ":"l","ḹ":"l","ļ":"l","ḽ":"l","ḻ":"l","ſ":"l","ł":"l","ƚ":"l","ɫ":"l","ⱡ":"l","ꝉ":"l","ꞁ":"l","ꝇ":"l","ǉ":"lj","ⓜ":"m","ｍ":"m","ḿ":"m","ṁ":"m","ṃ":"m","ɱ":"m","ɯ":"m","ⓝ":"n","ｎ":"n","ǹ":"n","ń":"n","ñ":"n","ṅ":"n","ň":"n","ṇ":"n","ņ":"n","ṋ":"n","ṉ":"n","ƞ":"n","ɲ":"n","ŉ":"n","ꞑ":"n","ꞥ":"n","ǌ":"nj","ⓞ":"o","ｏ":"o","ò":"o","ó":"o","ô":"o","ồ":"o","ố":"o","ỗ":"o","ổ":"o","õ":"o","ṍ":"o","ȭ":"o","ṏ":"o","ō":"o","ṑ":"o","ṓ":"o","ŏ":"o","ȯ":"o","ȱ":"o","ö":"o","ȫ":"o","ỏ":"o","ő":"o","ǒ":"o","ȍ":"o","ȏ":"o","ơ":"o","ờ":"o","ớ":"o","ỡ":"o","ở":"o","ợ":"o","ọ":"o","ộ":"o","ǫ":"o","ǭ":"o","ø":"o","ǿ":"o","ɔ":"o","ꝋ":"o","ꝍ":"o","ɵ":"o","œ":"oe","ƣ":"oi","ȣ":"ou","ꝏ":"oo","ⓟ":"p","ｐ":"p","ṕ":"p","ṗ":"p","ƥ":"p","ᵽ":"p","ꝑ":"p","ꝓ":"p","ꝕ":"p","ⓠ":"q","ｑ":"q","ɋ":"q","ꝗ":"q","ꝙ":"q","ⓡ":"r","ｒ":"r","ŕ":"r","ṙ":"r","ř":"r","ȑ":"r","ȓ":"r","ṛ":"r","ṝ":"r","ŗ":"r","ṟ":"r","ɍ":"r","ɽ":"r","ꝛ":"r","ꞧ":"r","ꞃ":"r","ⓢ":"s","ｓ":"s","ß":"s","ś":"s","ṥ":"s","ŝ":"s","ṡ":"s","š":"s","ṧ":"s","ṣ":"s","ṩ":"s","ș":"s","ş":"s","ȿ":"s","ꞩ":"s","ꞅ":"s","ẛ":"s","ⓣ":"t","ｔ":"t","ṫ":"t","ẗ":"t","ť":"t","ṭ":"t","ț":"t","ţ":"t","ṱ":"t","ṯ":"t","ŧ":"t","ƭ":"t","ʈ":"t","ⱦ":"t","ꞇ":"t","ꜩ":"tz","ⓤ":"u","ｕ":"u","ù":"u","ú":"u","û":"u","ũ":"u","ṹ":"u","ū":"u","ṻ":"u","ŭ":"u","ü":"u","ǜ":"u","ǘ":"u","ǖ":"u","ǚ":"u","ủ":"u","ů":"u","ű":"u","ǔ":"u","ȕ":"u","ȗ":"u","ư":"u","ừ":"u","ứ":"u","ữ":"u","ử":"u","ự":"u","ụ":"u","ṳ":"u","ų":"u","ṷ":"u","ṵ":"u","ʉ":"u","ⓥ":"v","ｖ":"v","ṽ":"v","ṿ":"v","ʋ":"v","ꝟ":"v","ʌ":"v","ꝡ":"vy","ⓦ":"w","ｗ":"w","ẁ":"w","ẃ":"w","ŵ":"w","ẇ":"w","ẅ":"w","ẘ":"w","ẉ":"w","ⱳ":"w","ⓧ":"x","ｘ":"x","ẋ":"x","ẍ":"x","ⓨ":"y","ｙ":"y","ỳ":"y","ý":"y","ŷ":"y","ỹ":"y","ȳ":"y","ẏ":"y","ÿ":"y","ỷ":"y","ẙ":"y","ỵ":"y","ƴ":"y","ɏ":"y","ỿ":"y","ⓩ":"z","ｚ":"z","ź":"z","ẑ":"z","ż":"z","ž":"z","ẓ":"z","ẕ":"z","ƶ":"z","ȥ":"z","ɀ":"z","ⱬ":"z","ꝣ":"z","Ά":"Α","Έ":"Ε","Ή":"Η","Ί":"Ι","Ϊ":"Ι","Ό":"Ο","Ύ":"Υ","Ϋ":"Υ","Ώ":"Ω","ά":"α","έ":"ε","ή":"η","ί":"ι","ϊ":"ι","ΐ":"ι","ό":"ο","ύ":"υ","ϋ":"υ","ΰ":"υ","ώ":"ω","ς":"σ","’":"'"}}),t.define("select2/data/base",["../utils"],function(r){function n(t,e){n.__super__.constructor.call(this)}return r.Extend(n,r.Observable),n.prototype.current=function(t){throw new Error("The `current` method must be defined in child classes.")},n.prototype.query=function(t,e){throw new Error("The `query` method must be defined in child classes.")},n.prototype.bind=function(t,e){},n.prototype.destroy=function(){},n.prototype.generateResultId=function(t,e){var n=t.id+"-result-";return n+=r.generateChars(4),null!=e.id?n+="-"+e.id.toString():n+="-"+r.generateChars(4),n},n}),t.define("select2/data/select",["./base","../utils","jquery"],function(t,s,u){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return s.Extend(n,t),n.prototype.current=function(t){var n=[],r=this;this.$element.find(":selected").each(function(){var t=u(this),e=r.item(t);n.push(e)}),t(n)},n.prototype.select=function(i){var o=this;if(i.selected=!0,u(i.element).is("option"))return i.element.selected=!0,void this.$element.trigger("input").trigger("change");if(this.$element.prop("multiple"))this.current(function(t){var e=[];(i=[i]).push.apply(i,t);for(var n=0;n<i.length;n++){var r=i[n].id;-1===u.inArray(r,e)&&e.push(r)}o.$element.val(e),o.$element.trigger("input").trigger("change")});else{var t=i.id;this.$element.val(t),this.$element.trigger("input").trigger("change")}},n.prototype.unselect=function(i){var o=this;if(this.$element.prop("multiple")){if(i.selected=!1,u(i.element).is("option"))return i.element.selected=!1,void this.$element.trigger("input").trigger("change");this.current(function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n].id;r!==i.id&&-1===u.inArray(r,e)&&e.push(r)}o.$element.val(e),o.$element.trigger("input").trigger("change")})}},n.prototype.bind=function(t,e){var n=this;(this.container=t).on("select",function(t){n.select(t.data)}),t.on("unselect",function(t){n.unselect(t.data)})},n.prototype.destroy=function(){this.$element.find("*").each(function(){s.RemoveData(this)})},n.prototype.query=function(r,t){var i=[],o=this;this.$element.children().each(function(){var t=u(this);if(t.is("option")||t.is("optgroup")){var e=o.item(t),n=o.matches(r,e);null!==n&&i.push(n)}}),t({results:i})},n.prototype.addOptions=function(t){s.appendMany(this.$element,t)},n.prototype.option=function(t){var e;t.children?(e=document.createElement("optgroup")).label=t.text:void 0!==(e=document.createElement("option")).textContent?e.textContent=t.text:e.innerText=t.text,void 0!==t.id&&(e.value=t.id),t.disabled&&(e.disabled=!0),t.selected&&(e.selected=!0),t.title&&(e.title=t.title);var n=u(e),r=this._normalizeItem(t);return r.element=e,s.StoreData(e,"data",r),n},n.prototype.item=function(t){var e={};if(null!=(e=s.GetData(t[0],"data")))return e;if(t.is("option"))e={id:t.val(),text:t.text(),disabled:t.prop("disabled"),selected:t.prop("selected"),title:t.prop("title")};else if(t.is("optgroup")){e={text:t.prop("label"),children:[],title:t.prop("title")};for(var n=t.children("option"),r=[],i=0;i<n.length;i++){var o=u(n[i]),a=this.item(o);r.push(a)}e.children=r}return(e=this._normalizeItem(e)).element=t[0],s.StoreData(t[0],"data",e),e},n.prototype._normalizeItem=function(t){t!==Object(t)&&(t={id:t,text:t});return null!=(t=u.extend({},{text:""},t)).id&&(t.id=t.id.toString()),null!=t.text&&(t.text=t.text.toString()),null==t._resultId&&t.id&&null!=this.container&&(t._resultId=this.generateResultId(this.container,t)),u.extend({},{selected:!1,disabled:!1},t)},n.prototype.matches=function(t,e){return this.options.get("matcher")(t,e)},n}),t.define("select2/data/array",["./select","../utils","jquery"],function(t,p,g){function r(t,e){this._dataToConvert=e.get("data")||[],r.__super__.constructor.call(this,t,e)}return p.Extend(r,t),r.prototype.bind=function(t,e){r.__super__.bind.call(this,t,e),this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,e){return e.value==n.id.toString()});0===t.length&&(t=this.option(n),this.addOptions(t)),r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(t){var e=this,n=this.$element.find("option"),r=n.map(function(){return e.item(g(this)).id}).get(),i=[];function o(t){return function(){return g(this).val()==t.id}}for(var a=0;a<t.length;a++){var s=this._normalizeItem(t[a]);if(0<=g.inArray(s.id,r)){var u=n.filter(o(s)),l=this.item(u),c=g.extend(!0,{},s,l),f=this.option(c);u.replaceWith(f)}else{var h=this.option(s);if(s.children){var d=this.convertToOptions(s.children);p.appendMany(h,d)}i.push(h)}}return i},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(t,e,o){function n(t,e){this.ajaxOptions=this._applyDefaults(e.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),n.__super__.constructor.call(this,t,e)}return e.Extend(n,t),n.prototype._applyDefaults=function(t){var e={data:function(t){return o.extend({},t,{q:t.term})},transport:function(t,e,n){var r=o.ajax(t);return r.then(e),r.fail(n),r}};return o.extend({},e,t,!0)},n.prototype.processResults=function(t){return t},n.prototype.query=function(n,r){var i=this;null!=this._request&&(o.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var e=o.extend({type:"GET"},this.ajaxOptions);function t(){var t=e.transport(e,function(t){var e=i.processResults(t,n);i.options.get("debug")&&window.console&&console.error&&(!e||!e.results||o.isArray(e.results)),r(e)},function(){"status"in t&&(0===t.status||"0"===t.status)||i.trigger("results:message",{message:"errorLoading"})});i._request=t}"function"==typeof e.url&&(e.url=e.url.call(this.$element,n)),"function"==typeof e.data&&(e.data=e.data.call(this.$element,n)),this.ajaxOptions.delay&&null!=n.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(t,this.ajaxOptions.delay)):t()},n}),t.define("select2/data/tags",["jquery"],function(c){function t(t,e,n){var r=n.get("tags"),i=n.get("createTag");void 0!==i&&(this.createTag=i);var o=n.get("insertTag");if(void 0!==o&&(this.insertTag=o),t.call(this,e,n),c.isArray(r))for(var a=0;a<r.length;a++){var s=r[a],u=this._normalizeItem(s),l=this.option(u);this.$element.append(l)}}return t.prototype.query=function(t,l,c){var f=this;this._removeOldTags(),null!=l.term&&null==l.page?t.call(this,l,function t(e,n){for(var r=e.results,i=0;i<r.length;i++){var o=r[i],a=null!=o.children&&!t({results:o.children},!0);if((o.text||"").toUpperCase()===(l.term||"").toUpperCase()||a)return!n&&(e.data=r,void c(e))}if(n)return!0;var s=f.createTag(l);if(null!=s){var u=f.option(s);u.attr("data-select2-tag",!0),f.addOptions([u]),f.insertTag(r,s)}e.results=r,c(e)}):t.call(this,l,c)},t.prototype.createTag=function(t,e){var n=c.trim(e.term);return""===n?null:{id:n,text:n}},t.prototype.insertTag=function(t,e,n){e.unshift(n)},t.prototype._removeOldTags=function(t){this.$element.find("option[data-select2-tag]").each(function(){this.selected||c(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(f){function t(t,e,n){var r=n.get("tokenizer");void 0!==r&&(this.tokenizer=r),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){t.call(this,e,n),this.$search=e.dropdown.$search||e.selection.$search||n.find(".select2-search__field")},t.prototype.query=function(t,e,n){var i=this;e.term=e.term||"";var r=this.tokenizer(e,this.options,function(t){var e,n=i._normalizeItem(t);if(!i.$element.find("option").filter(function(){return f(this).val()===n.id}).length){var r=i.option(n);r.attr("data-select2-tag",!0),i._removeOldTags(),i.addOptions([r])}e=n,i.trigger("select",{data:e})});r.term!==e.term&&(this.$search.length&&(this.$search.val(r.term),this.$search.trigger("focus")),e.term=r.term),t.call(this,e,n)},t.prototype.tokenizer=function(t,e,n,r){for(var i=n.get("tokenSeparators")||[],o=e.term,a=0,s=this.createTag||function(t){return{id:t.term,text:t.term}};a<o.length;){var u=o[a];if(-1!==f.inArray(u,i)){var l=o.substr(0,a),c=s(f.extend({},e,{term:l}));null!=c?(r(c),o=o.substr(a+1)||"",a=0):a++}else a++}return{term:o}},t}),t.define("select2/data/minimumInputLength",[],function(){function t(t,e,n){this.minimumInputLength=n.get("minimumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",e.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),t.define("select2/data/maximumInputLength",[],function(){function t(t,e,n){this.maximumInputLength=n.get("maximumInputLength"),t.call(this,e,n)}return t.prototype.query=function(t,e,n){e.term=e.term||"",0<this.maximumInputLength&&e.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:e.term,params:e}}):t.call(this,e,n)},t}),t.define("select2/data/maximumSelectionLength",[],function(){function t(t,e,n){this.maximumSelectionLength=n.get("maximumSelectionLength"),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("select",function(){r._checkIfMaximumSelected()})},t.prototype.query=function(t,e,n){var r=this;this._checkIfMaximumSelected(function(){t.call(r,e,n)})},t.prototype._checkIfMaximumSelected=function(t,n){var r=this;this.current(function(t){var e=null!=t?t.length:0;0<r.maximumSelectionLength&&e>=r.maximumSelectionLength?r.trigger("results:message",{message:"maximumSelected",args:{maximum:r.maximumSelectionLength}}):n&&n()})},t}),t.define("select2/dropdown",["jquery","./utils"],function(e,t){function n(t,e){this.$element=t,this.options=e,n.__super__.constructor.call(this)}return t.Extend(n,t.Observable),n.prototype.render=function(){var t=e('<span class="select2-dropdown"><span class="select2-results"></span></span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t},n.prototype.bind=function(){},n.prototype.position=function(t,e){},n.prototype.destroy=function(){this.$dropdown.remove()},n}),t.define("select2/dropdown/search",["jquery","../utils"],function(o,t){function e(){}return e.prototype.render=function(t){var e=t.call(this),n=o('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /></span>');return this.$searchContainer=n,this.$search=n.find("input"),e.prepend(n),e},e.prototype.bind=function(t,e,n){var r=this,i=e.id+"-results";t.call(this,e,n),this.$search.on("keydown",function(t){r.trigger("keypress",t),r._keyUpPrevented=t.isDefaultPrevented()}),this.$search.on("input",function(t){o(this).off("keyup")}),this.$search.on("keyup input",function(t){r.handleSearch(t)}),e.on("open",function(){r.$search.attr("tabindex",0),r.$search.attr("aria-controls",i),r.$search.trigger("focus"),window.setTimeout(function(){r.$search.trigger("focus")},0)}),e.on("close",function(){r.$search.attr("tabindex",-1),r.$search.removeAttr("aria-controls"),r.$search.removeAttr("aria-activedescendant"),r.$search.val(""),r.$search.trigger("blur")}),e.on("focus",function(){e.isOpen()||r.$search.trigger("focus")}),e.on("results:all",function(t){null!=t.query.term&&""!==t.query.term||(r.showSearch(t)?r.$searchContainer.removeClass("select2-search--hide"):r.$searchContainer.addClass("select2-search--hide"))}),e.on("results:focus",function(t){t.data._resultId?r.$search.attr("aria-activedescendant",t.data._resultId):r.$search.removeAttr("aria-activedescendant")})},e.prototype.handleSearch=function(t){if(!this._keyUpPrevented){var e=this.$search.val();this.trigger("query",{term:e})}this._keyUpPrevented=!1},e.prototype.showSearch=function(t,e){return!0},e}),t.define("select2/dropdown/hidePlaceholder",[],function(){function t(t,e,n,r){this.placeholder=this.normalizePlaceholder(n.get("placeholder")),t.call(this,e,n,r)}return t.prototype.append=function(t,e){e.results=this.removePlaceholder(e.results),t.call(this,e)},t.prototype.normalizePlaceholder=function(t,e){return"string"==typeof e&&(e={id:"",text:e}),e},t.prototype.removePlaceholder=function(t,e){for(var n=e.slice(0),r=e.length-1;0<=r;r--){var i=e[r];this.placeholder.id===i.id&&n.splice(r,1)}return n},t}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function t(t,e,n,r){this.lastParams={},t.call(this,e,n,r),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return t.prototype.append=function(t,e){this.$loadingMore.remove(),this.loading=!1,t.call(this,e),this.showLoadingMore(e)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("query",function(t){r.lastParams=t,r.loading=!0}),e.on("query:append",function(t){r.lastParams=t,r.loading=!0}),this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var t=n.contains(document.documentElement,this.$loadingMore[0]);if(!this.loading&&t){var e=this.$results.offset().top+this.$results.outerHeight(!1);this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1)<=e+50&&this.loadMore()}},t.prototype.loadMore=function(){this.loading=!0;var t=n.extend({},{page:1},this.lastParams);t.page++,this.trigger("query:append",t)},t.prototype.showLoadingMore=function(t,e){return e.pagination&&e.pagination.more},t.prototype.createLoadingMore=function(){var t=n('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"></li>'),e=this.options.get("translations").get("loadingMore");return t.html(e(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(p,s){function t(t,e,n){this.$dropdownParent=p(n.get("dropdownParent")||document.body),t.call(this,e,n)}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("open",function(){r._showDropdown(),r._attachPositioningHandler(e),r._bindContainerResultHandlers(e)}),e.on("close",function(){r._hideDropdown(),r._detachPositioningHandler(e)}),this.$dropdownContainer.on("mousedown",function(t){t.stopPropagation()})},t.prototype.destroy=function(t){t.call(this),this.$dropdownContainer.remove()},t.prototype.position=function(t,e,n){e.attr("class",n.attr("class")),e.removeClass("select2"),e.addClass("select2-container--open"),e.css({position:"absolute",top:-999999}),this.$container=n},t.prototype.render=function(t){var e=p("<span></span>"),n=t.call(this);return e.append(n),this.$dropdownContainer=e},t.prototype._hideDropdown=function(t){this.$dropdownContainer.detach()},t.prototype._bindContainerResultHandlers=function(t,e){if(!this._containerResultsHandlersBound){var n=this;e.on("results:all",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:append",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("results:message",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("select",function(){n._positionDropdown(),n._resizeDropdown()}),e.on("unselect",function(){n._positionDropdown(),n._resizeDropdown()}),this._containerResultsHandlersBound=!0}},t.prototype._attachPositioningHandler=function(t,e){var n=this,r="scroll.select2."+e.id,i="resize.select2."+e.id,o="orientationchange.select2."+e.id,a=this.$container.parents().filter(s.hasScroll);a.each(function(){s.StoreData(this,"select2-scroll-position",{x:p(this).scrollLeft(),y:p(this).scrollTop()})}),a.on(r,function(t){var e=s.GetData(this,"select2-scroll-position");p(this).scrollTop(e.y)}),p(window).on(r+" "+i+" "+o,function(t){n._positionDropdown(),n._resizeDropdown()})},t.prototype._detachPositioningHandler=function(t,e){var n="scroll.select2."+e.id,r="resize.select2."+e.id,i="orientationchange.select2."+e.id;this.$container.parents().filter(s.hasScroll).off(n),p(window).off(n+" "+r+" "+i)},t.prototype._positionDropdown=function(){var t=p(window),e=this.$dropdown.hasClass("select2-dropdown--above"),n=this.$dropdown.hasClass("select2-dropdown--below"),r=null,i=this.$container.offset();i.bottom=i.top+this.$container.outerHeight(!1);var o={height:this.$container.outerHeight(!1)};o.top=i.top,o.bottom=i.top+o.height;var a=this.$dropdown.outerHeight(!1),s=t.scrollTop(),u=t.scrollTop()+t.height(),l=s<i.top-a,c=u>i.bottom+a,f={left:i.left,top:o.bottom},h=this.$dropdownParent;"static"===h.css("position")&&(h=h.offsetParent());var d={top:0,left:0};(p.contains(document.body,h[0])||h[0].isConnected)&&(d=h.offset()),f.top-=d.top,f.left-=d.left,e||n||(r="below"),c||!l||e?!l&&c&&e&&(r="below"):r="above",("above"==r||e&&"below"!==r)&&(f.top=o.top-d.top-a),null!=r&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+r),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+r)),this.$dropdownContainer.css(f)},t.prototype._resizeDropdown=function(){var t={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(t.minWidth=t.width,t.position="relative",t.width="auto"),this.$dropdown.css(t)},t.prototype._showDropdown=function(t){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},t}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function t(t,e,n,r){this.minimumResultsForSearch=n.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),t.call(this,e,n,r)}return t.prototype.showSearch=function(t,e){return!(function t(e){for(var n=0,r=0;r<e.length;r++){var i=e[r];i.children?n+=t(i.children):n++}return n}(e.data.results)<this.minimumResultsForSearch)&&t.call(this,e)},t}),t.define("select2/dropdown/selectOnClose",["../utils"],function(o){function t(){}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("close",function(t){r._handleSelectOnClose(t)})},t.prototype._handleSelectOnClose=function(t,e){if(e&&null!=e.originalSelect2Event){var n=e.originalSelect2Event;if("select"===n._type||"unselect"===n._type)return}var r=this.getHighlightedResults();if(!(r.length<1)){var i=o.GetData(r[0],"data");null!=i.element&&i.element.selected||null==i.element&&i.selected||this.trigger("select",{data:i})}},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function t(){}return t.prototype.bind=function(t,e,n){var r=this;t.call(this,e,n),e.on("select",function(t){r._selectTriggered(t)}),e.on("unselect",function(t){r._selectTriggered(t)})},t.prototype._selectTriggered=function(t,e){var n=e.originalEvent;n&&(n.ctrlKey||n.metaKey)||this.trigger("close",{originalEvent:n,originalSelect2Event:e})},t}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(t){var e=t.input.length-t.maximum,n="Please delete "+e+" character";return 1!=e&&(n+="s"),n},inputTooShort:function(t){return"Please enter "+(t.minimum-t.input.length)+" or more characters"},loadingMore:function(){return"Loading more results…"},maximumSelected:function(t){var e="You can only select "+t.maximum+" item";return 1!=t.maximum&&(e+="s"),e},noResults:function(){return"No results found"},searching:function(){return"Searching…"},removeAllItems:function(){return"Remove all items"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(l,c,f,h,d,p,g,v,y,m,a,e,_,x,E,b,w,M,C,T,S,A,D,L,N,k,O,$,t){function n(){this.reset()}return n.prototype.apply=function(t){if(null==(t=l.extend(!0,{},this.defaults,t)).dataAdapter){if(null!=t.ajax?t.dataAdapter=E:null!=t.data?t.dataAdapter=x:t.dataAdapter=_,0<t.minimumInputLength&&(t.dataAdapter=m.Decorate(t.dataAdapter,M)),0<t.maximumInputLength&&(t.dataAdapter=m.Decorate(t.dataAdapter,C)),0<t.maximumSelectionLength&&(t.dataAdapter=m.Decorate(t.dataAdapter,T)),t.tags&&(t.dataAdapter=m.Decorate(t.dataAdapter,b)),null==t.tokenSeparators&&null==t.tokenizer||(t.dataAdapter=m.Decorate(t.dataAdapter,w)),null!=t.query){var e=c(t.amdBase+"compat/query");t.dataAdapter=m.Decorate(t.dataAdapter,e)}if(null!=t.initSelection){var n=c(t.amdBase+"compat/initSelection");t.dataAdapter=m.Decorate(t.dataAdapter,n)}}if(null==t.resultsAdapter&&(t.resultsAdapter=f,null!=t.ajax&&(t.resultsAdapter=m.Decorate(t.resultsAdapter,L)),null!=t.placeholder&&(t.resultsAdapter=m.Decorate(t.resultsAdapter,D)),t.selectOnClose&&(t.resultsAdapter=m.Decorate(t.resultsAdapter,O))),null==t.dropdownAdapter){if(t.multiple)t.dropdownAdapter=S;else{var r=m.Decorate(S,A);t.dropdownAdapter=r}if(0!==t.minimumResultsForSearch&&(t.dropdownAdapter=m.Decorate(t.dropdownAdapter,k)),t.closeOnSelect&&(t.dropdownAdapter=m.Decorate(t.dropdownAdapter,$)),null!=t.dropdownCssClass||null!=t.dropdownCss||null!=t.adaptDropdownCssClass){var i=c(t.amdBase+"compat/dropdownCss");t.dropdownAdapter=m.Decorate(t.dropdownAdapter,i)}t.dropdownAdapter=m.Decorate(t.dropdownAdapter,N)}if(null==t.selectionAdapter){if(t.multiple?t.selectionAdapter=d:t.selectionAdapter=h,null!=t.placeholder&&(t.selectionAdapter=m.Decorate(t.selectionAdapter,p)),t.allowClear&&(t.selectionAdapter=m.Decorate(t.selectionAdapter,g)),t.multiple&&(t.selectionAdapter=m.Decorate(t.selectionAdapter,v)),null!=t.containerCssClass||null!=t.containerCss||null!=t.adaptContainerCssClass){var o=c(t.amdBase+"compat/containerCss");t.selectionAdapter=m.Decorate(t.selectionAdapter,o)}t.selectionAdapter=m.Decorate(t.selectionAdapter,y)}t.language=this._resolveLanguage(t.language),t.language.push("en");for(var a=[],s=0;s<t.language.length;s++){var u=t.language[s];-1===a.indexOf(u)&&a.push(u)}return t.language=a,t.translations=this._processTranslations(t.language,t.debug),t},n.prototype.reset=function(){function s(t){return t.replace(/[^\u0000-\u007E]/g,function(t){return e[t]||t})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:m.escapeMarkup,language:{},matcher:function t(e,n){if(""===l.trim(e.term))return n;if(n.children&&0<n.children.length){for(var r=l.extend(!0,{},n),i=n.children.length-1;0<=i;i--)null==t(e,n.children[i])&&r.children.splice(i,1);return 0<r.children.length?r:t(e,r)}var o=s(n.text).toUpperCase(),a=s(e.term).toUpperCase();return-1<o.indexOf(a)?n:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(t){return t},templateResult:function(t){return t.text},templateSelection:function(t){return t.text},theme:"default",width:"resolve"}},n.prototype.applyFromElement=function(t,e){var n=t.language,r=this.defaults.language,i=e.prop("lang"),o=e.closest("[lang]").prop("lang"),a=Array.prototype.concat.call(this._resolveLanguage(i),this._resolveLanguage(n),this._resolveLanguage(r),this._resolveLanguage(o));return t.language=a,t},n.prototype._resolveLanguage=function(t){if(!t)return[];if(l.isEmptyObject(t))return[];if(l.isPlainObject(t))return[t];var e;e=l.isArray(t)?t:[t];for(var n=[],r=0;r<e.length;r++)if(n.push(e[r]),"string"==typeof e[r]&&0<e[r].indexOf("-")){var i=e[r].split("-")[0];n.push(i)}return n},n.prototype._processTranslations=function(t,e){for(var n=new a,r=0;r<t.length;r++){var i=new a,o=t[r];if("string"==typeof o)try{i=a.loadPath(o)}catch(t){try{o=this.defaults.amdLanguageBase+o,i=a.loadPath(o)}catch(t){e&&window.console&&console.warn}}else i=l.isPlainObject(o)?new a(o):o;n.extend(i)}return n},n.prototype.set=function(t,e){var n={};n[l.camelCase(t)]=e;var r=m._convertData(n);l.extend(!0,this.defaults,r)},new n}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(r,c,i,f){function t(t,e){if(this.options=t,null!=e&&this.fromElement(e),null!=e&&(this.options=i.applyFromElement(this.options,e)),this.options=i.apply(this.options),e&&e.is("input")){var n=r(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=f.Decorate(this.options.dataAdapter,n)}}return t.prototype.fromElement=function(t){var e=["select2"];null==this.options.multiple&&(this.options.multiple=t.prop("multiple")),null==this.options.disabled&&(this.options.disabled=t.prop("disabled")),null==this.options.dir&&(t.prop("dir")?this.options.dir=t.prop("dir"):t.closest("[dir]").prop("dir")?this.options.dir=t.closest("[dir]").prop("dir"):this.options.dir="ltr"),t.prop("disabled",this.options.disabled),t.prop("multiple",this.options.multiple),f.GetData(t[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn,f.StoreData(t[0],"data",f.GetData(t[0],"select2Tags")),f.StoreData(t[0],"tags",!0)),f.GetData(t[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn,t.attr("ajax--url",f.GetData(t[0],"ajaxUrl")),f.StoreData(t[0],"ajax-Url",f.GetData(t[0],"ajaxUrl")));var n={};function r(t,e){return e.toUpperCase()}for(var i=0;i<t[0].attributes.length;i++){var o=t[0].attributes[i].name;if("data-"==o.substr(0,"data-".length)){var a=o.substring("data-".length),s=f.GetData(t[0],a);n[a.replace(/-([a-z])/g,r)]=s}}c.fn.jquery&&"1."==c.fn.jquery.substr(0,2)&&t[0].dataset&&(n=c.extend(!0,{},t[0].dataset,n));var u=c.extend(!0,{},f.GetData(t[0]),n);for(var l in u=f._convertData(u))-1<c.inArray(l,e)||(c.isPlainObject(this.options[l])?c.extend(this.options[l],u[l]):this.options[l]=u[l]);return this},t.prototype.get=function(t){return this.options[t]},t.prototype.set=function(t,e){this.options[t]=e},t}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(o,l,c,r){var f=function(t,e){null!=c.GetData(t[0],"select2")&&c.GetData(t[0],"select2").destroy(),this.$element=t,this.id=this._generateId(t),e=e||{},this.options=new l(e,t),f.__super__.constructor.call(this);var n=t.attr("tabindex")||0;c.StoreData(t[0],"old-tabindex",n),t.attr("tabindex","-1");var r=this.options.get("dataAdapter");this.dataAdapter=new r(t,this.options);var i=this.render();this._placeContainer(i);var o=this.options.get("selectionAdapter");this.selection=new o(t,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,i);var a=this.options.get("dropdownAdapter");this.dropdown=new a(t,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,i);var s=this.options.get("resultsAdapter");this.results=new s(t,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var u=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(t){u.trigger("selection:update",{data:t})}),t.addClass("select2-hidden-accessible"),t.attr("aria-hidden","true"),this._syncAttributes(),c.StoreData(t[0],"select2",this),t.data("select2",this)};return c.Extend(f,c.Observable),f.prototype._generateId=function(t){return"select2-"+(null!=t.attr("id")?t.attr("id"):null!=t.attr("name")?t.attr("name")+"-"+c.generateChars(2):c.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},f.prototype._placeContainer=function(t){t.insertAfter(this.$element);var e=this._resolveWidth(this.$element,this.options.get("width"));null!=e&&t.css("width",e)},f.prototype._resolveWidth=function(t,e){var n=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==e){var r=this._resolveWidth(t,"style");return null!=r?r:this._resolveWidth(t,"element")}if("element"==e){var i=t.outerWidth(!1);return i<=0?"auto":i+"px"}if("style"!=e)return"computedstyle"!=e?e:window.getComputedStyle(t[0]).width;var o=t.attr("style");if("string"!=typeof o)return null;for(var a=o.split(";"),s=0,u=a.length;s<u;s+=1){var l=a[s].replace(/\s/g,"").match(n);if(null!==l&&1<=l.length)return l[1]}return null},f.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},f.prototype._registerDomEvents=function(){var e=this;this.$element.on("change.select2",function(){e.dataAdapter.current(function(t){e.trigger("selection:update",{data:t})})}),this.$element.on("focus.select2",function(t){e.trigger("focus",t)}),this._syncA=c.bind(this._syncAttributes,this),this._syncS=c.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=t?(this._observer=new t(function(t){e._syncA(),e._syncS(null,t)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",e._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",e._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",e._syncS,!1))},f.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,e){n.trigger(t,e)})},f.prototype._registerSelectionEvents=function(){var n=this,r=["toggle","focus"];this.selection.on("toggle",function(){n.toggleDropdown()}),this.selection.on("focus",function(t){n.focus(t)}),this.selection.on("*",function(t,e){-1===o.inArray(t,r)&&n.trigger(t,e)})},f.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,e){n.trigger(t,e)})},f.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,e){n.trigger(t,e)})},f.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")}),this.on("close",function(){n.$container.removeClass("select2-container--open")}),this.on("enable",function(){n.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){n.$container.addClass("select2-container--disabled")}),this.on("blur",function(){n.$container.removeClass("select2-container--focus")}),this.on("query",function(e){n.isOpen()||n.trigger("open",{}),this.dataAdapter.query(e,function(t){n.trigger("results:all",{data:t,query:e})})}),this.on("query:append",function(e){this.dataAdapter.query(e,function(t){n.trigger("results:append",{data:t,query:e})})}),this.on("keypress",function(t){var e=t.which;n.isOpen()?e===r.ESC||e===r.TAB||e===r.UP&&t.altKey?(n.close(t),t.preventDefault()):e===r.ENTER?(n.trigger("results:select",{}),t.preventDefault()):e===r.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):e===r.UP?(n.trigger("results:previous",{}),t.preventDefault()):e===r.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(e===r.ENTER||e===r.SPACE||e===r.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},f.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},f.prototype._isChangeMutation=function(t,e){var n=!1,r=this;if(!t||!t.target||"OPTION"===t.target.nodeName||"OPTGROUP"===t.target.nodeName){if(e)if(e.addedNodes&&0<e.addedNodes.length)for(var i=0;i<e.addedNodes.length;i++){e.addedNodes[i].selected&&(n=!0)}else e.removedNodes&&0<e.removedNodes.length?n=!0:o.isArray(e)&&o.each(e,function(t,e){if(r._isChangeMutation(t,e))return!(n=!0)});else n=!0;return n}},f.prototype._syncSubtree=function(t,e){var n=this._isChangeMutation(t,e),r=this;n&&this.dataAdapter.current(function(t){r.trigger("selection:update",{data:t})})},f.prototype.trigger=function(t,e){var n=f.__super__.trigger,r={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===e&&(e={}),t in r){var i=r[t],o={prevented:!1,name:t,args:e};if(n.call(this,i,o),o.prevented)return void(e.prevented=!0)}n.call(this,t,e)},f.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},f.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},f.prototype.close=function(t){this.isOpen()&&this.trigger("close",{originalEvent:t})},f.prototype.isEnabled=function(){return!this.isDisabled()},f.prototype.isDisabled=function(){return this.options.get("disabled")},f.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},f.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},f.prototype.focus=function(t){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},f.prototype.enable=function(t){this.options.get("debug")&&window.console&&console.warn,null!=t&&0!==t.length||(t=[!0]);var e=!t[0];this.$element.prop("disabled",e)},f.prototype.data=function(){this.options.get("debug")&&0<arguments.length&&window.console&&console.warn;var e=[];return this.dataAdapter.current(function(t){e=t}),e},f.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn,null==t||0===t.length)return this.$element.val();var e=t[0];o.isArray(e)&&(e=o.map(e,function(t){return t.toString()})),this.$element.val(e).trigger("input").trigger("change")},f.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",c.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),c.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},f.prototype.render=function(){var t=o('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),c.StoreData(t[0],"element",this.$element),t},f}),t.define("jquery-mousewheel",["jquery"],function(t){return t}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(i,t,o,e,a){if(null==i.fn.select2){var s=["open","close","destroy"];i.fn.select2=function(e){if("object"==typeof(e=e||{}))return this.each(function(){var t=i.extend(!0,{},e);new o(i(this),t)}),this;if("string"!=typeof e)throw new Error("Invalid arguments for Select2: "+e);var n,r=Array.prototype.slice.call(arguments,1);return this.each(function(){var t=a.GetData(this,"select2");null==t&&window.console&&console.error,n=t[e].apply(t,r)}),-1<i.inArray(e,s)?this:n}}return null==i.fn.select2.defaults&&(i.fn.select2.defaults=e),o}),{define:t.define,require:t.require}}(),e=t.require("jquery.select2");return n.fn.select2.amd=t,e});var COLORS={null:"#d9d9d9",white:"#FFFFFF",gray1:"#F5F5F5",gray2:"#E3E3E3",gray3:"#DCDBDB",gray4:"#D2D2D2",gray5:"#9D9D9D",gray6:"#696969",gray7:"#353535","near-black":"gray7",cyan:"#1696D2",urbanBlue:[[],["#1696D2"],["#a2d4ec","#1696D2"],["#a2d4ec","#1696D2","#0a4c6a"],["#cfe8f3","#73bfe2","#1696D2","#0a4c6a"],["#cfe8f3","#73bfe2","#1696D2","#0a4c6a","#000000"],["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e"],["#cfe8f3","#a2d4ec","#73bfe2","#46abdb","#1696d2","#12719e","#000000"]],categorical:[[],["#1696D2"],["#1696D2","#000000"],["#1696D2","#FDBF11","#000000"],["#1696D2","#D2D2D2","#FDBF11","#000000"],["#1696D2","#FDBF11","#D2D2D2","#EC008B","#000000"],["#1696D2","#EC008B","#FDBF11","#000000","#D2D2D2","#55B748"]],categorical2:[[],["#1696D2"],["#1696D2","#FDBF11"],["#1696D2","#FDBF11","#000000"],["#1696D2","#EC008B","#FDBF11","#5C5859"],["#1696D2","#0A4C6A","#D2D2D2","#FDBF11","#332D2F"],["#1696D2","#D2D2D2","#EC008B","#FDBF11","#332D2F","#0A4C6A"]],gray:[[],["#d2d2d2"],["#D2D2D2","#696969"],["#D2D2D2","#9D9D9D","#696969"],["#D2D2D2","#9D9D9D","#696969","#353535"],["#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"],["#E3E3E3","#DCDBDB","#D2D2D2","#9D9D9D","#696969","#353535"]],yellow:[[],["#FDBF11"],["#FDBF11","#E88E2D"],["#FDBF11","#E88E2D","#CA5800"],["#FDBF11","#E88E2D","#CA5800","#843215"],["#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"],["#FDD870","#FCCB41","#FDBF11","#E88E2D","#CA5800","#843215"]],magenta:[[],["#EC008B"],["#EC008B","#AF1F6B"],["#EC008B","#AF1F6B","#761548"],["#EC008B","#AF1F6B","#761548","#351123"],["#E54096","#EC008B","#AF1F6B","#761548","#351123"],["#E46AA7","#E54096","#EC008B","#AF1F6B","#761548","#351123"]],green:[[],["#55B748"],["#55B748","#408941"],["#55B748","#408941","#2C5C2D"],["#55B748","#408941","#2C5C2D","#1A2E19"],["#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"],["#98CF90","#78C26D","#55B748","#408941","#2C5C2D","#1A2E19"]],spaceGray:[[],["#5C5859"],["#5C5859","#332D2F"],["#5C5859","#332D2F","#262223"],["#5C5859","#332D2F","#262223","#1A1717"],["#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"],["#848081","#5C5859","#332D2F","#262223","#1A1717","#0E0C0D"]],red:[[],["#DB2B27"],["#DB2B27","#A4201D"],["#DB2B27","#A4201D","#6E1614"],["#DB2B27","#A4201D","#6E1614","#370B0A"],["#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"],["#E9807D","#E25552","#DB2B27","#A4201D","#6E1614","#370B0A"]]};function toggle_visibility(t){var e=document.getElementById(t);"inline-block"==e.style.display?e.style.display="none":e.style.display="inline-block"}function classify(t){return t.replace(/\W+/g,"-").toLowerCase()}function capFirstLetter(t){return t.charAt(0).toUpperCase()+t.slice(1)}d3.selection.prototype.moveToFront=function(){return this.each(function(){this.parentNode.appendChild(this)})};var stateAbbrevs=["AL","AK","AZ","AR","CA","CO","CT","DE","DC","FL","GA","HI","ID","IL","IN","IA","KS","KY","LA","ME","MD","MA","MI","MN","MS","MO","MT","NE","NV","NH","NJ","NM","NY","NC","ND","OH","OK","OR","PA","RI","SC","SD","TN","TX","UT","VT","VA","WA","WV","WI","WY","US"],fipsNames={"01":"AL","02":"AK","04":"AZ","05":"AR","06":"CA","08":"CO","09":"CT",10:"DE",11:"DC",12:"FL",13:"GA",66:"GU",15:"HI",16:"ID",17:"IL",18:"IN",19:"IA",20:"KS",21:"KY",22:"LA",23:"ME",24:"MD",25:"MA",26:"MI",27:"MN",28:"MS",29:"MO",30:"MT",31:"NE",32:"NV",33:"NH",34:"NJ",35:"NM",36:"NY",37:"NC",38:"ND",39:"OH",40:"OK",41:"OR",70:"Palau",42:"PA",72:"PR",44:"RI",45:"SC",46:"SD",47:"TN",48:"TX",49:"UT",50:"VT",51:"VA",78:"VI",53:"WA",54:"WV",55:"WI",56:"WY"},nameFips={AL:"01",AK:"02",AZ:"04",AR:"05",CA:"06",CO:"08",CT:"09",DE:"10",DC:"11",FL:"12",GA:"13",GU:"66",HI:"15",ID:"16",IL:"17",IN:"18",IA:"19",KS:"20",KY:"21",LA:"22",ME:"23",MD:"24",MA:"25",MI:"26",MN:"27",MS:"28",MO:"29",MT:"30",NE:"31",NV:"32",NH:"33",NJ:"34",NM:"35",NY:"36",NC:"37",ND:"38",OH:"39",OK:"40",OR:"41",Palau:"70",PA:"42",PR:"72",RI:"44",SC:"45",SD:"46",TN:"47",TX:"48",UT:"49",VT:"50",VA:"51",VI:"78",WA:"53",WV:"54",WI:"55",WY:"56"},stateNameLookup={AL:"Alabama",AK:"Alaska",AS:"American Samoa",AZ:"Arizona",AR:"Arkansas",CA:"California",CO:"Colorado",CT:"Connecticut",DE:"Delaware",DC:"District Of Columbia",FM:"Federated States Of Micronesia",FL:"Florida",GA:"Georgia",GU:"Guam",HI:"Hawaii",ID:"Idaho",IL:"Illinois",IN:"Indiana",IA:"Iowa",KS:"Kansas",KY:"Kentucky",LA:"Louisiana",ME:"Maine",MH:"Marshall Islands",MD:"Maryland",MA:"Massachusetts",MI:"Michigan",MN:"Minnesota",MS:"Mississippi",MO:"Missouri",MT:"Montana",NE:"Nebraska",NV:"Nevada",NH:"New Hampshire",NJ:"New Jersey",NM:"New Mexico",NY:"New York",NC:"North Carolina",ND:"North Dakota",MP:"Northern Mariana Islands",OH:"Ohio",OK:"Oklahoma",OR:"Oregon",PW:"Palau",PA:"Pennsylvania",PR:"Puerto Rico",RI:"Rhode Island",SC:"South Carolina",SD:"South Dakota",TN:"Tennessee",TX:"Texas",UT:"Utah",VT:"Vermont",VI:"Virgin Islands",VA:"Virginia",WA:"Washington",WV:"West Virginia",WI:"Wisconsin",WY:"Wyoming"};function getQueryParam(t,e,n){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var r=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(location.search);if(null===r)return e;var i=decodeURIComponent(r[1].replace(/\+/g," "));return Array.isArray(e)?i.split(",").filter(function(t){return-1!=n.indexOf(t)}):"all"===n?i:-1==n.indexOf(i)?e:-1<n.indexOf(i)?i:void 0}function getShareUrl(){for(var t=window.location.origin+window.location.pathname,e=[[SELECTED_CAT,"cat","subp_credit_all"],[SELECTED_MONTH,"month","10/1/2020"],[SELECTED_COUNTY,"county",""],[SELECTED_STATE,"state","US"],[GEOG_LEVEL,"geog","nation"]],n=0,r=0;r<e.length;r++){var i=e[r][0],o=e[r][1],a=i;a!=e[r][2]&&(t+=1==(n+=1)?"?":"&","month"===o&&(a=encodeURIComponent(a)),t+=o+"="+a)}var s=$("#shareUrlBtn").offset().left-50,u=$("#shareUrlBtn").offset().top-120;return IS_MOBILE&&(s+=33),d3.select("#share-tooltip > input").attr("value",t),d3.select("#share-tooltip").style("display","block").style("top",u+"px").style("left",s+"px"),d3.selectAll(".copy-button").on("click",function(){d3.event.stopPropagation(),copyTextToClipboard(t),d3.select(this.parentNode).select(".copied-text").style("opacity",1).transition().delay(1500).duration(1e3).style("opacity",0)}),d3.select("#share-tooltip").transition().delay(3e3).style("display","none"),t}function fallbackCopyTextToClipboard(t){var e=document.createElement("textarea");e.value=t,document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")}catch(t){}document.body.removeChild(e)}function copyTextToClipboard(t){navigator.clipboard?navigator.clipboard.writeText(t).then(function(){},function(t){}):fallbackCopyTextToClipboard(t)}window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=function(t,e){e=e||window;for(var n=0;n<this.length;n++)t.call(e,this[n],n,this)});var SELECTED_CAT,SELECTED_MONTH,SELECTED_STATE,SELECTED_COUNTY,GEOG_LEVEL,COUNTY_IDS,DEMOS=["all","coc","whi"],EXPANDED_DEMOS=["all","whi","bla","lat","api","nat"],IS_MOBILE=document.body.clientWidth<800,parseTime=d3.timeParse("%m/%d/%Y"),dataMonths=["2/1/2020","4/1/2020","6/1/2020","8/1/2020","10/1/2020"],tickValues=dataMonths.map(function(t){return parseTime(t)}),nanCounterLimit=3;function formatScore(t){return"median_credit_score_all"===SELECTED_CAT?t:"median_debt_in_collect_all"===SELECTED_CAT?d3.format("$,")(t):d3.format(".1f")(t)+"%"}var margin={top:20,right:20,bottom:20,left:30},containerWidth=parseFloat(d3.select("#map-container").style("width"))-margin.left-margin.right,mapWidth=parseFloat(d3.select("#map-container").style("width")),mapRatio=.7,mapHeight=mapWidth*mapRatio,usMap=d3.select("svg.map").attr("height",mapHeight+"px").attr("width",mapWidth+"px"),mobileShrinkAmt=0,lineChartOuterDiv=IS_MOBILE?".state-lines":"#line-chart-container",lineChartDivWidth=parseFloat(d3.select(lineChartOuterDiv).style("width"))-mobileShrinkAmt,lineChartRatio=200/276,lineChartDivHeight=lineChartDivWidth*lineChartRatio,lineMargin={top:0,right:25,bottom:50,left:45},lineChartWidth=lineChartDivWidth-lineMargin.left-lineMargin.right,lineChartHeight=lineChartDivHeight-lineMargin.top-lineMargin.bottom,lineChartSvg=d3.select(".state-lines").append("svg").attr("width",lineChartWidth+lineMargin.left+lineMargin.right).attr("height",lineChartHeight+lineMargin.top+lineMargin.bottom).append("g").attr("transform","translate("+lineMargin.left+","+lineMargin.top+")"),axisTickExtender=20,lineYAxis=lineChartSvg.append("g").attr("class","grid"),lineXAxis=lineChartSvg.append("g").attr("class","x-axis").attr("transform","translate(0,"+(lineChartHeight+3)+")"),xScale=d3.scaleTime().range([0,lineChartWidth]).domain([parseTime(dataMonths[0]),parseTime(dataMonths[dataMonths.length-1])]),y=d3.scaleLinear().range([lineChartHeight,0]),xAxis=d3.axisBottom(xScale).tickFormat(function(t){return d3.timeFormat("%b")(t)}).tickValues(tickValues),yAxis=d3.axisLeft(y).tickSize(-lineChartWidth-axisTickExtender).ticks(4).tickFormat(function(t,e){return"median_credit_score_all"===SELECTED_CAT?t:"median_debt_in_collect_all"===SELECTED_CAT?d3.format("$,")(t):d3.format(".1f")(t)+"%"}),line=d3.line(),lilChartLine=d3.line(),lilChartDivWidth=parseInt(d3.select("#median-credit-and-race-chart").style("width")),lilChartAspectRatio=.7,lilChartDivHeight=lilChartDivWidth*lilChartAspectRatio,lilChartMargin={top:0,right:15,bottom:30,left:35},lilChartWidth=lilChartDivWidth-lilChartMargin.left-lilChartMargin.right,lilChartHeight=lilChartDivHeight-lilChartMargin.top-lilChartMargin.bottom,lilChartSvg=d3.select("#median-credit-and-race-chart").append("svg").attr("width",lilChartWidth+lilChartMargin.left+lilChartMargin.right).attr("height",lilChartHeight+lilChartMargin.top+lilChartMargin.bottom).append("g").attr("transform","translate("+lilChartMargin.left+","+lilChartMargin.top+")"),xLilChart=d3.scaleTime().range([0,lilChartWidth]).domain([parseTime(dataMonths[0]),parseTime(dataMonths[dataMonths.length-1])]),yLilChart=d3.scaleLinear().range([lilChartHeight,0]).domain([550,750]),lineLilChart=d3.line().x(function(t){return xLilChart(parseTime(t.date))}).y(function(t){return yLilChart(+t.value)}).defined(function(t){return!isNaN(t.value)}),lilChartYAxisG=lilChartSvg.append("g").attr("class","grid"),lilChartXAxisG=lilChartSvg.append("g").attr("class","x-axis").attr("transform","translate(0,"+lilChartHeight+")"),xAxisLilChart=d3.axisBottom(xLilChart).tickFormat(function(t){return d3.timeFormat("%b")(t)}).tickValues(tickValues),yAxisLilChart=d3.axisLeft(yLilChart).tickSize(-lilChartWidth-axisTickExtender).ticks(4),colorScheme={nation:{all:"#FDBF11",whi:"#55B748",bla:"#1696D2",lat:"#EC008B",api:"#0A4C6A",nat:"#9D9D9D"},state:{all:"#FDBF11",coc:"#55B748",whi:"#1696D2","us-all":"#000000"},county:{"ct-all":"#FDBF11","ct-coc":"#55B748","ct-whi":"#1696D2","us-all":"#000000","st-all":"#9D9D9D"}},clusterScale=d3.scaleCluster();function dataReady(t,c,f,h,d,e,o,l){var n=e.map(function(t){return t.id});SELECTED_CAT=getQueryParam("cat","subp_credit_all",["subp_credit_all","debt_in_collect_all","median_debt_in_collect_all","avg_cc_util_all","stud_loan_del_rate_all","cc_del_rate_all","auto_retail_loan_del_rate_all","mortgage_del_rate_all","afs_cred_all","del_afs_credit_rate_all"," median_credit_score_all"]),SELECTED_MONTH=getQueryParam("month","2/1/2020",["2/1/2020","4/1/2020","6/1/2020","8/1/2020","10/1/2020"]),SELECTED_COUNTY=getQueryParam("county","",n),SELECTED_STATE=getQueryParam("state","US",stateAbbrevs),GEOG_LEVEL=getQueryParam("geog","nation",["nation","state","county"]);var p=d3.map(e,function(t){return t.id});COUNTY_IDS=e.map(function(t){return t.id}),d.forEach(function(t){t.demo=t.value.substring(t.value.length-3,t.value.length)});var g,v=d3.nest().key(function(t){return t.place}).map(c),m=d.filter(function(t){return"all"===t.demo});function _(){for(var t=[],e=0,n=0;n<o.length;n++)if(o[n].id.length<3&&t.push(o[n]),void 0!==v.get(o[n].id)){for(var r=v.get(o[n].id),i=0;i<r.length;i++)isNaN(r[i][SELECTED_CAT])&&(e+=1);e<nanCounterLimit&&t.push(o[n]),e=0}return"state"!==GEOG_LEVEL&&"county"!==GEOG_LEVEL||(t=t.filter(function(t){return t.id.substring(0,2)===nameFips[SELECTED_STATE]})),t}function i(t){var e,n,r;if("US"===t)e=m;else if("US"!==t&&t.length<5)e=m;else{for(var i=0,o=v.get(t),a=[],s=0;s<m.length;s++){for(var u=0;u<o.length;u++)isNaN(o[u][m[s].value])&&(i+=1);i<nanCounterLimit&&a.push(m[s]),i=0}e=a}n=e,(r=d3.select("#dropdown").selectAll("option").data(n,function(t){return t.value})).enter().append("option").text(function(t){var e;return e=IS_MOBILE?(e=(e=t.label.substring(0,t.label.length-5).replace("afs","AFS")).toLowerCase())[0].toUpperCase()+e.substring(1):t.label.substring(0,t.label.length-5).toLowerCase().replace("afs","AFS")}).attr("value",function(t){return t.value}),r.transition().text(function(t){var e;return e=IS_MOBILE?(e=(e=t.label.substring(0,t.label.length-5).replace("afs","AFS")).toLowerCase())[0].toUpperCase()+e.substring(1):t.label.substring(0,t.label.length-5).toLowerCase().replace("afs","AFS")}).attr("value",function(t){return t.value}),r.exit().remove(),$("#dropdown").selectmenu({change:function(t,e){SELECTED_CAT=this.value;var n=d.filter(function(t){return t.value===SELECTED_CAT})[0].label.split(",")[0];if(d3.selectAll(".dek").text(n),E(),x(),!IS_MOBILE){$("#text-measurer").text(n);var r=$("#text-measurer").width();$(".ui-selectmenu-text").css("width",r+5+"px"),$("#dropdown-button").css("width",r+50+"px")}$(".stateCountySearch").empty().select2({data:_(),placeholder:"Search for your state or county",multiple:!0,maximumSelectionLength:2}),"nation"===GEOG_LEVEL?D():"state"===GEOG_LEVEL?(L(),$(".stateCountySearch").val(SELECTED_STATE).trigger("change")):(N(),$(".stateCountySearch").val([SELECTED_COUNTY,nameFips[SELECTED_STATE]]).trigger("change"),$("ul.select2-selection__rendered > li:nth-child(2)").css("left",C))}}),$("#dropdown").val(SELECTED_CAT),$("#dropdown").selectmenu("refresh")}function r(){var t=o.filter(function(t){return t.id.length<3});t.unshift({id:"US",text:"United States"}),d3.select("#mobile-state-dropdown").selectAll("option").data(t).enter().append("option").text(function(t){return t.text}).attr("value",function(t){return t.id}),$("#mobile-state-dropdown").selectmenu({change:function(t,e){T(t);var n=_();n.unshift({id:"",text:""}),function(t){$("#mobile-state-dropdown").val();d3.select("#mobile-county-dropdown").selectAll("option").remove(),d3.select("#mobile-county-dropdown").selectAll("option").data(t).enter().append("option").text(function(t){return t.text}).attr("value",function(t){return t.id}),$("#mobile-county-dropdown").selectmenu("refresh"),$("#mobile-county-dropdown-button").css("opacity",1)}(n);var r=e.item.value;i(r),"US"===r&&($("#mobile-county-dropdown").empty(),$("#mobile-county-dropdown").selectmenu("refresh"),$("#mobile-county-dropdown-button").css("opacity",.5))}}),$("#mobile-county-dropdown").selectmenu({change:function(t,e){T(t),i(e.item.value)}}),$("#mobile-county-dropdown-button").css("opacity",.5)}function x(){var t=d.filter(function(t){return t.value===SELECTED_CAT})[0].label,e=t.substring(0,t.length-5).toLowerCase().replace("afs","AFS"),n=d3.timeFormat("%B %Y")(parseTime(SELECTED_MONTH)),r="",i="",o="",a="",s="<b>Notes:</b> Detailed race data are not available for communities that are too small. NA = Native American.";if("state"===GEOG_LEVEL)r=stateNameLookup[SELECTED_STATE],s,i=f.filter(function(t){return t.place===SELECTED_STATE})[dataMonths.indexOf(SELECTED_MONTH)][SELECTED_CAT],a=o="",$("#readout > li.state > span.place").text(r),$("#readout > li.state > span.pct").text(formatScore(i));else if("county"===GEOG_LEVEL){o=p.get(SELECTED_COUNTY).county,s,a=c.filter(function(t){return t.date===SELECTED_MONTH}).filter(function(t){return t.place===SELECTED_COUNTY})[0][SELECTED_CAT],i=f.filter(function(t){return t.place===SELECTED_STATE})[dataMonths.indexOf(SELECTED_MONTH)][SELECTED_CAT];var u="LA"===SELECTED_STATE?" Parish, ":" County ";r=o+u+stateNameLookup[SELECTED_STATE],$("#readout > li.state > span.place").text(stateNameLookup[SELECTED_STATE]),$("#readout > li.state > span.pct").text(formatScore(i)),$("#readout > li.county > span.place").text(o+u),$("#readout > li.county > span.pct").text(formatScore(a))}else{r="the United States","<b>Source:</b> Tabulations of Urban Institute credit bureau data.<br><b>Notes:</b> NA = “Not available.” Data for this location are not available because the sample size is too small. Detailed race data are not available for communities that are too small. See the “About the Data” section for an explanation of how we define communities of color and majority-white, Black, Hispanic, and Native communities.";var l=h[dataMonths.indexOf(SELECTED_MONTH)][SELECTED_CAT];l="median_credit_score_all"===SELECTED_CAT?l:"median_debt_in_collect_all"===SELECTED_CAT?d3.format("$,")(l):d3.format(".1f")(l)+"%",$("#readout > li.nation > span.pct").text(l)}l=h[dataMonths.indexOf(SELECTED_MONTH)][SELECTED_CAT];$("#readout > li.nation > span.pct").text(formatScore(l)),$(".title-measure-name").text(capFirstLetter(e)),$(".map-title-date").text(n),$(".line-title-name").text(r)}$(".stateCountySearch").select2({data:_(),placeholder:"Search for your state or county"}),"state"===GEOG_LEVEL?$(".stateCountySearch").val(SELECTED_STATE).trigger("change"):($(".stateCountySearch").val([SELECTED_COUNTY,nameFips[SELECTED_STATE]]).trigger("change"),$("ul.select2-selection__rendered > li:nth-child(2)").css("left",C)),$(".stateCountySearch").on("select2:select",function(t){T(t),i(t.params.data.id)}),$(".stateCountySearch").on("select2:unselect",function(t){var e=t.params.data.id,n=e.substring(0,2);2<e.length?(GEOG_LEVEL="state",d3.selectAll(".counties").classed("selected",!1),$("#readout > li.county > span.place").text(""),$("#readout > li.county > span.pct").text(""),$("#readout > li").removeClass("mouse-mate"),$("#readout > li.state").addClass("mouse-mate"),L()):(w.fitExtent([[0,0],[mapWidth,mapHeight]],s),usMap.selectAll(".counties").attr("d",M),usMap.selectAll(".state-outlines").attr("d",M),d3.selectAll(".counties").attr("stroke-width",.5),GEOG_LEVEL="nation",SELECTED_STATE="US",SELECTED_COUNTY="",$("#readout > li.county > span.place").text(""),$("#readout > li.county > span.pct").text(""),$("#readout > li.state > span.place").text(""),$("#readout > li.state > span.pct").text(""),d3.selectAll("path.state-outlines").attr("stroke","#FFFFFF").attr("stroke-width",2),d3.select(".counties.selected").classed("selected",!1),D()),x(),i(n),$(".stateCountySearch").empty().select2({data:_(),placeholder:"Search for your state or county",multiple:!0,maximumSelectionLength:2}),"state"===GEOG_LEVEL?$(".stateCountySearch").val(n).trigger("change"):"county"===GEOG_LEVEL&&($(".stateCountySearch").val([e,n]).trigger("change"),$("ul.select2-selection__rendered > li:nth-child(2)").css("left",C))}),IS_MOBILE&&r(),$(".zoom-btn-wrapper").on("click",function(t){w.fitExtent([[0,0],[mapWidth,mapHeight]],s),usMap.selectAll(".counties").attr("d",M),usMap.selectAll(".state-outlines").attr("d",M),GEOG_LEVEL="nation",SELECTED_STATE="US",SELECTED_COUNTY="",$("#readout > li.county > span.place").text(""),$("#readout > li.county > span.pct").text(""),$("#readout > li.state > span.place").text(""),$("#readout > li.state > span.pct").text(""),d3.selectAll("path.state-outlines").attr("stroke","#FFFFFF").attr("stroke-width",2),d3.selectAll(".counties").attr("stroke-width",.5),d3.select(".counties.selected").classed("selected",!1),D(),x(),$(".stateCountySearch").empty().select2({data:_(),placeholder:"Search for your state or county",multiple:!0}),i("US")}),$("#vertical-timeline > g").on({click:function(){$("#vertical-timeline > g.clicked").attr("class","unclicked"),$(this).attr("class","clicked"),SELECTED_MONTH=$(this).attr("data-month"),d3.selectAll(".tick.selected").classed("selected",!1);var t=dataMonths.indexOf(SELECTED_MONTH)+2;d3.select("div.state-lines > svg > g > g.x-axis > g:nth-child("+t+")").classed("selected",!0),d3.selectAll(".dot").attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}),E(),x()},mouseenter:function(){g=SELECTED_MONTH,SELECTED_MONTH=$(this).attr("data-month"),d3.select(this).classed("moused",!0),d3.selectAll(".tick.moused").classed("moused",!1);var t=dataMonths.indexOf(SELECTED_MONTH)+2;d3.select("div.state-lines > svg > g > g.x-axis > g:nth-child("+t+")").classed("moused",!0),d3.selectAll(".dot").attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}),E(),x()},mouseleave:function(){var t=d3.select(this);t.classed("moused",!1),SELECTED_MONTH=g,d3.select(this).classed("clicked")&&(SELECTED_MONTH=t.attr("data-month")),d3.selectAll(".tick.moused").classed("moused",!1),d3.selectAll(".dot").attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}),E(),x()}}),$(".timeline-marker-dot").on({mouseenter:function(t){var e=$(this).attr("data-note"),n=$("#"+e).outerHeight();$("#"+e).css({top:t.pageY-n/2,left:t.pageX+30,opacity:.95,display:"block"})},mouseleave:function(){var t=$(this).attr("data-note");$("#"+t).css({opacity:0,display:"none"})}}),$(".see-more-btn").on("click",function(t){var e=$(this).attr("data-cat");d3.select(this).classed("see-less")?($("#"+e).css("display","none"),$(this).removeClass("see-less"),$(this).children("span").text("MORE")):($("#"+e).css("display","inline-block"),$(this).children("span").text("LESS"),$(this).addClass("see-less"))}),$("#shareUrlBtn").on("click",function(t){getShareUrl()});var a={};function E(){var e=SELECTED_CAT.substring(0,SELECTED_CAT.length-3)+"all";c.filter(function(t){return t.date===SELECTED_MONTH}).forEach(function(t){a[t.place]=+t[e]});var t,n=c.filter(function(t){if(!isNaN(+t[SELECTED_CAT]))return"2/1/2020"===t.date});clusterScale.domain(n.map(function(t){return+t[e]})).range(COLORS.urbanBlue[5]),u.attr("fill",function(t){return a[t.id]?clusterScale(a[t.id]):"#d2d2d2"}),t=clusterScale.clusters(),d3.select("#legend").selectAll("li").remove(),d3.select("#legend").selectAll("li").data(t).enter().append("li").text(function(t){return"median_credit_score_all"===SELECTED_CAT?t:"median_debt_in_collect_all"===SELECTED_CAT?d3.format("$,")(t):d3.format(".1f")(t)+"%"}).style("border-left",function(t){return"20px solid"+clusterScale(t)}),d3.select("#legend").append("li").text("NA").style("border-left","20px solid #d2d2d2"),"nation"!==GEOG_LEVEL&&A(nameFips[SELECTED_STATE])}var b,s=topojson.feature(l,l.objects.counties),w=d3.geoIdentity().fitExtent([[0,0],[mapWidth,mapHeight]],s),M=d3.geoPath().projection(w),u=usMap.append("g").style("cursor","pointer").selectAll("path").data(topojson.feature(l,l.objects.counties).features).enter().append("path").attr("class",function(t){return"counties c"+t.id}).attr("d",M).attr("stroke","white").attr("stroke-width",.5).on("click",function(t){var e=t.id.substring(0,2);{if(S(t))return;if("nation"===GEOG_LEVEL)GEOG_LEVEL="state",SELECTED_STATE=fipsNames[e],A(e),L(),i(e);else if("state"===GEOG_LEVEL||"county"===GEOG_LEVEL)if(i(t.id),$("#readout > li").removeClass("mouse-mate"),$("#readout > li.county").addClass("mouse-mate"),fipsNames[e]!==SELECTED_STATE)GEOG_LEVEL="state",SELECTED_STATE=fipsNames[e],SELECTED_COUNTY="",$("#readout > li.county > span.place").text(""),$("#readout > li.county > span.pct").text(""),A(e),L();else{GEOG_LEVEL="county",SELECTED_COUNTY=t.id,d3.selectAll(".counties").classed("selected",!1);var n=d3.select(this);n.classed("selected",!0),n.moveToFront(),N(),$("ul.select2-selection__rendered > li:nth-child(2)").css("left",C)}x(),$(".stateCountySearch").empty().select2({data:_(),placeholder:"Search for your state or county",multiple:!0,maximumSelectionLength:2}),"county"===GEOG_LEVEL?($(".stateCountySearch").val([SELECTED_COUNTY,e]).trigger("change"),$("ul.select2-selection__rendered > li:nth-child(2)").css("left",C)):$(".stateCountySearch").val(e).trigger("change")}}).on("mouseover",function(t){if(!S(t))if("nation"===GEOG_LEVEL){var e=fipsNames[t.id.substring(0,2)],n=e.toLowerCase(),r=d3.select("path.state-outlines."+n);r.attr("stroke",COLORS.yellow[1]).attr("stroke-width",3),r.moveToFront();fipsNames[t.id];var i=f.filter(function(t){return t.place===e});$("#readout > li.state").addClass("mouse-mate"),$("#readout > li.state > span.place").text(stateNameLookup[e]),$("#readout > li.state > span.pct").text(formatScore(i[dataMonths.indexOf(SELECTED_MONTH)][SELECTED_CAT]))}else{"state"===GEOG_LEVEL&&($("#readout > li.state").removeClass("mouse-mate"),$("#readout > li.county").addClass("mouse-mate"));var o=d3.select(this),a=t.id;if(a.substring(0,2)!==nameFips[SELECTED_STATE])return;var s="LA"===SELECTED_STATE?" Parish":" County",u=p.get(a).county+s,l=c.filter(function(t){return t.date===SELECTED_MONTH}).filter(function(t){return t.place===a})[0][SELECTED_CAT];o.attr("stroke",COLORS.yellow[1]).attr("stroke-width",3),o.moveToFront(),$("#readout > li.county > span.place").text(u),$("#readout > li.county > span.pct").text(formatScore(l))}}).on("mouseout",function(t){if("nation"===GEOG_LEVEL){var e=fipsNames[t.id.substring(0,2)].toLowerCase();d3.select("path.state-outlines."+e).attr("stroke","#FFFFFF").attr("stroke-width",2),d3.select(".counties.selected").moveToFront(),$("#readout > li.state").removeClass("mouse-mate"),$("#readout > li.state > span.place").text(""),$("#readout > li.state > span.pct").text("")}else{if(d3.select(this).attr("stroke","#FFFFFF").attr("stroke-width",1),"state"===GEOG_LEVEL&&($("#readout > li").removeClass("mouse-mate"),$("#readout > li.state").addClass("mouse-mate")),$("#readout > li.county > span.place").text(""),$("#readout > li.county > span.pct").text(""),""!==SELECTED_COUNTY&&"county"===GEOG_LEVEL){var n="LA"===SELECTED_STATE?" Parish":" County",r=p.get(SELECTED_COUNTY).county+n,i=c.filter(function(t){return t.date===SELECTED_MONTH}).filter(function(t){return t.place===SELECTED_COUNTY})[0][SELECTED_CAT];$("#readout > li.county > span.place").text(r),$("#readout > li.county > span.pct").text(formatScore(i))}else $("#readout > li.county > span.place").text(""),$("#readout > li.county > span.pct").text("")}});usMap.append("g").attr("class","states-g").selectAll("path").data(topojson.feature(l,l.objects.states).features).enter().append("path").attr("fill","none").attr("stroke","#FFFFFF").attr("class",function(t){return"state-outlines "+classify(fipsNames[t.id])}).attr("stroke-width",2).attr("d",M);""!=SELECTED_COUNTY&&d3.select(".counties.c"+SELECTED_COUNTY).classed("selected",!0);var C=function(){return $("ul.select2-selection__rendered > li:nth-child(1)").outerWidth()+parseFloat($("ul.select2-selection__rendered > li:nth-child(2)").css("left"))+20};function T(t){var e="";if(IS_MOBILE){var n=$(t.delegateTarget).attr("id");n=n.substring(0,n.length-5),r=$("#"+n).val(),$("#"+n).find(":selected").text()}else{var r=t.params.data.id;t.params.data.text}IS_MOBILE&&"US"===r?(GEOG_LEVEL="nation",SELECTED_STATE="US",SELECTED_COUNTY="",D(),x(),$("#mobile-county-dropdown").empty()):(2<r.length?(GEOG_LEVEL="county",e=(SELECTED_COUNTY=r).substring(0,2),SELECTED_STATE=fipsNames[e],N(),$("#readout > li").removeClass("mouse-mate"),$("#readout > li.county").addClass("mouse-mate"),$(".stateCountySearch").val([SELECTED_COUNTY,e]).trigger("change"),$("ul.select2-selection__rendered > li:nth-child(2)").css("left",C)):(GEOG_LEVEL="state",SELECTED_STATE=fipsNames[r],e=r,L(),$(".stateCountySearch").empty().select2({data:_(),placeholder:"Search for your state or county",multiple:!0,maximumSelectionLength:2}),$(".stateCountySearch").val(e).trigger("change")),d3.selectAll(".counties").classed("selected",!1),d3.select(".counties.c"+SELECTED_COUNTY).classed("selected",!0).moveToFront(),x(),A(e))}function S(t){var e=t.id,n=e.substring(0,2);if("nation"===GEOG_LEVEL)return""===f.filter(function(t){return t.place===fipsNames[n]})[dataMonths.indexOf(SELECTED_MONTH)][SELECTED_CAT];var r=c.filter(function(t){return t.place===e})[dataMonths.indexOf(SELECTED_MONTH)][SELECTED_CAT];return isNaN(r)}function A(e){var t=topojson.feature(l,l.objects.states).features.filter(function(t){return t.id==e})[0];b=b!==t&&t;var n=usMap.selectAll(".state-outlines").classed("active",function(t){}),r=usMap.selectAll(".counties").classed("active",function(t){return t===b}),i=w.translate(),o=w.scale();w.fitSize([mapWidth,mapHeight],b||t);var a=d3.interpolate(i,w.translate()),s=d3.interpolate(o,w.scale()),u=function(t){w.scale(s(t)).translate(a(t)),r.attr("d",M)};d3.transition().duration(450).tween("projection",function(){return u}).on("end",function(){"state"===GEOG_LEVEL?L():"county"===GEOG_LEVEL?N():D(),d3.selectAll(".state-outlines").attr("stroke","#FFFFFF").attr("stroke-width",2),d3.selectAll(".counties").attr("stroke-width",1);var t=SELECTED_STATE.toLowerCase(),e=d3.select("path.state-outlines."+t);return e.attr("stroke",COLORS.yellow[1]).attr("stroke-width",4),e.moveToFront(),n.attr("d",M)})}function D(){var n=SELECTED_CAT.substring(0,SELECTED_CAT.length-3),r=["all","bla","lat","nat","whi"],i=[];r.forEach(function(t){var e={key:t,values:[]};i.push(e)});for(var o=0;o<r.length;o++)h.forEach(function(t){var e={date:t.date,value:+t[n+r[o]]};i[o].values.push(e)});O(i)}function L(){for(var n=SELECTED_CAT.substring(0,SELECTED_CAT.length-3),t=f.filter(function(t){return t.place===SELECTED_STATE}),r=[],i=0;i<DEMOS.length;i++)r.push({key:DEMOS[i],values:[]}),t.forEach(function(t){var e={date:t.date,value:+t[n+DEMOS[i]]};r[i].values.push(e)});r.push({key:"us-all",values:[]}),h.forEach(function(t){var e={date:t.date,value:+t[n+"all"]};r[3].values.push(e)}),O(r)}function N(){for(var n=SELECTED_CAT.substring(0,SELECTED_CAT.length-3),t=c.filter(function(t){return t.place===SELECTED_COUNTY}),e=f.filter(function(t){return t.place===SELECTED_STATE}),r=[{key:"ct-all",values:[]},{key:"ct-coc",values:[]},{key:"ct-whi",values:[]},{key:"us-all",values:[]},{key:"st-all",values:[]}],i=0;i<DEMOS.length;i++)t.forEach(function(t){var e={date:t.date,value:+t[n+DEMOS[i]]};r[i].values.push(e)});h.forEach(function(t){var e={date:t.date,value:+t[n+"all"]};r[3].values.push(e)}),e.forEach(function(t){var e={date:t.date,value:+t[n+"all"]};r[4].values.push(e)}),O(r)}function k(t){var e;$(window).width()<800?(e="nation"===GEOG_LEVEL?d3.select("#mobile-nation-scoreboard"):d3.select("#mobile-state-county-scoreboard"),d3.select(".selected-month").text(d3.timeFormat("%B")(parseTime(SELECTED_MONTH))),d3.select("#nation-scoreboard").style("opacity",0),d3.select("#state-county-scoreboard").style("opacity",0),d3.selectAll(".mobile-chart-tooltip").style("display","none"),e.style("display","block")):(e="nation"===GEOG_LEVEL?d3.select("#nation-scoreboard"):d3.select("#state-county-scoreboard"),d3.selectAll(".mobile-chart-tooltip").style("display","none"));for(var n=d3.nest().key(function(t){return t.date}).entries(t)[dataMonths.indexOf(SELECTED_MONTH)].values,r=0;r<n.length;r++){var i,o;if(i=isNaN(+n[r].value)?"n/a":formatScore(n[r].value),"county"===GEOG_LEVEL){o={"ct-all":"ct-all","ct-coc":"coc","ct-whi":"whi","us-all":"us-all","st-all":"all"}[n[r].key]}else o=n[r].key;e.select("."+o).text(i)}if("state"===GEOG_LEVEL){var a=stateNameLookup[SELECTED_STATE];e.select(".cat.st").text(a),e.select(".name-coc").text(a+" communities of color"),e.select(".name-whi").text(a+" majority white communities"),e.selectAll(".cat.ct, .val.ct, .val.ct-all").style("display","none")}else if("county"===GEOG_LEVEL){a=stateNameLookup[SELECTED_STATE];var s=p.get(SELECTED_COUNTY).county;e.select(".cat.st").text(a),e.select(".name-coc").text(s+" communities of color"),e.select(".name-whi").text(s+" majority white communities"),e.selectAll(".cat.ct, .val.ct, .val.ct-all").style("display","table-cell"),e.select(".cat.ct").text(s)}}function O(t){!function(t){if("median_credit_score_all"===SELECTED_CAT)return y.domain([550,800]);var r=d3.min(t[0].values,function(t){return t.value}),i=d3.max(t[0].values,function(t){return t.value});t.forEach(function(t){var e=d3.min(t.values,function(t){return t.value}),n=d3.max(t.values,function(t){return t.value});e<r&&(r=e),i<n&&(i=n)}),y.domain([0,1.3*i])}(t),function(t){var e,n;"state"===GEOG_LEVEL?e=stateNameLookup[SELECTED_STATE]:"county"===GEOG_LEVEL&&(e=stateNameLookup[SELECTED_STATE],n=p.get(SELECTED_COUNTY).county);for(var r={nation:{all:"All communities",whi:"White",bla:"Black",lat:"Hispanic",api:"AAPI",nat:"Native American"},state:{all:e,coc:e+" communities of color",whi:e+" majority white communities","us-all":"United States"},county:{"ct-all":n,"ct-coc":n+" communities of color","ct-whi":n+" majority white communities","us-all":"United States","st-all":e}},i=0;i<t.length;i++){for(var o=0,a=0;a<t[i].values.length;a++)isNaN(t[i].values[a].value)&&(o+=1);t[i].class=o<nanCounterLimit?"hasData":"noData",o=0}d3.select("#line-legend").selectAll("li").remove(),d3.select("#line-legend").selectAll("li").data(t).enter().append("li").attr("class",function(t){return GEOG_LEVEL+t.key+" "+t.class}).attr("data-group",function(t){return t.key}).html(function(t){return"<div class='legend-dash'></div>"+r[GEOG_LEVEL][t.key]}).on("mouseover",function(t){d3.select("path.data-line."+t.key).attr("stroke-width",6),$(this).children(".legend-dash").css("border-top-width","3px")}).on("mouseout",function(t){d3.select("path.data-line."+t.key).attr("stroke-width",3),d3.selectAll(".dot").attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}),$(this).children(".legend-dash").css("border-top-width","2px")})}(t);for(var r=[],e=0;e<t.length;e++)for(var n=0;n<t[e].values.length;n++){var i={date:t[e].values[n].date,key:t[e].key,value:t[e].values[n].value};r.push(i)}line.x(function(t){return xScale(parseTime(t.date))}).y(function(t){return y(t.value)}).defined(function(t){return!isNaN(t.value)}),lineYAxis.call(yAxis),lineXAxis.call(xAxis),d3.selectAll(".click-catcher").remove(),d3.selectAll(".year-label").remove(),lineXAxis.selectAll(".tick")._groups[0].forEach(function(t){var e=d3.select(t);e.append("text").text("2020").attr("class","year-label").attr("dy",3).attr("y",27).attr("fill","#000000"),e.append("rect").attr("width",(lineChartWidth+lineMargin.left+lineMargin.right)/dataMonths.length).attr("height",lineChartHeight+31).attr("fill","#FFFFFF").attr("fill-opacity",0).attr("class","click-catcher").attr("x",lineChartWidth/dataMonths.length/2*-1).attr("y",-lineChartHeight),e.append("rect").attr("width",lineChartWidth/dataMonths.length).attr("height",2).attr("class","underscore").attr("fill",COLORS.urbanBlue[1]).attr("x",lineChartWidth/dataMonths.length/2*-1).attr("y",40)});var o=dataMonths.indexOf(SELECTED_MONTH)+2;d3.selectAll(".tick.selected").classed("selected",!1),d3.select("div.state-lines > svg > g > g.x-axis > g:nth-child("+o+")").classed("selected",!0),lineYAxis.selectAll(".tick text").attr("x",-8).attr("dy",14),lineYAxis.selectAll(".tick line").attr("x1",-lineMargin.left),t.sort(function(t,e){return e.values[dataMonths.indexOf(SELECTED_MONTH)].value-t.values[dataMonths.indexOf(SELECTED_MONTH)].value});var a=lineChartSvg.selectAll(".data-line").data(t,function(t){return t.key});a.enter().append("path").attr("fill","none").attr("class",function(t){return"data-line "+t.key}).attr("data-label",function(t){return t.key}).attr("stroke",function(t){return colorScheme[GEOG_LEVEL][t.key]}).attr("stroke-width",3).attr("d",function(t){return line(t.values)}),a.transition().attr("d",function(t){return line(t.values)}).attr("stroke",function(t){return colorScheme[GEOG_LEVEL][t.key]}),a.exit().remove();var s=lineChartSvg.selectAll(".dot").data(r);if(s.enter().append("circle").attr("class",function(t){return"dot "+t.key}).attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}).attr("stroke",function(t){return colorScheme[GEOG_LEVEL][t.key]}).attr("stroke-width",2).attr("cx",function(t){return isNaN(t.value)?void 0:xScale(parseTime(t.date))}).attr("cy",function(t){return isNaN(t.value)?void 0:y(t.value)}),s.attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}).attr("stroke",function(t){return colorScheme[GEOG_LEVEL][t.key]}).attr("stroke-width",2).attr("cx",function(t){return isNaN(t.value)?void 0:xScale(parseTime(t.date))}).attr("cy",function(t){return isNaN(t.value)?void 0:y(t.value)}),s.exit().remove(),s.moveToFront(),IS_MOBILE){var u="nation"===GEOG_LEVEL?d3.select("#mobile-nation-scoreboard"):d3.select("#mobile-state-county-scoreboard"),l=25;k(r);o=dataMonths.indexOf(SELECTED_MONTH)+2;d3.select("div.state-lines > svg > g > g.x-axis > g:nth-child("+o+")").classed("selected",!0),"county"===GEOG_LEVEL?$("ul#line-legend").css("padding-bottom","15px"):$("ul#line-legend").css("padding-bottom","0px"),lineXAxis.selectAll(".tick").on("click",function(t){SELECTED_MONTH=d3.timeFormat("%-m/%-d/%Y")(t),x(),d3.selectAll(".tick").classed("selected",!1),d3.select(this).classed("selected",!0),d3.selectAll(".dot").attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}),k(r)})}else{u="nation"===GEOG_LEVEL?d3.select("#nation-scoreboard"):d3.select("#state-county-scoreboard"),l=25;lineXAxis.selectAll(".tick").on("click",function(t){SELECTED_MONTH=d3.timeFormat("%-m/%-d/%Y")(t),d3.select("#vertical-timeline > g.clicked").classed("clicked",!1).classed("unclicked",!0),d3.select("#vertical-timeline > g[data-month='"+SELECTED_MONTH+"']").classed("clicked",!0).classed("unclicked",!1),d3.selectAll(".tick").classed("selected",!1),d3.select(this).classed("selected",!0),d3.selectAll(".dot").attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}),E(),x()}).on("mouseenter",function(t){g=SELECTED_MONTH,SELECTED_MONTH=d3.timeFormat("%-m/%-d/%Y")(t),d3.selectAll(".tick").classed("moused",!1),d3.select(this).classed("moused",!0),d3.selectAll(".dot").attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}),d3.select("#vertical-timeline > g[data-month='"+SELECTED_MONTH+"']").classed("moused",!0),k(r);var e=dataMonths.indexOf(SELECTED_MONTH)+2,n=$("div.state-lines > svg > g > g.x-axis > g:nth-child("+e+")").offset().left;u.style("left",n-u.node().getBoundingClientRect().width/2+29+"px").style("top",$(".data-line").offset().top-u.node().getBoundingClientRect().height-l+"px").style("opacity",1),E(),x()}).on("mouseout",function(t){SELECTED_MONTH=g,d3.selectAll(".tick").classed("moused",!1),d3.select(this).classed("selected")&&(SELECTED_MONTH=d3.timeFormat("%-m/%-d/%Y")(t)),u.style("opacity",0),d3.selectAll("#vertical-timeline > g.moused").classed("moused",!1),d3.selectAll(".dot").attr("r",function(t){return isNaN(t.value)?0:t.date===SELECTED_MONTH?4:2.5}).attr("fill",function(t){return t.date===SELECTED_MONTH?"#FFFFFF":colorScheme[GEOG_LEVEL][t.key]}),E(),x()})}}IS_MOBILE||E(),function(){var n=["all","bla","lat","nat","whi"],r=[];n.forEach(function(t){var e={key:t,values:[]};r.push(e)});for(var i=0;i<n.length;i++)h.forEach(function(t){var e={date:t.date,value:+t["median_credit_score_"+n[i]]};r[i].values.push(e)});var t=[];for(i=0;i<r.length;i++)for(var e=0;e<r[i].values.length;e++){var o={date:r[i].values[e].date,key:r[i].key,value:r[i].values[e].value};t.push(o)}lilChartLine.x(function(t){return xLilChart(parseTime(t.date))}).y(function(t){return yLilChart(t.value)}).defined(function(t){return!isNaN(t.value)}),lilChartYAxisG.call(yAxisLilChart),lilChartXAxisG.call(xAxisLilChart),lilChartYAxisG.selectAll(".tick text").attr("x",-15).attr("dy",14),lilChartYAxisG.selectAll(".tick line").attr("x1",-lilChartMargin.left),lilChartXAxisG.selectAll(".tick")._groups[0].forEach(function(t){return d3.select(t).append("text").text("2020").attr("dy",3).attr("y",27).attr("fill","#000000")}),lilChartSvg.selectAll(".line").data(r).enter().append("path").attr("fill","none").classed("line",!0).attr("stroke",function(t){return colorScheme.nation[t.key]}).attr("stroke-width",3).attr("d",function(t){return lilChartLine(t.values)}),lilChartSvg.selectAll(".top-dot").data(t).enter().append("circle").attr("class","top-dot").attr("r",2.5).attr("stroke",function(t){return colorScheme.nation[t.key]}).attr("fill",function(t){return colorScheme.nation[t.key]}).attr("stroke-width",2).attr("cx",function(t){return xLilChart(parseTime(t.date))}).attr("cy",function(t){return yLilChart(t.value)})}(),"nation"===GEOG_LEVEL?(D(),_(),i("US")):"state"===GEOG_LEVEL?(L(),x(),i(nameFips[SELECTED_STATE]),_(),IS_MOBILE&&($("#mobile-nation-scoreboard").css("display","none"),$("#mobile-state-county-scoreboard").css("display","block")),$(".stateCountySearch").val(nameFips[SELECTED_STATE]).trigger("change")):"county"===GEOG_LEVEL&&(N(),x(),i(SELECTED_COUNTY),_(),$(".stateCountySearch").val(nameFips[SELECTED_STATE]).trigger("change"),$(".stateCountySearch").val([SELECTED_COUNTY,SELECTED_COUNTY.substring(0,2)]).trigger("change"),$("ul.select2-selection__rendered > li:nth-child(2)").css("left",C),$("#mobile-nation-scoreboard").css("display","none"),$("#mobile-state-county-scoreboard").css("display","block")),$("#line-chart-container").css("margin-top",$("#map-header").outerHeight()+10),d3.select(window).on("resize",function(){if(IS_MOBILE=$(window).width()<800,F!==document.body.clientWidth){if(IS_MOBILE){r();var t="nation"===GEOG_LEVEL?d3.select("#mobile-nation-scoreboard"):d3.select("#mobile-state-county-scoreboard");t.style("display","block"),lineChartDivWidth=parseFloat(d3.select(".state-lines").style("width"))}else{if(E(),mapWidth=(mapWidth=parseFloat(d3.select("#map-container").style("width")))-margin.left-margin.right,mapHeight=mapWidth*mapRatio,lineChartDivWidth=parseFloat(d3.select("#line-chart-container").style("width"))-mobileShrinkAmt,usMap.style("width",mapWidth+"px").style("height",mapHeight+"px"),"nation"===GEOG_LEVEL)w.fitExtent([[0,0],[mapWidth,mapHeight]],s),usMap.selectAll(".counties").attr("d",M),usMap.selectAll(".state-outlines").attr("d",M);else{var e=topojson.feature(l,l.objects.states).features.filter(function(t){return t.id==nameFips[SELECTED_STATE]})[0];b=b!==e&&e;usMap.selectAll(".state-outlines").classed("active",function(t){}),usMap.selectAll(".counties").classed("active",function(t){return t===b});w.fitSize([mapWidth,mapHeight],b||e)}var t="nation"===GEOG_LEVEL?d3.select("#mobile-nation-scoreboard"):d3.select("#mobile-state-county-scoreboard");t.style("display","none")}lineChartDivHeight=lineChartDivWidth*lineChartRatio,lineChartWidth=lineChartDivWidth-lineMargin.left-lineMargin.right,lineChartHeight=lineChartDivHeight-lineMargin.top-lineMargin.bottom,d3.select(".state-lines > svg").attr("width",lineChartWidth+lineMargin.left+lineMargin.right).attr("height",lineChartHeight+lineMargin.top+lineMargin.bottom),xScale.range([0,lineChartWidth]),y.range([lineChartHeight,0]),lineChartSvg.selectAll(".x-axis").attr("transform","translate(0,"+lineChartHeight+")").call(xAxis),yAxis.tickSize(-lineChartDivWidth),lineChartSvg.selectAll(".grid").call(yAxis),lineChartSvg.selectAll(".data-line").attr("d",function(t){return line(t.values)}),lineChartSvg.selectAll(".dot").attr("cx",function(t){return isNaN(t.value)?void 0:xScale(parseTime(t.date))}).attr("cy",function(t){return isNaN(t.value)?void 0:y(t.value)}),lilChartDivWidth=parseInt(d3.select("#median-credit-and-race-chart").style("width")),lilChartDivHeight=lilChartDivWidth*lilChartAspectRatio,lilChartWidth=lilChartDivWidth-lilChartMargin.left-lilChartMargin.right,lilChartHeight=lilChartDivHeight-lilChartMargin.top-lilChartMargin.bottom,d3.select("#median-credit-and-race-chart > svg").attr("width",lilChartWidth+lilChartMargin.left+lilChartMargin.right).attr("height",lilChartHeight+lilChartMargin.top+lilChartMargin.bottom),xLilChart.range([0,lilChartWidth]),yLilChart.range([lilChartHeight,0]),lilChartSvg.select(".x-axis").attr("transform","translate(0,"+lilChartHeight+")").call(xAxisLilChart),yAxisLilChart.tickSize(-lilChartDivWidth),lilChartSvg.select(".grid").call(yAxisLilChart),lilChartSvg.selectAll(".line").attr("d",function(t){return lilChartLine(t.values)}),lilChartSvg.selectAll(".top-dot").attr("cx",function(t){return xLilChart(parseTime(t.date))}).attr("cy",function(t){return yLilChart(t.value)}),$("#line-chart-container").css("margin-top",$("#map-header").outerHeight()+10),$("ul.select2-selection__rendered > li:nth-child(2)").css("left",C)}});var F=document.body.clientWidth}d3.queue().defer(d3.csv,"data/formatted/county.csv").defer(d3.csv,"data/formatted/state.csv").defer(d3.csv,"data/formatted/us.csv").defer(d3.csv,"data/dict.csv").defer(d3.csv,"data/state-county-names.csv").defer(d3.csv,"data/autocomplete-src2.csv").defer(d3.json,"https://d3js.org/us-10m.v1.json").await(dataReady);